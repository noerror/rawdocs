# MindAgent: Emergent Gaming Interaction

[https://arxiv.org/abs/2309.09971](https://arxiv.org/abs/2309.09971)

- Sep 2023

### 1 INTRODUCTION

![멀티 에이전트 상호 작용을 위한 MINDAGENT 시스템. MINDAGENT는 다양한 도메인에서 멀티 에이전트 시스템 및 인간-AI 협업에서 복잡한 작업 계획을 가능하게 합니다](MindAgent%20Emergent%20Gaming%20Interaction%20905e94bd105a49f2afce82a3465abe5e/Untitled.png)

멀티 에이전트 상호 작용을 위한 MINDAGENT 시스템. MINDAGENT는 다양한 도메인에서 멀티 에이전트 시스템 및 인간-AI 협업에서 복잡한 작업 계획을 가능하게 합니다

대규모 언어 모델(LLM)은 언어 처리뿐만 아니라 기계 지능에 대한 우리의 이해를 새롭게 바꾸고 있습니다. 이러한 모델은 이제 법률, 의학, 수학적 추론 등 이전에는 전문가만 할 수 있다고 여겨졌던 작업을 처리하고 있습니다. 최근 연구자들은 로봇과 게임 AI를 위한 복잡한 계획을 관리할 수 있는 능력을 탐구하고 있습니다.

이 연구는 특히 어려운 영역인 다중 에이전트 계획에 대해 자세히 살펴봅니다. 이미 가능성을 보인 단일 에이전트 계획과 달리 여러 에이전트를 조정하는 것은 기하급수적으로 더 복잡합니다. 새로운 게임 벤치마크인 CUISINEWORLD가 소개되었습니다. 이 가상 주방 게임에서는 로봇이 함께 협력하여 요리를 만들어야 합니다. 이 설정은 고압력 환경에서 여러 에이전트를 조정하는 LLM의 기술을 테스트합니다.

새로 설계된 인프라인 마인드에이전트는 이러한 LLM이 비디오 게임에 더 잘 통합될 수 있도록 지원합니다. 이를 통해 LLM은 여러 에이전트 간의 작업을 보다 효과적으로 조정하고 예약할 수 있습니다. 테스트 결과 GPT-4와 같은 LLM은 추가 교육 없이도 이미 2~4명의 에이전트를 위한 작업을 관리할 수 있는 것으로 나타났습니다. 고급 프롬프트 기술은 이러한 능력을 더욱 향상시킬 수 있습니다.

LLM이 특정 영역에서는 여전히 전문화된 계획 시스템에 비해 뒤처지지만, 유연성과 적응력은 주목할 만합니다. 텍스트만으로 학습하고, 새로운 시나리오에 적응하며, 여러 영역에서 작업할 수 있습니다. 이 연구에서는 특히 인간과 AI의 상호 작용이 필요한 게임 환경에서 잠재적인 제너럴리스트 멀티 에이전트 플래너로서의 LLM을 보여주는 CUISINEWORLD 벤치마크와 MINDAGENT 인프라를 소개합니다.

### 2 RELATED WORK

멀티 에이전트 조정:

- 전통적으로 다중 에이전트 협업은 MDP/POMDP 프레임워크를 사용했습니다.
- 최근에는 이러한 작업에 대규모 언어 모델(LLM)을 사용하는 것으로 초점이 옮겨졌습니다.
- 대부분의 연구는 한 명 또는 두 명의 에이전트에 대한 작업 성공률을 조사했지만, 이 연구에서는 여러 작업과 두 명 이상의 에이전트가 있는 시나리오에서 협업의 효율성을 조사합니다.
- 이 연구에서는 각 에이전트를 개별적으로 시뮬레이션하는 대신 API 호출이 적고 컨텍스트 길이가 짧아 게임에 적합한 중앙 집중식 시스템을 사용합니다.

LLM을 사용한 계획:

- 여러 연구에서 방대한 도메인 지식과 내재된 계획 능력을 활용하여 작업 계획에 LLM을 활용하고 있습니다.
- 로봇 공학에서는 자연어 명령을 일련의 작업으로 세분화한 다음 로우레벨 컨트롤러를 사용하여 실행하는 데 LLM을 사용합니다. 일부는 더 나은 결과를 위해 환경 피드백을 통합하기도 합니다.
    
    ![도구 및 재료(ings.)의 참여, 요리 단계, 레시피에 따른 최대 혼합 크기에 따른 요리 분포.](MindAgent%20Emergent%20Gaming%20Interaction%20905e94bd105a49f2afce82a3465abe5e/Untitled%201.png)
    
    도구 및 재료(ings.)의 참여, 요리 단계, 레시피에 따른 최대 혼합 크기에 따른 요리 분포.
    

텍스트 기반 게임을 사용한 벤치마크:

- 작업 계획을 검토하기 위한 텍스트 게임은 많이 존재하지만, 다중 에이전트 협업에 초점을 맞춘 게임은 거의 없습니다.
- 대부분의 연구는 두 명의 에이전트를 중심으로 진행되며, 주로 한 명의 지배적인 플레이어와 한 명의 보조 플레이어가 있습니다.
- 이 연구는 여러 에이전트가 동등한 책임을 맡고, 이 에이전트들이 경쟁하는 자원으로 다양한 작업을 수행해야 하는 시나리오를 살펴본다는 점에서 독특합니다.
- 소개한 게임인 CUISINEWORLD는 다른 게임에 비해 더 복잡하고 다양한 도구와 작업 목표를 제공합니다.

요컨대, 다른 연구들이 LLM을 활용한 멀티 에이전트 협업 및 기획의 토대를 마련한 반면, 이 연구는 협업 효율성에 초점을 맞추고 중앙 집중식 시스템을 활용하며 이러한 기능을 테스트하기 위해 더 복잡한 게임 설정을 도입함으로써 한계를 뛰어넘었습니다.

### 3 THE NEW GAMING CUISINEWORLD DESIGN AND BENCHMARK

CUISINEWORLD 게임 디자인 및 벤치마크:

- CUISINEWORLD란? 가상 주방에서 여러 에이전트의 협동에 초점을 맞춘 새로운 게임입니다. 텍스트 인터페이스를 사용하여 가능한 한 많은 요리 주문을 완료하는 것이 목표입니다.
- 디자인 특징: 이 게임은 모듈식으로 되어 있어 더 많은 요리 유형과 다양한 게임 엔진(예: 텍스트 기반, Unity 또는 Minecraft)을 포함할 수 있습니다.

작업 정의:

- 대화형 평가: 평가를 위해 마르코프 의사 결정 프로세스를 적용하여 다중 에이전트 시스템을 관찰 가능한 단일 의사 결정 엔티티로 취급합니다.
- 상태 공간(S): 게임의 '월드'에는 위치(예: 창고, 서빙 테이블, 요리 도구)와 에이전트가 포함됩니다. 각각에 대한 설명이 있으며 게임 상태를 구성합니다.
- 액션 공간(A): 에이전트의 이동 및 상호작용을 위한 명령이 나열됩니다. 여기에는 위치로 이동, 아이템 픽업, 도구 활성화 등이 포함됩니다. 동작은 중복을 피하기 위해 순차적으로 표시됩니다.
- 작업 및 보상: 요리 주문은 작업입니다. 복잡도가 다양하며 일정 간격으로 추가됩니다. 요리를 완료하면 보상을 받고, 제시간에 완료하지 못하면 페널티를 받습니다. 자세한 내용은 부록에 나와 있습니다.
    
    ![우리의 MINDAGENT 아키텍처 개요. 게임 환경: 관련된 게임 정보를 방출합니다. 상태 추출: 이 모듈은 관련 게임 데이터를 구조화된 텍스트 형식으로 변환하여 LLM이 처리할 수 있게 합니다. 디스패처: 우리 인프라의 주요 작업마을이 결정을 내립니다. 메모리 히스토리: 관련 정보를 저장하는 저장 유틸리티. 액션 추출, 텍스트 입력에서 행동을 추출하고 도메인 특정 언어로 변환합니다. 액션 검증: 실행 시 오류를 발생시키지 않도록 행동을 검증합니다.](MindAgent%20Emergent%20Gaming%20Interaction%20905e94bd105a49f2afce82a3465abe5e/Untitled%202.png)
    
    우리의 MINDAGENT 아키텍처 개요. 게임 환경: 관련된 게임 정보를 방출합니다. 상태 추출: 이 모듈은 관련 게임 데이터를 구조화된 텍스트 형식으로 변환하여 LLM이 처리할 수 있게 합니다. 디스패처: 우리 인프라의 주요 작업마을이 결정을 내립니다. 메모리 히스토리: 관련 정보를 저장하는 저장 유틸리티. 액션 추출, 텍스트 입력에서 행동을 추출하고 도메인 특정 언어로 변환합니다. 액션 검증: 실행 시 오류를 발생시키지 않도록 행동을 검증합니다.
    

요기월드 구현하기:

- 영감: 이 게임은 인기 비디오 게임인 "오버쿡드!"에서 영감을 얻었지만 현재 목적에 맞게 단순화했습니다.
- 게임 세부 사항: 규칙은 커뮤니티에서 제공한 소스에서 파생되었습니다. 이 게임에는 10개의 장소, 27개의 재료, 33개의 요리가 있습니다. 난이도는 12단계로 나뉩니다.

평가 지표:

- 협업 점수(CoS): LLM 디스패처가 다양한 시나리오에서 요리 주문을 완료하기 위해 에이전트를 얼마나 잘 조율하는지 측정합니다. 이 지표는 더 많은 작업이 더 효율적인 조율로 이어지는지 측정합니다.
- CoS의 작동 방식: 다양한 작업 간격 조건에 따른 평균 작업 완료율입니다. 주어진 시간 프레임에서 완료된 작업 수와 실패한 작업 수를 비교합니다.

기본적으로 CUISINEWORLD는 동적인 주방 환경에서 대규모 언어 모델이 여러 에이전트를 얼마나 잘 조정할 수 있는지 테스트하기 위한 텍스트 기반 게임입니다. 오버쿡드에서 영감을 받은 이 게임은 다양한 과제를 제공하고 고유한 협업 점수를 기반으로 성과를 평가합니다.

### 4 MINDAGENT: INFRASTRUCTURE FOR GAMING AI

목적: 마인드에이전트는 게임 벤치마크인 CUISINEWORLD에 맞춰진 LLM(대규모 언어 모델)을 위한 멀티 에이전트 플래닝 프레임워크입니다. 게임 시나리오에서 스케줄링 및 조율에 있어 LLM의 기능을 강조합니다.

프레임워크 컴포넌트:

- 프롬프트: 네 부분으로 나뉩니다:
    - 레시피: 요리 준비를 위한 단계별 절차.
    - 지침: 허용되는 에이전트 행동 및 도구를 포함한 게임의 핵심 규칙입니다.
    - 추론 지식: 상담원의 게임 플레이를 개선하기 위한 힌트를 제공합니다.
    - 원샷 데모: 독특한 요리를 준비하기 위한 포괄적인 데모입니다.
- 현재 상태: 게임 환경에서 실시간으로 관찰되는 사항을 반영합니다. 여기에는 에이전트 위치, 들고 있는 물건, 사용 가능한 도구, 각 도구의 재료, 활성 도구가 포함됩니다. 규칙 위반 시 피드백도 제공됩니다.
- 메모리 기록: 에이전트 및 환경 상태를 포함하여 환경과의 모든 과거 상호작용을 기록합니다.

인터페이스 모듈:

- 액션 추출: LLM의 텍스트 출력을 처리하여 에이전트 작업을 도출합니다.
- 액션 유효성 검사: 제안된 액션의 실행 가능성을 확인합니다.

메커니즘:

- 주어진 수의 에이전트에 대해 각 에이전트는 하위 작업으로 구성된 일련의 작업을 완료해야 합니다. 작업에는 특정 만료 시간이 있습니다. 목표는 실패를 최소화하면서 최대한 많은 작업을 완료하는 것입니다.
- 시간 제약 하에서 에피소드의 효용을 극대화하는 것을 목표로 하는 최적화 문제가 공식화됩니다. 이 문제를 다항식 시간 내에 해결하는 것은 어렵기 때문에 LLM을 솔루션 전략으로 사용합니다.
- 프레임워크는 LLM이 최적화 방정식을 푸는 데 도움이 되는 방식으로 설계되었습니다. 보상은 환경의 피드백으로 자연어로 표현됩니다. 제약 조건은 LLM을 안내하기 위해 반복적으로 강조됩니다.

본질적으로 마인드에이전트는 가상 게임 시나리오, 특히 유니티월드에서 멀티 에이전트 조정 및 스케줄링을 최적화하기 위해 LLM의 기능을 활용하는 혁신적인 프레임워크입니다. 구조화된 프롬프트, 실시간 상태 모니터링, 과거 상호작용에 대한 메모리를 결합하여 최적의 에이전트 행동을 유도합니다.

### 5 EXPERIMENTS AND RESULTS

설정: 상담원 파견, 협업, 사람의 인식, 다른 LLM과의 성능에 대한 다양한 연구 질문을 분석하기 위해 CUISINEWORLD에서 실험을 수행했습니다.

LLM 설정: gpt-4-0613 및 gpt-3.5-turbo0613과 같은 특정 GPT 모델 및 설정으로 OpenAI 및 인공 지능 API를 활용했습니다.

실험 1:

- LLM이 멀티 에이전트(NPC)를 파견하는 방식에 중점을 두었습니다.
- 실험 결과 에이전트가 많을수록 시스템 성능이 향상되는 것으로 나타났습니다. 그러나 덜 까다로운 조건에서는 성능이 저하될 수 있습니다.

실험 II:

- 인간과 멀티 NPC가 LLM과 협업하는 실험.
- 실험을 시작하기 전에 참가자에게 게임에 대한 브리핑을 제공하고 언제든지 실험을 중단할 수 있도록 했습니다. 행동과 피드백을 추적했습니다.
- 목표는 인간-AI 팀의 성과와 사용자의 인식을 평가하는 것이었습니다.

주요 결과:

- AI 에이전트와 협업하면 혼자 작업할 때보다 생산성과 성공률이 더 높았습니다.
- 인간은 지능형 에이전트와 협업할 때 게임을 더 즐겼습니다.
- 에이전트가 많을수록 플레이어의 참여도가 낮아져 게임의 즐거움이 감소했습니다.
- 지능형 에이전트는 무작위 에이전트보다 더 예측 가능했습니다.
    
    ![다양한 작업에서의 협업 결과](MindAgent%20Emergent%20Gaming%20Interaction%20905e94bd105a49f2afce82a3465abe5e/Untitled%203.png)
    
    다양한 작업에서의 협업 결과
    

퀴진월드 시각화:

- 퀴진월드는 플레이어가 NPC와 협업할 수 있도록 이전 작업을 기반으로 개발되었습니다.
- 키보드를 사용하거나 VR 기기를 통해 게임을 플레이하면 더욱 몰입감 있는 경험을 할 수 있습니다.

![(a) 협업 점수. 인간 플레이어와 함께 협업하는 에이전트가 더 많으면 협업 점수가 높아집니다. (b) 인지된 즐거움. 플레이어는 적절한 수의 에이전트와 협업하면 게임을 더 즐깁니다. (c) 협업으로 인한 더 재미있게 인식됩니다. 플레이어는 유능한 에이전트와 협업하기 때문에 게임을 더 즐깁니다.](MindAgent%20Emergent%20Gaming%20Interaction%20905e94bd105a49f2afce82a3465abe5e/Untitled%204.png)

(a) 협업 점수. 인간 플레이어와 함께 협업하는 에이전트가 더 많으면 협업 점수가 높아집니다. (b) 인지된 즐거움. 플레이어는 적절한 수의 에이전트와 협업하면 게임을 더 즐깁니다. (c) 협업으로 인한 더 재미있게 인식됩니다. 플레이어는 유능한 에이전트와 협업하기 때문에 게임을 더 즐깁니다.

![(d) 인지된 지원. 작업 성공률이 높아도 인간이 에이전트와 협업할 때 도움이되는지에 대한 인식에는 큰 차이가 없습니다. (e) 인지된 의존성. 에이전트와 더 많이 협력할 때 플레이어는 에이전트에게 더 의존합니다. (f) 인지된 예측 가능성. 에이전트와 더 많이 협력할 때 에이전트의 행동의 예측 가능성에 차이가 없습니다.](MindAgent%20Emergent%20Gaming%20Interaction%20905e94bd105a49f2afce82a3465abe5e/Untitled%205.png)

(d) 인지된 지원. 작업 성공률이 높아도 인간이 에이전트와 협업할 때 도움이되는지에 대한 인식에는 큰 차이가 없습니다. (e) 인지된 의존성. 에이전트와 더 많이 협력할 때 플레이어는 에이전트에게 더 의존합니다. (f) 인지된 예측 가능성. 에이전트와 더 많이 협력할 때 에이전트의 행동의 예측 가능성에 차이가 없습니다.

![(g) 인지된 생산성. 플레이어는 AI 에이전트와의 협업이 생산성을 향상시킬 것이라고 생각합니다. (h) 인지된 신뢰. 에이전트와 더 많이 협력할 때 신뢰에 대한 차이가 없습니다.](MindAgent%20Emergent%20Gaming%20Interaction%20905e94bd105a49f2afce82a3465abe5e/Untitled%206.png)

(g) 인지된 생산성. 플레이어는 AI 에이전트와의 협업이 생산성을 향상시킬 것이라고 생각합니다. (h) 인지된 신뢰. 에이전트와 더 많이 협력할 때 신뢰에 대한 차이가 없습니다.

### 6 ANALYSIS AND EMERGENT GAMING ABILITIES

![상단의 두 이미지는 CuisineWorld에서의 멀티 에이전트 협업 예를 보여줍니다. 세 에이전트가 혼합 주스를 준비하고 있습니다. 중간의 두 이미지는 헤드 셰프로서의 인간 플레이어가 에이전트에게 혼합 주스를 요리하도록 지시하는 것을 보여줍니다. 하단의 두 이미지는 VR에서 협력하는 에이전트와 협력하는 인간 플레이어를 보여줍니다.](MindAgent%20Emergent%20Gaming%20Interaction%20905e94bd105a49f2afce82a3465abe5e/Untitled%207.png)

상단의 두 이미지는 CuisineWorld에서의 멀티 에이전트 협업 예를 보여줍니다. 세 에이전트가 혼합 주스를 준비하고 있습니다. 중간의 두 이미지는 헤드 셰프로서의 인간 플레이어가 에이전트에게 혼합 주스를 요리하도록 지시하는 것을 보여줍니다. 하단의 두 이미지는 VR에서 협력하는 에이전트와 협력하는 인간 플레이어를 보여줍니다.

다중 에이전트를 위한 절제 연구:

- 프롬프트 구성 요소 연구(Q3): 추론 지식과 같은 요소를 제외하고 프롬프트를 두 단계로 축소하고 환경 피드백 없이 작동하여 성능을 분석했습니다.
- 결과: 환경 피드백을 제거하자 성능이 크게 떨어졌습니다. 제한된 지시에도 불구하고 모델은 주어진 지시를 넘어서는 작업을 성공적으로 수행했습니다. 사람이 만든 추론 지식을 포함하면 LLM 디스패처의 성능이 향상되었습니다. 데모에 참여한 에이전트 수가 적었음에도 불구하고 성능은 여전히 양호했습니다.
- 기타 LLM의 성능(4분기): GPT-3.5, Claude-2, LLaMA와 같은 모델의 성능을 테스트했습니다.
- 결과: 대부분의 LLM이 저조한 성능을 보였지만, Claude-2는 뛰어난 작업 완료율을 보였습니다.

새로운 기능:

- 새로운 협업 과제 이해: GPT-4는 제한된 데모에서도 능숙함을 보여줬으며, 제로샷 멀티 에이전트 계획 기술을 강조했습니다. 여러 작업을 동시에 처리하면서 동적으로 적응했습니다.
- 긴급 다중 에이전트 추론 능력: GPT-4는 적은 수의 에이전트로 데모를 수행한 경우에도 더 많은 에이전트를 파견할 수 있었으며, 에이전트 수가 증가함에 따라 효율성이 향상되었습니다.

### 7 NOVEL GAME ADAPTATION

마인크래프트 통합:

- 인기 게임 마인크래프트에 협업 멀티 에이전트 시스템을 적용하여 게임 내 에이전트 알렉스와 스티브의 요리 작업을 설계했습니다.
- 에이전트는 고기를 요리하고 아이템을 상자에 넣는 등의 작업을 수행합니다.
    
    ![상단의 두 이미지는 Minecraft에서의 멀티 에이전트 협업 예를 보여줍니다. 왼쪽 이미지에서 Alex와 Steve는 다른 동물들을 죽이고, 오른쪽 이미지에서 Alex와 Steve는 함께 가마솥에서 고기를 요리하고 있습니다. 중간의 두 이미지는 인간 플레이어가 에이전트에게 특정 행동을 수행하도록 지시하는 것을 보여줍니다. 하단의 두 이미지는 VR에서 에이전트와 협력하는 인간 플레이어를 보여줍니다.](MindAgent%20Emergent%20Gaming%20Interaction%20905e94bd105a49f2afce82a3465abe5e/Untitled%208.png)
    
    상단의 두 이미지는 Minecraft에서의 멀티 에이전트 협업 예를 보여줍니다. 왼쪽 이미지에서 Alex와 Steve는 다른 동물들을 죽이고, 오른쪽 이미지에서 Alex와 Steve는 함께 가마솥에서 고기를 요리하고 있습니다. 중간의 두 이미지는 인간 플레이어가 에이전트에게 특정 행동을 수행하도록 지시하는 것을 보여줍니다. 하단의 두 이미지는 VR에서 에이전트와 협력하는 인간 플레이어를 보여줍니다.
    

정의된 작업:

- 에이전트의 작업에는 특정 위치로 이동하기, 몹 처치하기, 블록 채굴하기, 용광로 다루기, 상자에 아이템 보관하기 등이 포함됩니다.

상태 공간:

- 게임 환경에는 주변 블록, 엔티티, 에이전트 인벤토리, 용광로와 상자에 있는 아이템, 인간 플레이어의 인벤토리(있는 경우)가 포함됩니다.

재현성:

- 게임 메커니즘을 조정하여 처치한 몹과 채굴한 블록을 다시 부활시켰습니다.

주요 결과:

- 게임 세션에서 얻은 데이터는 개발된 멀티 에이전트 협업 시스템의 견고함을 보여주며, 다른 게임에서도 사용할 수 있는 가능성을 시사합니다.

인간-AI 상호 작용:

- Microsoft의 Azure 음성-텍스트 API를 통합하여 인간 플레이어와 게임 내 NPC 에이전트 간의 실시간 음성 커뮤니케이션이 가능해졌습니다.
- 이 기능은 몰입감을 높이고 협업을 촉진하며 사람의 상호작용에 영향을 받는 음성 지원 AI 학습에 대한 연구 잠재력을 소개합니다.
- 플레이어 상호작용의 경우 이제 프롬프트에 사람의 지시 사항과 대화 기록이 포함됩니다.

VR 통합:

- 마인크래프트의 VR 모드와 멀티 에이전트 시스템을 통합하여 플레이어에게 몰입감 넘치는 인터랙티브 경험을 제공합니다.

이 섹션에서는 마인크래프트에 협업 AI 시스템을 적용하여 음성 커뮤니케이션으로 게임플레이를 개선하고 다른 게임 환경에서도 이러한 시스템을 적용할 수 있는 가능성을 모색한 개발팀의 성공적인 노력을 중점적으로 다룹니다.

### 8 CONCLUSION

이 연구에서는 비디오 게임에서 AI 기반 멀티 에이전트 협업을 위해 설계된 플랫폼인 마인드에이전트(MINDAGENT)를 소개했습니다. 마인드에이전트는 실제 게임에 적용되어 AI와 AI 간의 상호작용과 인간과 AI 간의 상호작용 모두에서 그 잠재력을 보여주었습니다. 목표는 플레이어와 AI가 손쉽게 협업할 수 있는 미래 게임 디자인에 영감을 주는 것입니다. 또한, 수집된 인사이트를 통해 게임을 더욱 기술적으로 정교하고 재미있게 만들기 위한 새로운 아이디어를 창출하는 것을 목표로 합니다.