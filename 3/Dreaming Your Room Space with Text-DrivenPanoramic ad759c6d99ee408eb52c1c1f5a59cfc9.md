# Dreaming Your Room Space with Text-DrivenPanoramic Texture Propagation

[https://github.com/ybbbbt/dreamspace](https://github.com/ybbbbt/dreamspace)

[https://ybbbbt.com/publication/dreamspace/](https://ybbbbt.com/publication/dreamspace/)

[https://ybbbbt.com/publication/dreamspace/media/DreamSpace.pdf](https://ybbbbt.com/publication/dreamspace/media/DreamSpace.pdf)

- 2023

![드림스페이스는 사용자가 텍스트 프롬프트를 통해 공간의 외관을 개인화할 수 있도록 지원하며, HMD 기기에서 몰입감 넘치는 VR 경험을 제공합니다. 특히 현실 세계에서 캡처한 방이 주어지면 사용자의 텍스트 입력을 기반으로 매혹적이고 전체적인 메시 텍스처를 생성하는 동시에 의미적 일관성과 공간적 일관성을 보장합니다(예: 소파는 여전히 소파로 인식할 수 있는 형태를 유지하지만 판타지 스타일로 표시).](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled.png)

드림스페이스는 사용자가 텍스트 프롬프트를 통해 공간의 외관을 개인화할 수 있도록 지원하며, HMD 기기에서 몰입감 넘치는 VR 경험을 제공합니다. 특히 현실 세계에서 캡처한 방이 주어지면 사용자의 텍스트 입력을 기반으로 매혹적이고 전체적인 메시 텍스처를 생성하는 동시에 의미적 일관성과 공간적 일관성을 보장합니다(예: 소파는 여전히 소파로 인식할 수 있는 형태를 유지하지만 판타지 스타일로 표시).

### 1. Introduction

이 백서에서는 텍스트 프롬프트를 사용하여 현실 세계의 실내 장면을 몰입감 넘치는 판타지 스타일의 환경으로 변환하는 새로운 프레임워크를 소개합니다. 이 기술은 헤드 마운트 디스플레이(HMD) 기기의 발전과 6자유도(6-DoF) 렌더링을 활용하여 사용자가 스타일라이즈된 가상 장면을 경험할 수 있도록 합니다. 기존의 씬 스타일라이제이션 방식은 의미적으로 의미 있는 텍스처를 생성하지 못하거나 전체 공간에 대한 고충실도 텍스처를 실시간으로 생성하는 데 어려움을 겪는 등의 한계가 있었습니다. 최근의 확산 기반 생성 방법은 텍스트 프롬프트에서 이미지를 합성하는 데 진전을 이루었지만, 이러한 이미지를 3D 씬 지오메트리에 원활하게 적용하는 데는 여전히 어려움을 겪고 있습니다.

제안된 프레임워크는 텍스트 프롬프트에서 씬 메시의 텍스처를 생성하여 의미적 일관성과 공간적 일관성을 보장함으로써 이러한 문제를 해결합니다. 이 프로세스에는 초기 파노라마 텍스처를 생성한 다음 전체 씬을 덮도록 전파하고 이러한 텍스처를 VR 애플리케이션용 메시로 베이크하는 과정이 포함됩니다. 이 백서에서는 이음새 없는 고해상도 텍스처 구현, 텍스처와 씬 지오메트리의 정렬, 복잡한 씬의 복잡한 오클루전 커버 등 특정 장애물을 극복하기 위한 하향식 접근 방식을 간략하게 설명합니다. 이 프레임워크에는 거친 텍스처에서 미세한 텍스처 생성 전략, 이중 텍스처 정렬 메커니즘, 인페인팅과 암시적 모방 기술을 결합한 전체론적 텍스처 전파 패러다임이 포함됩니다.

이 논문의 기술적 기여는 상당합니다. 이 논문은 텍스트 프롬프트를 기반으로 매력적이고 일관된 텍스처를 생성할 수 있는 새로운 씬 레벨 메시 텍스처링 프레임워크를 제시합니다. 이 접근 방식은 정확한 원근감, 고해상도, 텍스처와 지오메트리 간의 정렬을 보장합니다. 또한 실제 장면의 복잡한 지오메트리를 효과적으로 처리할 수 있습니다. 광범위한 실험을 통해 이 방식이 기존 방식을 능가하는 품질로 HMD 기기에서 인상적이고 몰입감 넘치는 VR 경험을 제공한다는 사실이 입증되었습니다.

### 2. Related Works

이 논문에서는 씬 레벨 스타일라이제이션과 텍스처 생성의 진화를 살펴보고, 특히 이러한 기술을 몰입감 있는 실제 실내 씬에 적용하여 HMD 기기에 사용할 때의 어려움을 중점적으로 다룹니다.

씬 레벨 스타일라이제이션: 초기에 신경망 기반 스타일라이제이션에는 레퍼런스 스타일 이미지가 필요했고 2D로 스타일을 전송하는 데 모델을 사용했습니다. 뉴럴 렌더링이 발전함에 따라 이러한 기술은 3D 공간으로 확장되어 밀도 필드를 정적으로 유지하면서 컬러 필드의 모양을 최적화했습니다. 최근의 방법에서는 언어 프롬프트에 반응하는 스타일화를 달성하기 위해 CLIP 모델과 같은 데이터 기반 접근 방식을 사용했습니다. 하지만 이러한 방법은 계산 요구 사항, 스타일에 의미론적 의미가 부족하거나 실제 씬이 아닌 구조화된 CAD 모델에 의존하기 때문에 VR 경험에 적합한 대형 실내 씬에 적용하기에는 부족한 경우가 많습니다.

디퓨전 기반 메시 텍스처 생성: 대규모 비전 언어 모델의 등장으로 생성 방법이 크게 발전했으며, 고해상도 이미지, 사람의 목소리, 3D 모델을 생성할 수 있는 디퓨전 기반 모델이 주목받고 있습니다. 이러한 모델은 안정적 확산과 마찬가지로 텍스처 및 메시 생성을 비롯한 다양한 애플리케이션에 적용되었습니다. 그러나 사전 캡처한 장면 재구성을 위해 깨끗한 텍스처를 생성하는 것은 여전히 어려운 과제입니다. 메시 텍스처 생성에는 두 가지 주요 접근 방식이 있습니다. 스코어 증류 샘플링 손실을 사용하여 생성형 NeRF를 훈련시키는데, 이는 종종 흐릿한 텍스처를 생성하거나 3D 지오메트리와 일치하는 2D 텍스처를 생성하여 UV 텍스처에 투영하는 방식이 있습니다. 후자의 접근 방식은 3D 구조에 더 잘 부합하지만 2D에서 3D로의 텍스처링이 모호하고 오클루전 및 복잡한 씬 구조를 고려하지 못하는 경우가 많습니다.

이 논문에서는 오클루전과 복잡한 디테일을 고려하여 파노라마 텍스처를 생성하고 씬 전체에 전파하는 새로운 접근 방식을 제안함으로써 이러한 문제를 해결할 수 있는 방법을 제시합니다. 이 방법은 강력한 의미적 의미를 가진 텍스처를 합성하고 공간적 일관성을 보장하여 실제 장면 재구성을 위한 몰입감 있고 시각적으로 일관된 텍스처를 생성하는 데 있어 현재 기술의 한계를 극복하는 것을 목표로 합니다.

### 3. Method

드림스페이스: 텍스트 중심 프레임워크

이 백서에서는 실제 실내 씬에 의미적으로 의미 있고 공간적으로 일관된 텍스처를 생성하도록 설계된 프레임워크인 드림스페이스를 소개합니다. 이 프로세스에는 씬의 중앙 지점에서 360° 파노라마 뷰를 생성한 다음 이 텍스처를 전체 공간에 퍼뜨리는 과정이 포함됩니다.

![드림스페이스의 프레임워크. 재구성된 실제 장면과 사용자의 텍스트 프롬프트가 주어지면 먼저 중앙 시점에 기하학적으로 정렬된 고해상도 파노라마 텍스처를 생성합니다. 그런 다음 텍스처를 나머지 영역으로 전파하는 전체론적 텍스처 전파를 통해 텍스처를 전파하는데, 기밀 텍스처 인페인팅은 큰 확신 영역의 텍스처를 채우고 암시적 텍스처 모방은 작은 영역의 색상을 예측합니다. 베이크된 스타일라이즈드 UV 텍스처가 포함된 결과 씬 메시를 HMD 기기에 업로드하여 몰입감 있는 VR 투어를 진행할 수 있습니다.](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%201.png)

드림스페이스의 프레임워크. 재구성된 실제 장면과 사용자의 텍스트 프롬프트가 주어지면 먼저 중앙 시점에 기하학적으로 정렬된 고해상도 파노라마 텍스처를 생성합니다. 그런 다음 텍스처를 나머지 영역으로 전파하는 전체론적 텍스처 전파를 통해 텍스처를 전파하는데, 기밀 텍스처 인페인팅은 큰 확신 영역의 텍스처를 채우고 암시적 텍스처 모방은 작은 영역의 색상을 예측합니다. 베이크된 스타일라이즈드 UV 텍스처가 포함된 결과 씬 메시를 HMD 기기에 업로드하여 몰입감 있는 VR 투어를 진행할 수 있습니다.

파노라마 텍스처 생성

이 프로세스는 정확한 공간 구조를 캡처하는 저해상도 파노라마 뷰를 생성하는 것으로 시작됩니다. 그런 다음 이 뷰를 고해상도로 업스케일링합니다. 파노라마 확산 모델은 장면의 지오메트리 및 텍스처 단서에 따라 조정된 이미지를 생성하도록 학습됩니다. 파노라마 뷰를 매끄럽게 생성하기 위해 생성 과정에서 비대칭 타일링 전략이 사용되며, 모든 이음새는 인페인팅 프로세스를 통해 수정됩니다.

이중 텍스처 정렬

스타일 텍스처의 필요성과 기하학적 정렬의 균형을 맞추기 위해 이중 텍스처 블렌딩 방식이 사용됩니다. 스타일을 우선시하는 파노라마와 정렬에 중점을 둔 파노라마 두 가지 유형이 생성됩니다. 그런 다음 깊이 가장자리를 사용하여 블렌딩 프로세스를 안내하고 장면의 지오메트리와 텍스처의 정렬을 유지하는 지오메트리 인식 방식으로 블렌딩됩니다.

전체적인 텍스처 전파

스타일라이즈드 파노라마 뷰는 UV 맵을 사용하여 씬에 투영됩니다. 가시성 테스트를 통해 보이는 영역에만 텍스처가 적용되도록 합니다. 직접 보이지 않는 영역에는 별도의 전략을 사용합니다:

![듀얼 텍스처 정렬 개요. 지오메트리와 텍스처의 정렬 불일치를 완화하기 위해 먼저 스타일 우선 파노라마와 정렬 우선 파노라마를 합성한 다음, 깊이 가장자리 감지에 따라 이러한 이중 텍스처를 블렌딩하여 시각적으로 매력적인 스타일화된 디테일을 유지하면서 정렬된 파노라마 텍스처를 가져옵니다.](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%202.png)

듀얼 텍스처 정렬 개요. 지오메트리와 텍스처의 정렬 불일치를 완화하기 위해 먼저 스타일 우선 파노라마와 정렬 우선 파노라마를 합성한 다음, 깊이 가장자리 감지에 따라 이러한 이중 텍스처를 블렌딩하여 시각적으로 매력적인 스타일화된 디테일을 유지하면서 정렬된 파노라마 텍스처를 가져옵니다.

![암시적 텍스처 모방 개요. 먼저 UV 픽셀의 씬 좌표에 따라 UV 텍스처에서 색상을 리프팅합니다. 그런 다음 훈련 단계에서 리프팅된 실제/스타일라이즈드 색상과 좌표를 사용하여 보이는 스타일라이즈드 영역에서 암시적 텍스처 모방 네트워크를 훈련합니다. 모방 단계에서는 실제 색상과 좌표를 네트워크에 공급하여 보이지 않는 영역에서 그럴듯한 텍스처를 모방합니다.](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%203.png)

암시적 텍스처 모방 개요. 먼저 UV 픽셀의 씬 좌표에 따라 UV 텍스처에서 색상을 리프팅합니다. 그런 다음 훈련 단계에서 리프팅된 실제/스타일라이즈드 색상과 좌표를 사용하여 보이는 스타일라이즈드 영역에서 암시적 텍스처 모방 네트워크를 훈련합니다. 모방 단계에서는 실제 색상과 좌표를 네트워크에 공급하여 보이지 않는 영역에서 그럴듯한 텍스처를 모방합니다.

컨피덴셜 텍스처 인페인팅: 이 단계에서는 특정 시점에서 오클루전이 없는 것으로 확인된 영역을 채웁니다. 뎁스 에지 필터링, 안전 시야각, 가시성 테스트를 조합하여 텍스처가 정확하다고 확신하는 영역에만 인페인팅이 이루어지도록 합니다.

암시적 텍스처 모방: 텍스처가 남아 있지 않거나 직접 관찰되지 않는 영역의 경우 암시적 텍스처 모방 네트워크가 그럴듯한 텍스처를 예측합니다. 이 네트워크는 부분적으로 양식화된 장면에서 학습하고 이 학습을 적용하여 보이지 않는 영역의 텍스처를 예측하여 공간적 일관성을 보장합니다.

이 방법을 사용하면 생성된 파노라마 뷰를 정확하게 반영하고 표준 그래픽스 파이프라인을 사용하여 렌더링할 수 있는 완전한 텍스처의 씬 메시가 생성됩니다. 이 메시를 사용하면 PC 스트리밍 없이도 올인원 HMD 기기에서 몰입형 경험을 제공할 수 있습니다.

### 4. Experiments

4.1 데이터 세트

이 연구에서는 두 가지 데이터 세트를 소개합니다: 드림스팟과 레플리카. 드림스팟은 이 연구를 위해 새로 만든 데이터세트로 회의실, 거실, 침실과 같은 일반적인 실내 장면을 iPhone으로 캡처하고 기하학적 재구성 및 텍스처 매핑을 위해 처리한 것입니다. 반면에 레플리카 데이터 세트는 실제 장면 세 개로 구성되어 있으며, 블렌더를 사용하여 외관을 UV 텍스처로 베이크하여 이 연구에 맞게 조정했습니다.

![캡처한 드림스팟 데이터세트에서 씬 레벨 메시 텍스처링을 StyleMesh [22], MVDiffusion [50], TEXTure [40]와 비교한 것으로, 그림에는 텍스처링된 씬 메시의 개요와 해당 렌더링된 뷰가 포함되어 있습니다.](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%204.png)

캡처한 드림스팟 데이터세트에서 씬 레벨 메시 텍스처링을 StyleMesh [22], MVDiffusion [50], TEXTure [40]와 비교한 것으로, 그림에는 텍스처링된 씬 메시의 개요와 해당 렌더링된 뷰가 포함되어 있습니다.

![씬 레벨 메시 텍스처링을 레플리카 데이터 세트의 스타일메시[22], 엠브이디퓨전[50] 및 텍스처[40]와 비교한 것으로, 그림에는 텍스처링된 씬 메시의 개요와 해당 렌더링된 뷰가 포함되어 있습니다.](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%205.png)

씬 레벨 메시 텍스처링을 레플리카 데이터 세트의 스타일메시[22], 엠브이디퓨전[50] 및 텍스처[40]와 비교한 것으로, 그림에는 텍스처링된 씬 메시의 개요와 해당 렌더링된 뷰가 포함되어 있습니다.

4.2 제너레이티브 메시 텍스처링 비교

연구진은 텍스트 프롬프트에서 합성된 텍스처가 씬의 지오메트리와 의미적 의미에 얼마나 잘 부합하는지에 중점을 두고 텍스처링 프레임워크와 최신 방법을 비교했습니다. 텍스처링에 대한 접근 방식이 다른 스타일메시(StyleMesh)와 텍스처(TEXTure) 등 다양한 방법을 비교에 사용했습니다. 이 방법은 정성적 및 정량적 측정 모두에서 다른 방법보다 우수한 성능을 보였으며, CLIP 점수와 심미적 점수에서 더 높은 점수를 획득하여 텍스트 프롬프트와 더 잘 일치하고 렌더링된 보기의 품질이 더 높음을 나타냅니다.

![메시 텍스처링을 다른 공간에서 생성된 텍스처(즉, 파노라마 텍스처 또는 큐브맵 텍스처)와 비교합니다.](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%206.png)

메시 텍스처링을 다른 공간에서 생성된 텍스처(즉, 파노라마 텍스처 또는 큐브맵 텍스처)와 비교합니다.

4.3 파노라마 텍스처와 큐브맵 텍스처 비교

이 연구는 파노라마 공간 텍스처 합성이 씬 레벨 메시 텍스처링에 있어 큐브맵 공간보다 우수하다고 주장합니다. 파노라마 텍스처링이 더 나은 글로벌 일관성과 공간적 일관성을 제공하여 큐브맵 텍스처에서 발생할 수 있는 과도한 디테일이나 전환 불량과 같은 문제를 피할 수 있음을 보여줍니다.

![파노라마 텍스처를 생성하는 동안 거친-세밀한 업스케일링과 직각 심 픽싱을 포함한 거친-세밀한 전략에 대한 제거 연구를 수행합니다.](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%207.png)

파노라마 텍스처를 생성하는 동안 거친-세밀한 업스케일링과 직각 심 픽싱을 포함한 거친-세밀한 전략에 대한 제거 연구를 수행합니다.

4.4 어블레이션 연구

연구원들은 텍스처링 프레임워크의 다양한 구성 요소의 중요성을 이해하기 위해 제거 연구를 수행했습니다. 그 결과, 세밀하고 일관된 텍스처를 생성하려면 거칠고 미세한 전략과 직각 이음새 고정이 중요하다는 사실을 발견했습니다. 또한 텍스처를 실제 지오메트리에 정렬하려면 이중 텍스처 정렬이 필요한 것으로 나타났습니다. 또한 보이지 않는 공간을 커버하고 몰입형 VR 경험을 향상시키기 위해서는 인페인팅 및 모방과 같은 텍스처 전파 기술이 필수적이었습니다.

![초기 파노라마 공간과 렌더링된 메시에서 이중 텍스처 정렬의 효율성을 검사합니다.](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%208.png)

초기 파노라마 공간과 렌더링된 메시에서 이중 텍스처 정렬의 효율성을 검사합니다.

![전체 텍스처 전파에서 모방과 인페인팅의 효과를 분석합니다](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%209.png)

전체 텍스처 전파에서 모방과 인페인팅의 효과를 분석합니다

4.5 몰입형 VR 애플리케이션

마지막으로 이 연구에서는 텍스처링 기법을 몰입형 VR에 적용한 사례를 소개합니다. 연구진은 스타일라이즈드 텍스처를 게임 엔진과 HMD 기기에 통합하여 가상 투어링 경험을 만들었습니다. 씬에 투명한 창을 만들고 파노라마 스카이박스를 추가하여 익숙한 씬 구조를 완전히 새로운 모습으로 즐길 수 있게 함으로써 몰입감을 높였습니다.

![투명한 창과 생성된 스카이박스가 있는 텍스처 씬 에셋을 HMD 기기에 업로드하여 VR 애플리케이션을 구축한 결과, 완전히 스타일라이즈된 공간에서 텔레포테이션(지상의 빨간 점)을 통해 6-DoF 자유 시점 투어가 가능하여 매혹적이고 몰입감 있는 VR 경험을 선사합니다.](Dreaming%20Your%20Room%20Space%20with%20Text-DrivenPanoramic%20ad759c6d99ee408eb52c1c1f5a59cfc9/Untitled%2010.png)

투명한 창과 생성된 스카이박스가 있는 텍스처 씬 에셋을 HMD 기기에 업로드하여 VR 애플리케이션을 구축한 결과, 완전히 스타일라이즈된 공간에서 텔레포테이션(지상의 빨간 점)을 통해 6-DoF 자유 시점 투어가 가능하여 매혹적이고 몰입감 있는 VR 경험을 선사합니다.

요약하자면, 이 연구는 제너레이티브 씬 레벨 메시 텍스처링을 위한 포괄적인 프레임워크를 제시하고 다양한 비교와 연구를 통해 그 효과를 입증했습니다. 이 프레임워크는 특히 몰입형 VR 경험을 제작하는 데 중요한 의미적 의미와 공간적 일관성을 유지하는 데 있어 기존 방식에 비해 상당한 개선점을 보여줍니다.

### 5. Conclusion

이 논문에서는 텍스트 프롬프트를 사용하여 실내 장면에 고해상도의 의미론적 텍스처를 생성하는 새로운 방법을 제시합니다. 이 접근 방식은 전 세계적으로 일관된 외관을 제공하는 스타일라이즈드 파노라마 뷰를 생성한 다음 씬의 다른 영역으로 확장하는 것을 포함합니다. 이 기법에는 복잡한 지오메트리를 관리하고 가려지거나 좁은 공간에서도 공간적 일관성을 보장하는 고유한 인페인팅 및 모방 전략이 포함됩니다. 이렇게 제작된 텍스처 메시를 헤드 마운트 디스플레이(HMD)에 쉽게 통합하여 매력적인 가상현실(VR) 경험을 제공할 수 있습니다.

하지만 이 방법에는 몇 가지 한계가 있습니다. 한 가지 문제는 파노라마 텍스처에 베이크인 조명 효과가 포함되어 있어 커스텀 조명이나 다이내믹 섀도를 적용할 수 없다는 점입니다. 또한 VR 경험의 품질은 실제 텍스처가 포함된 입력 재구성과 씬 재구성의 전반적인 품질에 따라 달라집니다. 넓은 방이나 야외 공간은 전체 영역을 커버하기 위해 여러 개의 스타일화된 파노라마가 필요할 수 있기 때문에 어려움이 있습니다.

앞으로 연구진은 현재 렌더링 기술에 더 부합하는 물리 기반 렌더링(PBR) 텍스처를 지원하도록 방법을 개선하는 것을 목표로 하고 있습니다. 또한 텍스처링 프로세스를 시각적 포지셔닝 시스템과 통합하여 스타일라이즈드 장면과 HMD의 실제 세계를 결합하는 혼합 현실(MR) 경험을 구현할 계획입니다.