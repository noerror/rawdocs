# Cloth Self Collision with Predictive Contacts [gdc]

[https://www.ea.com/frostbite/news/cloth-self-collision-with-predictive-contacts](https://www.ea.com/frostbite/news/cloth-self-collision-with-predictive-contacts)

[https://www.youtube.com/watch?v=XUsD3xrNJH0](https://www.youtube.com/watch?v=XUsD3xrNJH0)

이 논문은 게임에서의 사실적인 옷 시뮬레이션에 관한 연구입니다. 게임 내에서의 리얼리즘에 대한 기대가 증가함에 따라, 그래픽적으로 경쟁력을 유지하고자 하는 모든 게임에서는 옷 시뮬레이션이 필수적인 기능이 되었습니다. 이 논문은 옷 시뮬레이션의 주요 문제, 해결 방법, 그리고 최적화 전략을 소개합니다.

![자기 충돌을 겪는 옷을 입은 게임 캐릭터가 격렬한 애니메이션을 수행하고 있습니다. 층이 일시적으로 서로 충돌해도 옷은 항상 받아들일 수 있는 자세로 돌아갑니다. 전체 시뮬레이션 비용은 30Hz 시뮬레이션 단계당 0.4ms이며, 단일 CPU 스레드를 사용합니다.](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled.png)

자기 충돌을 겪는 옷을 입은 게임 캐릭터가 격렬한 애니메이션을 수행하고 있습니다. 층이 일시적으로 서로 충돌해도 옷은 항상 받아들일 수 있는 자세로 돌아갑니다. 전체 시뮬레이션 비용은 30Hz 시뮬레이션 단계당 0.4ms이며, 단일 CPU 스레드를 사용합니다.

## **1. 소개**

게임에서의 옷 시뮬레이션은 실시간으로 운영되어야 하며, 자원 제약 하에 모든 가능한 사용자 입력 하에서도 좋아 보여야 합니다. 게임 시뮬레이션은 일반적으로 입자들이 연결된 형태로 옷을 이산화하고, Verlet 타입의 통합과 비선형 예측 Gauss Seidel 반복을 사용하여 입자의 운동을 시간에 따라 통합합니다. 이는 자원의 제한된 예산과 시뮬레이션의 낮은 해상도로 인해 발생하는 문제들, 예를 들어 인위적인 유연성(예: 옷이 처지는 것)을 해결하기 위한 다양한 전략을 필요로 합니다.

## **2. 자기 충돌**

자기 충돌은 옷이나 천의 한 부분이 다른 부분과 충돌하는 현상으로, 물리 기반 애니메이션에서는 특히 처리하기 까다로운 문제 중 하나입니다. 이 챕터는 자기 충돌 시뮬레이션의 도전 과제와 현재 연구에서 사용된 접근 방식을 설명합니다.

### **자기 충돌의 도전 과제**

1. **작고 빠른 움직임**: 옷의 기본 요소(예: 입자 또는 삼각형)는 작고 그 크기에 비해 빠르게 움직일 수 있습니다. 이는 충돌 검출을 어렵게 만듭니다.
2. **얇고 양면성**: 옷은 얇고 양면이 있어서, 다른 정보가 없는 경우 한 쪽 면이 다른 쪽 면과 어떻게 상호작용해야 하는지 결정하기 어렵습니다.
3. **메시의 변형**: 옷 메시는 시뮬레이션 동안 변형되며, 이는 고정된 형태의 물체와 다르게 처리해야 합니다.

### **현재 연구의 접근 방식**

### 연속 충돌 검출(CCD) 기법의 문제점

고급 연구와 시각 효과 작업에서는 주로 연속 충돌 검출(CCD) 기법이 사용되지만, 이 방법은 계산 비용이 매우 높습니다. 연구팀은 가능한 한 많은 계산을 피하려고 시도하며, 특히 시뮬레이션 단계마다 여러 번 CCD 스위핑을 수행하거나, 변형하는 기본 형상 쌍 사이에서 연속 충돌 질의를 수행하는 과정을 최소화하려고 합니다.

### 예측적 접촉 검출과 해결 기법

이 연구에서는 자기 충돌을 효과적으로 시뮬레이션하기 위해 예측적 접촉 검출과 해결 기법을 소개합니다. 이 접근 방식은 개별 천 요소가 시간 단계 동안 서로 접촉할 가능성이 있는 상황을 예측하고, 이를 바탕으로 충돌을 방지하기 위한 제약 조건을 생성합니다.

- **점 대 점 접촉**: 가장 간단한 형태의 자기 충돌로, 두 점이 충돌 반경 내로 들어오는지 판단하고, 충돌을 방지하기 위한 제약 조건을 설정합니다.
- **전체 메시 충돌**: 점 대 삼각형 및 변 대 변 충돌을 포함하여, 메시 전체에 대한 자기 충돌을 처리합니다. 이는 게임에서의 옷 시뮬레이션에서 주로 사용되는 방법입니다.

### 충돌 해결을 위한 알고리즘

예측적 접촉 검출을 통해 충돌이 예상되는 경우, 충돌을 방지하기 위해 서로 다른 종류의 충돌 제약 조건을 생성합니다. 이는 충돌하는 객체들이 올바른 측면에 위치하도록 하여, 글로벌하게 메시가 교차 없이 유지되도록 합니다. 이러한 접근 방식은 특히 점 대 점, 점 대 삼각형, 그리고 변 대 변 충돌을 다루면서 자기 충돌의 다양한 측면을 해결합니다.

- **점 대 점 충돌**은 상대적으로 계산 비용이 낮고 정확도가 높습니다. 두 점이 정적 충돌 반경 내로 들어올 가능성이 있는지를 판단하고, 충돌을 방지하기 위한 제약 조건을 설정합니다.
- **점 대 삼각형 충돌**에서는 한 점이 삼각형과의 충돌 가능성을 평가합니다. 이 과정에서 충돌 예측을 위한 단순화된 접근 방식이 사용되며, 실제로 충돌이 발생할 가능성이 높은 경우에만 제약 조건이 설정됩니다.
- **변 대 변 충돌**은 두 선분 간의 충돌 가능성을 평가합니다. 이 경우에도 예측적 접촉 검출을 사용하여 충돌을 방지하기 위한 제약 조건을 설정합니다.

### 충돌 해결의 최적화

이러한 자기 충돌 해결 방식을 효율적으로 만들기 위해, 연구팀은 여러 최적화 기법을 도입합니다. 예를 들어, **브로드페이즈(Broadphase) 충돌 검출**을 통해 가능한 충돌 쌍의 수를 줄이고, **대표 삼각형(Rep-Tri) 기법**을 사용하여 중복된 충돌 검출을 방지합니다. 이를 통해 계산 비용을 상당히 절감할 수 있습니다.

또한, **영역별 충돌 처리**를 도입하여 옷의 특정 부분에서만 자기 충돌을 시뮬레이션함으로써 처리해야 할 충돌의 수를 줄입니다. 이는 특히 복잡한 옷차림이나 여러 층으로 이루어진 옷에서 유용합니다.

## **3. 접촉과 충돌**

정적 충돌체는 움직이지 않는 물체로, 예를 들어 구, 캡슐, 또는 상자와 같은 것을 의미합니다. 옷이 이러한 충돌체를 통과하지 않도록 하는 것은 상대적으로 더 단순한 문제로 여겨집니다. 그러나 실제로는 이것이 여러 복잡한 도전을 포함한다는 것을 이 챕터는 설명합니다.

### **충돌 방지의 문제점**

기존의 방법으로는 시스템의 속도를 시간에 따라 통합한 후, 옷의 어떤 점이 충돌체 안에 있는지를 확인하고, 만약 그렇다면 가장 짧은 경로로 밀어내어 충돌을 해결합니다. 이러한 접근법은 충돌체와 충돌하는 객체의 속도가 시스템의 시간 단계에 비해 작을 때 잘 작동합니다. 하지만 게임에서 이 조건이 거의 만족되지 않는 경우가 많으며, 이로 인해 "총알이 종이를 통과하는" 현상이 발생할 수 있습니다. 즉, 빠르게 움직이는 옷이 충돌체와 교차하지 않고 그냥 통과해 버리는 문제가 발생합니다.

### **예측적 접촉 근사 방식**

이 문제를 해결하기 위해, 연구팀은 예측적 접촉 근사를 사용합니다. 이는 시뮬레이션의 시작 시점에서 옷과 충돌체의 구성이 이미 알려져 있고, 올바른 쪽에 위치해 있다고 가정하는 방식입니다. 그 후, 단일 반연속 충돌 검출 단계를 수행하여 충돌체 안에 있거나, 충돌체에 가깝거나, 충돌체와 상호 속도를 가진 점을 찾습니다. 이 조건을 만족하는 점과 충돌체 조합에 대해, 연구팀은 접촉 제약을 생성합니다.

이 접촉 제약은 단순히 무한 평면으로, 평면의 법선은 프레임 시작 시 점과 충돌체 사이의 분리 방향과 같습니다. 충돌 제약을 해결하는 것은 점을 평면의 반대편으로 밀어내는 것으로, 매우 저렴한 연산입니다. 이 방식은 충돌 해결을 위한 더 많은 솔버 반복을 가능하게 하여, 충돌이 다른 제약 조건과 반대되는 상황(예: 몸을 끌고 가는 망토)에서도 충돌을 해결할 수 있도록 합니다.

### **성능과 예측성 향상**

이 접근법은 두 가지 주요 문제를 해결합니다. 첫째, 접촉 제약을 해결하는 것이 저렴하므로, 시뮬레이션이 비용을 증가시키지 않고도 더 많은 솔버 반복을 수행할 수 있습니다. 둘째, 점이 접촉 평면을 얼마나 멀리 지나가든, 제약 조건 시스템이 충분한 솔버 반복을 거치고 실행 가능한 상태라면, 점은 항상 프레임 시작 시 충돌체의 같은 쪽에 위치하게 됩니다. 이 방식은 점이 평면에 대해 매우 멀리 이동하더라도 터널링 문제를 완전히 해결합니다.

### **반연속 충돌 검출의 도입**

연구팀은 '반연속 충돌 검출'이라는 용어를 사용하여, 점과 충돌체가 특정 반경 내에 들어올 가능성을, 극단적으로 비용이 많이 드는 계산 없이 찾는 접근 방식을 설명합니다. 예를 들어, 선형 및 각속도를 가진 캡슐 충돌체와의 가장 가까운 분리를 계산하는 것은 매우 비용이 많이 듭니다. 대신, 시간 단계 시작에서의 이산 분리 방향을 기반으로 하여, 충돌체와 옷 점 사이의 상호 속도를 분리 방향에 따라 비교합니다. 이 접근 방식은 점이 충돌체에 충분히 가까워져 접촉을 생성할 가능성이 있는지를 결정합니다.

![입자와 캡슐 충돌체 간의 이산 충돌 검출에서 문제가 되는 경우들입니다. 경우 a: 입자는 충돌체를 관통하는 속도를 가지고 있습니다. 경우 b: 입자는 속도가 없지만 충돌체를 관통할 수 있는 제약 조건에 연결되어 있습니다. 경우 c: 입자의 속도는 충돌체의 잘못된 쪽에 위치시키고, 잘못된 방향으로 밀어냅니다.](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled%201.png)

입자와 캡슐 충돌체 간의 이산 충돌 검출에서 문제가 되는 경우들입니다. 경우 a: 입자는 충돌체를 관통하는 속도를 가지고 있습니다. 경우 b: 입자는 속도가 없지만 충돌체를 관통할 수 있는 제약 조건에 연결되어 있습니다. 경우 c: 입자의 속도는 충돌체의 잘못된 쪽에 위치시키고, 잘못된 방향으로 밀어냅니다.

![위에 열거된 문제적인 경우들에 대한 예측적 접촉을 통한 충돌 해결입니다. 각 경우에 우리는 입자를 충돌체의 올바른 쪽에 유지하는 무한 반공간 접촉 제약을 생성합니다.](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled%202.png)

위에 열거된 문제적인 경우들에 대한 예측적 접촉을 통한 충돌 해결입니다. 각 경우에 우리는 입자를 충돌체의 올바른 쪽에 유지하는 무한 반공간 접촉 제약을 생성합니다.

### **효율성과 현실성 사이의 균형**

이 예측적 접촉 근사 방식은 계산 비용이 매우 낮기 때문에, 시뮬레이션을 통해 더 많은 충돌을 해결할 수 있도록 하면서도 시뮬레이션의 전체 비용을 증가시키지 않습니다. 이는 충돌이 다른 제약 조건과 대립되는 상황에서도 충돌을 해결하는 데 도움이 됩니다. 또한, 이 방식은 접촉 평면을 통과하는 점의 위치에 관계없이 충돌체의 올바른 쪽에 점을 유지할 수 있도록 하여, 시뮬레이션의 예측 가능성과 현실성을 크게 향상시킵니다.

### **종합적인 접근**

챕터 3에서 제시된 예측적 접촉 근사 방식은 단순히 충돌을 감지하고 해결하는 것 이상의 목적을 가지고 있습니다. 이는 시뮬레이션 과정 전반에 걸쳐 성능을 최적화하고, 현실적이면서도 계산적으로 효율적인 옷 시뮬레이션을 가능하게 하는 것을 목표로 합니다. 접촉과 충돌 사이의 복잡한 상호작용을 관리하면서, 게임과 같은 실시간 환경에서의 자원 제약 조건 내에서 작동할 수 있는 솔루션을 제공합니다. 이는 게임 개발자가 그래픽적으로 경쟁력 있는 제품을 만드는 데 필수적인 옷 시뮬레이션 기능을 효과적으로 구현할 수 있도록 지원합니다.

## **4. 옷의 자기 충돌과 접촉**

옷의 실시간 시뮬레이션에서 중요한 과제 중 하나인 자기 충돌 문제를 해결하기 위한 예측적 접촉 근사 및 반연속 충돌 검출 방식을 제시합니다.

### **자기 충돌 문제의 복잡성**

옷의 자기 충돌은 옷이 자신과 충돌하는 현상을 말하며, 이는 시뮬레이션에서 매우 복잡한 문제를 제기합니다. 옷은 동적으로 변형되며, 이러한 변형으로 인해 옷의 다른 부분이 서로 충돌할 수 있습니다. 자기 충돌을 정확하게 처리하지 않으면, 옷의 시뮬레이션이 비현실적으로 보일 수 있습니다.

### **예측적 접촉 검출 및 해결**

옷의 자기 충돌 문제를 해결하기 위해, 연구팀은 예측적 접촉 검출 및 해결 알고리즘을 개발했습니다. 이 방법은 시간 단계 동안 서로 충돌할 가능성이 있는 옷의 구성 요소를 식별하고, 이러한 충돌을 방지하기 위한 제약 조건을 생성합니다.

### **자기 충돌 유형**

옷의 자기 충돌에는 주로 세 가지 유형이 있습니다: 점 대 점, 점 대 삼각형, 그리고 변 대 변 충돌입니다. 이러한 각 유형에 대해, 연구팀은 충돌을 방지하기 위한 특정 전략을 개발했습니다.

- **점 대 점 충돌**: 두 점이 충돌 반경 내로 접근할 가능성을 판단하고, 이를 방지하기 위한 제약 조건을 생성합니다.
- **점 대 삼각형 충돌**: 점과 삼각형 사이의 가장 가까운 접근을 계산하고, 충돌을 방지하기 위한 제약 조건을 생성합니다.
- **변 대 변 충돌**: 두 선 사이의 가장 가까운 점을 찾고, 이들이 충돌 반경 내로 접근할 가능성이 있는 경우 충돌을 방지하기 위한 제약을 생성합니다.

### **충돌 검출의 최적화**

옷의 자기 충돌 검출을 위해, 모든 가능한 충돌 쌍을 검사하는 것은 계산적으로 비현실적입니다. 따라서, 연구팀은 Axis Aligned Bounding Box(AABB) 트리와 같은 가속 구조를 사용하여 충돌 검출 과정을 최적화합니다. 이 구조를 사용함으로써, 가능한 충돌 쌍의 수를 크게 줄일 수 있습니다.

### **복잡한 현상의 해결**

옷의 자기 충돌 처리는 옷의 실시간 시뮬레이션에서 중요한 부분을 차지합니다. 이 챕터에서 제시된 접근 방식은 옷의 자연스러운 움직임을 재현하고, 시뮬레이션의 현실성을 향상시키는 데 중요한 기여를 합니다. 예측적 접촉 검출 및 해결 방식은 옷의 자기 충돌을 효과적으로 처리함으로써, 복잡한 옷의 동작을 실시간으로 시뮬레이션할 수 있게 합니다. 이 방법은 충돌 가능성이 높은 옷의 부분을 사전에 식별하고, 충돌을 방지하기 위한 제약을 설정함으로써, 옷이 자연스럽게 움직이는 것처럼 보이도록 합니다. 이러한 접근법은 시뮬레이션의 정확도와 성능을 모두 향상시키는 중요한 역할을 합니다.

### **효율적인 충돌 방지 메커니즘**

옷의 자기 충돌 처리를 위한 예측적 접촉 근사 및 해결 방식은, 충돌이 발생하기 전에 이를 예측하고 방지하는 것을 목표로 합니다. 이는 시뮬레이션 도중에 충돌이 발생하는 것을 방지하기 위해, 시간 단계 시작 시 옷의 구성 요소 간의 초기 위치와 방향을 기반으로 한 계산을 사용합니다. 이런 방식으로 충돌을 미리 예측하고 방지함으로써, 옷의 움직임을 더 현실적으로 만들 수 있습니다.

### **충돌 검출 및 해결의 최적화**

옷의 자기 충돌 검출 및 해결 과정은 계산 비용이 높을 수 있으므로, 이를 효율적으로 수행하기 위한 여러 기법이 도입됩니다. AABB 트리와 같은 가속 구조의 사용은 충돌 검출 과정을 크게 단순화하고 속도를 높여, 시뮬레이션의 전체적인 성능을 개선합니다. 또한, Representative Triangles(Rep-Tri) 기법과 같은 최적화 전략은 중복된 충돌 검출 작업을 최소화하여 계산 리소스를 절약합니다.

### **옷 시뮬레이션의 현실성 향상**

이 챕터에서 제시된 자기 충돌 처리 방식은 옷의 시뮬레이션에서 발생할 수 있는 다양한 문제를 해결합니다. 옷이 자신과 충돌하는 문제를 효과적으로 방지함으로써, 개발자들은 옷이 자연스러운 움직임을 보이고, 실시간 게임 환경에서도 현실감 있게 반응하는 옷 시뮬레이션을 구현할 수 있습니다. 이는 게임 뿐만 아니라 가상현실, 시각적 효과 등 다양한 분야에서의 응용에 중요한 기여를 합니다.

종합적으로, 옷의 자기 충돌과 접촉 챕터는 실시간 옷 시뮬레이션의 중요한 측면을 다루며, 이를 통해 개발자들은 옷 시뮬레이션의 현실성과 성능을 동시에 향상시킬 수 있는 방법을 배울 수 있습니다. 이 방법들은 복잡한 옷의 움직임을 실시간으로 재현하는 데 필요한 효율적이고 현실적인 접근법을 제공합니다.

![우리 알고리즘을 사용한 클래식한 자기 충돌 테스트입니다. 왼쪽: 충돌체가 테이프를 매듭으로 비틀어요 (30Hz 프레임당 20ms). 오른쪽: 옷이 회전하는 구체 위로 떨어집니다 (30Hz 프레임당 1초).](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled%203.png)

우리 알고리즘을 사용한 클래식한 자기 충돌 테스트입니다. 왼쪽: 충돌체가 테이프를 매듭으로 비틀어요 (30Hz 프레임당 20ms). 오른쪽: 옷이 회전하는 구체 위로 떨어집니다 (30Hz 프레임당 1초).

## **5. 상황별 트릭과 해킹**

특정 상황에서 성능을 향상시키기 위해, 여러 가지 트릭과 해킹을 사용합니다. 예를 들어, 옷의 여러 층 사이에 자기 충돌 시뮬레이션을 적용하거나, 특정 종류의 옷에 대해 충돌 검출을 런타임이 아닌 로드 시간에 수행하여 모든 프레임에서 같은 충돌 세트를 해결하는 방법 등이 있습니다. 이런 전략들은 게임 내에서 옷의 실시간 시뮬레이션의 효율성과 품질을 높이는 데 도움이 됩니다.

### 5.1 계층화된 옷차림

계층화된 옷차림은 옷의 여러 층이 상호 작용하는 방식을 사전에 정의할 수 있게 함으로써, 자기 충돌 처리를 개선합니다. 예를 들어, 플라멩코 스커트의 한 층이 항상 다른 층 위에 있어야 한다는 정보를 알고 있다면, 이 정보를 활용하여 점-삼각형 접촉의 방향성을 사전에 설정할 수 있습니다. 이는 옷 망사가 한 프레임에서 충돌을 놓치고 엉키더라도, 후속 프레임에서 자동적으로 풀리도록 할 수 있으며, 자기 충돌 처리의 주요 문제점 중 하나인 충돌 감지 실패를 효과적으로 극복할 수 있습니다.

![계층화된 옷차림 해킹과 접촉 캐싱을 사용한 게임 같은 자기 충돌 상황들입니다. 왼쪽: 두 개의 간단한 플랩이 다리 충돌체에 기대어 있습니다 (30Hz 프레임당 0.1ms). 오른쪽: 계층화된 치마 (30Hz 프레임당 0.2ms).](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled%204.png)

계층화된 옷차림 해킹과 접촉 캐싱을 사용한 게임 같은 자기 충돌 상황들입니다. 왼쪽: 두 개의 간단한 플랩이 다리 충돌체에 기대어 있습니다 (30Hz 프레임당 0.1ms). 오른쪽: 계층화된 치마 (30Hz 프레임당 0.2ms).

### 5.2 접촉 캐싱

옷의 특정 구성에서는 런타임에 충돌을 감지할 필요가 없는 경우가 있습니다. 계층화된 옷차림과 같이 충돌 세트가 프레임마다 크게 변하지 않는 경우, 충돌 세트를 한 번 계산한 후 매 프레임마다 이를 해결하기만 하면 됩니다. 이 방식은 로드 시간이나 파이프라인에서 충돌 세트를 계산하고, 런타임에서는 충돌 검출 과정을 완전히 생략하여 성능을 향상시킵니다. 그러나 이 방법은 옷이 초기 자세에서 멀어질 때 행동이 달라질 수 있는 단점이 있습니다.

### 5.3 트릭과 해킹을 사용한 결과

계층화된 옷차림과 접촉 캐싱과 같은 방법을 사용함으로써, 개발자들은 대부분의 현실적 상황에서 자기 충돌을 시뮬레이션할 수 있게 됩니다. 이는 성능을 유지하면서도 충돌 처리를 개선할 수 있는 효과적인 방법을 제공합니다. 특히, 이러한 접근 방식은 빠른 움직임이나 얇은 옷을 처리하는 데 있어 기존 알고리즘의 한계를 극복하고, 비용을 증가시키지 않으면서도 더 나은 충돌 해결을 가능하게 합니다.

### **결론**

이 논문은 게임 내에서의 옷 시뮬레이션을 위한 새로운 접근 방법을 제시합니다. 이는 자원의 제한과 실시간 처리의 필요성을 고려하여, 현실적인 옷의 움직임을 효율적으로 재현할 수 있는 기술을 개발하는 데 중점을 두고 있습니다. 특히, 자기 충돌과 접촉 처리에 관한 연구는 옷 시뮬레이션의 질을 한 단계 끌어올리는 데 중요한 역할을 합니다. 또한, 상황별 최적화 전략을 통해 실시간 게임 환경에서의 성능과 품질 사이의 균형을 찾는 방법을 제시합니다.

## [GDC] **Cloth Self Collision with Predictive Contacts**

[https://www.youtube.com/watch?v=XUsD3xrNJH0&t=2s&ab_channel=GDC](https://www.youtube.com/watch?v=XUsD3xrNJH0&t=2s&ab_channel=GDC)

이 영상에서는 크리스 리우가 EA의 게임 엔진인 Frostbite의 물리 팀에서 일하는 물리 엔지니어로 소개됩니다. 그는 관객들에게 이 발표를 녹화하지 말 것을 요청하며, 발표 후 평가 양식을 작성해 줄 것을 부탁합니다. 이어서, 이번 강연이 물리학에 관한 내용이지만 수학적 내용은 제외되었음을 언급하며, 자세한 기술적 내용을 원한다면 그가 작성한 기술 보고서를 참조하라고 권장합니다.

크리스는 '자기 충돌(self-collision)'이 무엇인지 설명을 시작합니다. 이는 옷감이 스스로와 충돌하는 현상을 말하는데, 이는 옷감이 구겨지거나 뭉치거나 서로 겹쳐지는 현상을 포함합니다. 게임에서는 플레이어가 제어하는 캐릭터에 부착된 의류를 시뮬레이션하여 이러한 현상을 포착하려는 경우가 많습니다.

옷감 시뮬레이션을 기본적으로 구현하는 방법에 대해 간략히 설명하며, 실시간으로 구현될 수 있는 대부분의 옷감 시뮬레이션에서는 일종의 비프로젝트 가우스-사이델 솔버를 사용한다고 설명합니다. 이는 입자 사이의 일련의 제약 조건을 만족시키기 위해 이러한 제약 조건을 반복하여 해결하는 과정을 의미합니다.

![Untitled](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled%205.png)

- "Length Constraints", "Anchor Constraints", "Contact Constraints” 제약 조건
    
    **Length Constraints (길이 제약 조건)** 길이 제약 조건은 옷감을 구성하는 입자(또는 점) 사이의 거리를 일정하게 유지하는 데 사용됩니다. 이는 옷감이 과도하게 늘어나거나 축소되는 것을 방지하며, 실제 옷감처럼 탄력적인 특성을 시뮬레이션할 수 있도록 합니다. 각 제약 조건은 두 점 사이의 거리가 특정 값보다 길거나 짧아지지 않도록 합니다. 이를 통해 옷감의 신축성과 변형을 효과적으로 제어할 수 있습니다.
    
    **Anchor Constraints (앵커 제약 조건)** 앵커 제약 조건은 옷감의 특정 점을 캐릭터의 몸체 또는 공간 내의 고정된 위치에 "고정"시키는 데 사용됩니다. 이는 옷감이 캐릭터의 움직임에 따라 자연스럽게 흘러가도록 하면서도, 특정 부분이 고정된 위치에 유지되어야 할 때 필요합니다. 예를 들어, 허리에 고정된 치마의 상단 부분이나 어깨에 걸쳐진 망토 등이 있습니다. 앵커 제약 조건은 이러한 옷감이 캐릭터의 움직임에 따라 자연스럽게 흐르면서도 올바른 위치에 고정되도록 합니다.
    
    **Contact Constraints (접촉 제약 조건)** 접촉 제약 조건은 옷감이 캐릭터의 몸체나 다른 물체와 올바르게 상호작용하도록 하는 데 사용됩니다. 이는 옷감이 캐릭터의 몸체를 통과하지 않고, 몸체와의 충돌 시 자연스럽게 반응하도록 보장합니다. 접촉 제약 조건을 사용하면 캐릭터의 몸체와 옷감 사이의 충돌을 감지하고, 옷감이 이러한 충돌을 피하도록 조정합니다. 이를 통해 옷감이 몸체에 닿았을 때 현실적으로 주름지거나 흐르는 모습을 시뮬레이션할 수 있습니다.
    

크리스는 옷감이 자기 자신과 충돌할 때 발생하는 문제, 예를 들어 옷감이 구겨지거나 서로 겹쳐지는 문제를 해결하기 위한 방법으로 '예측적 접촉(predictive contacts)'의 개념을 도입합니다. 이는 충돌을 예측하여 충돌이 발생하기 전에 미리 대응하는 방식입니다. 이는 옷감이 캐릭터의 몸체 부분과 올바르게 상호 작용하도록 하는 데 중요한 역할을 합니다.

- 예측적 접촉의 기본 원리
    
    ![Untitled](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled%206.png)
    
    **충돌의 예측**: 예측적 접촉 방식에서는 입자나 옷감 조각의 현재 위치와 속도를 기반으로 하여 미래에 충돌이 발생할 가능성이 있는지를 예측합니다. 이는 단순히 현재의 위치 정보만을 사용하는 대신, 속도와 이동 경로 등의 동적 정보를 포함하여 보다 정확한 예측을 가능하게 합니다.
    
    **충돌 해결을 위한 단순화된 접근**: 충돌이 예측되면, 실제 복잡한 충돌 해결 과정을 거치기 전에, 예측된 충돌 지점에서 단순화된 형태의 접촉(예: 가상의 평면이나 충돌 영역을 생성하여)을 만들어 냅니다. 이렇게 함으로써, 실제 충돌 처리는 더 단순한 계산으로 이루어질 수 있으며, 충돌에 의한 옷감의 불필요한 통과나 이상 현상을 효과적으로 방지할 수 있습니다.
    
    **효율성과 실시간 처리**: 예측적 접촉 방식은 실시간 옷감 시뮬레이션에 특히 유용합니다. 이 방식을 통해 충돌 처리 과정의 계산 비용을 절감하면서도, 옷감이 실시간으로 캐릭터의 움직임에 반응하여 자연스럽게 흐르고 구겨지는 모습을 효과적으로 재현할 수 있습니다.
    
    **충돌의 올바른 해결 보장**: 예측적 접촉은 충돌이 실제로 발생하기 전에 미리 대응 조치를 취함으로써, 옷감이 캐릭터의 몸체나 다른 옷감 조각들을 통과하는 등의 비현실적인 현상을 방지합니다. 이는 시뮬레이션의 질을 크게 향상시키며, 사용자에게 보다 실감나는 경험을 제공합니다.
    

자기 충돌을 처리하는 방법으로, 점-점(point-point) 충돌과 전체 메시(full mesh) 충돌을 포함한 다양한 충돌 탐지 방식을 설명합니다. 전체 메시 충돌 방식은 옷감의 더 얇은 부분을 시뮬레이션할 수 있게 해 주어 더 높은 품질의 결과를 얻을 수 있음을 지적합니다.

![Untitled](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled%207.png)

![Untitled](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled%208.png)

- Dynamic collision radius
    
    강연에서 언급된 "dynamic collision radius"는 옷감 시뮬레이션에서 자기 충돌(self-collision)을 처리하는 방법 중 하나로, 실시간 물리 기반 애니메이션에서 매우 중요한 역할을 합니다. 이 개념은 자기 충돌 감지와 해결 과정에서의 한 가지 접근 방식을 설명합니다. 구체적으로, 옷감이나 다른 유연한 물체의 각 부분이 서로 충돌하거나 겹치는 것을 방지하는 데 사용됩니다.
    
    "Dynamic collision radius" 방식은 시뮬레이션의 시작 시점에서 물체의 각 부분 사이의 거리를 측정하고, 이 거리를 기반으로 각 부분이 얼마나 가까워질 수 있는지를 예측합니다. 이 예측은 물체의 속도와 방향을 고려하여 수행됩니다. 각 부분 주위에 가상의 "충돌 반경"을 설정하고, 이 반경이 서로 겹치지 않도록 함으로써 충돌을 방지합니다. 이러한 충돌 반경은 동적으로 조정되어, 물체의 움직임에 따라 크기가 변할 수 있습니다.
    
    이 방식의 핵심 아이디어는 충돌 감지를 더 보수적으로 만들어, 실제 충돌이 발생하기 전에 미리 대응할 수 있도록 하는 것입니다. 이를 통해, 물체의 다른 부분들이 서로를 통과하는 것을 효과적으로 방지할 수 있습니다. "Dynamic collision radius"는 충돌 해결 메커니즘의 일부로서, 시뮬레이션의 현실성과 안정성을 높이는 데 중요한 역할을 합니다.
    
    크리스 리우는 이 개념을 설명하며, 실제 충돌이 발생할 것으로 예측되는 경우, 충돌을 방지하기 위해 생성되는 가상의 "충돌 반경"을 조정하고, 이를 통해 옷감의 부분들이 서로 겹치거나 통과하지 않도록 하는 방법을 제시합니다. 이 접근 방식은 특히 복잡한 동작이나 다양한 옷차림을 시뮬레이션하는 데 유용하며, 옷감이 실제와 같이 자연스럽게 움직이고 상호작용하도록 하는 데 기여합니다.
    

또한, 크리스는 옷감 시뮬레이션을 위한 저자의 파이프라인을 시연하며, 다양한 옷감의 충돌 검출과 해결 방법을 시각적으로 보여줍니다. 그는 옷감 시뮬레이션의 여러 결과를 보여주며, 특히 계층적 옷감(layered clothing)의 경우에는 충돌 검출을 한 번만 수행하고 결과를 직렬화하여 매 프레임마다 이러한 접촉을 해결함으로써 시뮬레이션의 비용을 크게 줄일 수 있다고 설명합니다.

![Untitled](Cloth%20Self%20Collision%20with%20Predictive%20Contacts%20%5Bgdc%2042ba12c0ca234638ac8d34a20ebea4f3/Untitled%209.png)