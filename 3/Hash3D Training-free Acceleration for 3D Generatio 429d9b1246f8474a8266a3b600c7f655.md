# Hash3D: Training-free Acceleration for 3D Generation

[https://arxiv.org/abs/2404.06091](https://arxiv.org/abs/2404.06091)

[https://adamdad.github.io/hash3D/](https://adamdad.github.io/hash3D/)

- Apr 2024

![Gaussian-Dreamer [58]와 DreamGaussian [49]에 우리의 Hash3D를 적용한 예시입니다. 우리는 Gaussian-Dreamer를 1.5배, Dream-Gaussian을 4배 가속화했으며, 비슷한 시각적 품질을 유지했습니다.](Hash3D%20Training-free%20Acceleration%20for%203D%20Generatio%20429d9b1246f8474a8266a3b600c7f655/Untitled.png)

Gaussian-Dreamer [58]와 DreamGaussian [49]에 우리의 Hash3D를 적용한 예시입니다. 우리는 Gaussian-Dreamer를 1.5배, Dream-Gaussian을 4배 가속화했으며, 비슷한 시각적 품질을 유지했습니다.

## 1 introduction

3D 생성 모델링의 최근 발전에 대해 다룹니다. 특히, 2D 확산 모델을 통합하여 3D 모델을 생성하는 새로운 접근 방식인 '스코어 증류 샘플링(SDS)'을 소개하고 있습니다. 이 방법은 다양한 카메라 시점에서 2D 스코어 함수를 예측하여 3D 모델을 추출합니다. 그러나 이 과정은 수천 개의 스코어 예측을 필요로 하며, 이로 인해 긴 최적화 시간이 소요되어 실용적인 응용 제품에 적용하기 어려운 문제가 있습니다.

이에 대응하여, 현재의 연구 노력은 세 가지 전략에 집중하고 있습니다:

1. **인퍼런스 전용 모델 훈련**: 긴 최적화 과정을 우회할 수 있으나, 상당한 훈련 시간과 계산 자원이 필요합니다.
2. **향상된 3D 파라미터화 기술**: 최적화 시간을 줄이려는 시도로, 특정 표현을 위한 독특한 설계가 필요합니다.
3. **직접적인 희소 시점 생성**: 이상적인 시점 일관성을 가정하며, 실제로는 종종 달성하기 어려운 방법입니다.

이러한 문제들을 해결하기 위해, 저자들은 중복 계산을 줄이기 위해 'Hash3D'라는 새로운 해결책을 제안합니다. Hash3D는 그리드 기반 해시 테이블을 사용하여 이미 처리된 중간 특징들을 저장하고, 비슷한 새로운 시점이 요청될 때 이를 효율적으로 검색하여 재사용함으로써 계산을 줄입니다. 이 방식은 모델 훈련이나 복잡한 수정 없이도 간단하게 적용할 수 있으며, 컴퓨팅 자원을 절약하면서도 3D 객체의 다시점 일관성을 향상시키는 데 도움이 됩니다.

## 2 Related Work

3D 생성 모델의 발전과 관련된 기존 연구들을 조사합니다. 이 챕터는 주로 세 가지 주요 영역에 초점을 맞춥니다:

1. **3D 생성 모델**:
    
    이 분야의 발전은 3D 표현을 정의하는 파라미터를 생성하기 위한 모델의 훈련에 중점을 둡니다. 연구들은 주로 복셀, 포인트 클라우드, 암시적 함수, 그리고 트리플레인과 같은 다양한 3D 표현을 생성하는 데 사용됩니다. 이러한 모델들은 대규모 모델과 다양한 데이터셋을 사용하여 성공적으로 적용되어 왔지만, 데이터 양과 계산 자원의 제약으로 인해 확장성이 계속해서 도전적인 문제로 남아 있습니다.
    
2. **효율적인 확산 모델**:
    
    확산 모델은 이미지 생성을 위한 반복적인 잡음 제거 과정으로 알려져 있습니다. 이 모델들의 효율성을 향상시키기 위한 연구가 활발히 진행되고 있으며, 샘플링 단계를 줄이는 고급 샘플링 메커니즘 도입이나 타임스텝 증류 같은 기법이 포함됩니다. 또한, 각 모델 추론의 계산 요구를 최소화하기 위한 노력도 소개되며, 이는 작은 확산 모델 개발이나 인접 단계에서의 특징 재사용을 통해 달성됩니다.
    
3. **해싱 기술**:
    
    해싱은 입력을 고정 크기의 해시 코드로 변환하는 과정으로, 해시 테이블을 통해 빠르고 일관된 데이터 접근을 가능하게 합니다. 파일 시스템에서 널리 사용되는 해싱은 3D 표현, 심층 네트워크 압축, 심층 네트워크 기반 해시 함수 개발 등 다양한 애플리케이션에서 효과적임이 입증되었습니다. 이 연구에서는 특징을 검색하는 데 해싱을 적용함으로써 반복되는 확산 샘플링의 계산 부담을 줄이고, 현실적인 3D 객체 생성 속도를 높이는 방법을 탐구합니다.
    

## 3 Preliminary

3D 생성 모델링, 특히 확산 모델과 스코어 증류 샘플링(SDS)에 대한 기본적인 개념과 사용된 주요 표기법을 소개합니다. 이 장은 다음과 같은 세부 내용으로 구성됩니다:

1. **확산 모델(Diffusion Models)**:
    
    확산 모델은 데이터셋에서 추출된 초기 데이터 **x**0로부터 시작하여, T 단계에 걸쳐 가우스 잡음을 점진적으로 추가하는 과정을 역으로 수행하여 이미지를 생성합니다. 각 단계에서의 변환은 정의된 베타 값(*β*1:*T*)에 따라 관리되며, 잡음이 추가된 데이터(**x***t*)는 이전 단계의 데이터와 가우스 분포를 이용하여 계산됩니다. 이 과정의 역으로, 시간에 따라 조절된 잡음 제거 신경망을 사용하여 데이터를 점차 정화하고, 원래 데이터를 복원합니다.
    
2. **스코어 증류 샘플링(SDS)**:
    
    SDS는 사전 훈련된 2D 확산 모델을 사용하여 3D 표현을 최적화하는 방법입니다. 카메라 포즈(***c***=(*θ*,*ϕ*,*ρ*))와 관련된 프롬프트를 사용하여, 렌더링 함수를 통해 각 시점의 이미지가 실제와 같이 인식될 수 있도록 3D 파라미터(Θ)를 미세 조정합니다. 이 최적화 과정은 3D 객체가 확산 모델에 의해 학습된 분포를 따르도록 보장하기 위해 반복적으로 수행됩니다.
    
3. **특징 추출(Extracting Feature from Diffusion Model)**:
    
    확산 모델에서의 특징 추출은 U-Net 아키텍처를 기반으로 하며, 다운샘플링과 업샘플링 계층을 통해 데이터의 특징을 추출하고 연결합니다. 이 구조는 높은 수준의 특징과 낮은 수준의 특징을 효과적으로 통합하여, 모델이 최종 이미지를 생성하는 데 필요한 정보를 재구성합니다.
    

## 4 Hash3D

### **4.1 Hash3D의 동기와 기본 원리**

1. **비효율성 문제의 근원**:
    
    기존의 스코어 증류 샘플링(SDS) 방식은 3D 모델을 생성하기 위해 수천에서 수만 번의 반복적인 샘플링을 요구합니다. 각 샘플링에는 별도의 확산 모델 추론이 필요하며, 이는 시간이 많이 소요되는 프로세스입니다.
    
2. **특징 추출의 중복성 발견**:
    
    연구팀은 카메라 위치나 시간에 따라 비슷한 특징이 반복적으로 추출되는 현상을 관찰하였습니다. 이러한 중복성은 해싱을 통해 특징을 재사용할 수 있는 기회를 제공하며, 계산 과정을 효율적으로 만들 수 있습니다.
    
    ![다른 카메라 포즈에서 추출된 특징의 유사성.](Hash3D%20Training-free%20Acceleration%20for%203D%20Generatio%20429d9b1246f8474a8266a3b600c7f655/Untitled%201.png)
    
    다른 카메라 포즈에서 추출된 특징의 유사성.
    
    ![생성된 뷰 사이에서 잠재 변수를 보간함으로써, 계산 없이 새로운 뷰의 합성을 가능하게 합니다.](Hash3D%20Training-free%20Acceleration%20for%203D%20Generatio%20429d9b1246f8474a8266a3b600c7f655/Untitled%202.png)
    
    생성된 뷰 사이에서 잠재 변수를 보간함으로써, 계산 없이 새로운 뷰의 합성을 가능하게 합니다.
    
3. **Hash3D의 구현**:
    
    Hash3D는 그리드 기반 해시 테이블을 사용하여 이미 계산된 특징을 저장하고 필요할 때 재사용합니다. 새로운 샘플링 뷰가 이전에 처리된 뷰와 유사할 경우, Hash3D는 해시 테이블에서 관련 특징을 효율적으로 검색하여 계산을 재수행하지 않고 스코어 함수를 계산합니다.
    
    ![우리의 Hash3D의 전체 파이프라인입니다. 샘플링된 카메라와 시간 단계를 주어, 해시 테이블에서 중간 확산 특징을 검색합니다. 일치하는 항목이 없으면 표준 추론을 수행하고 새로운 특징을 해시 테이블에 저장합니다; 반면, 근접 뷰의 특징이 이미 존재한다면, 재계산 없이 재사용됩니다.](Hash3D%20Training-free%20Acceleration%20for%203D%20Generatio%20429d9b1246f8474a8266a3b600c7f655/Untitled%203.png)
    
    우리의 Hash3D의 전체 파이프라인입니다. 샘플링된 카메라와 시간 단계를 주어, 해시 테이블에서 중간 확산 특징을 검색합니다. 일치하는 항목이 없으면 표준 추론을 수행하고 새로운 특징을 해시 테이블에 저장합니다; 반면, 근접 뷰의 특징이 이미 존재한다면, 재계산 없이 재사용됩니다.
    
4. **동적 격자 크기 조절**:
    
    시스템의 적응성을 향상시키기 위해, Hash3D는 각 뷰에 대해 동적으로 격자 크기를 선택할 수 있는 메커니즘을 개발했습니다. 이는 더 나은 특징 재사용을 가능하게 하여 시간과 자원을 절약합니다.
    

### **4.2 Hash3D의 구체적인 작동 방식**

1. **해싱 기반 특징 재사용**:
    
    Hash3D는 특정 카메라 포즈와 시간 단계에 대해 먼저 해시 테이블을 확인하여 유사한 특징이 있는지 검사합니다. 일치하는 특징이 있는 경우, 이를 직접 재사용하여 계산 비용을 줄입니다. 일치하는 항목이 없으면 표준 추론을 수행하고 새로운 특징을 해시 테이블에 추가합니다.
    
2. **그리드 기반 해싱**:
    
    카메라 포즈와 시간 단계를 고려하여 그리드 셀에 할당됩니다. 각 입력 키는 해당 그리드 셀의 인덱스를 계산하여 데이터의 조직과 검색을 간소화합니다.
    
3. **충돌 해결과 특징 검색 및 업데이트**:
    
    다중 키가 동일한 해시 값에 할당될 때 발생하는 충돌을 별도의 체이닝을 사용하여 해결합니다. 특징 검색이나 업데이트가 필요할 때, 해시 테이블은 현재 쿼리 포인트와 가까운 기존 데이터를 집계하여 가중 평균을 계산합니다.
    
4. **적응형 그리드 해싱**:
    
    이상적인 그리드 크기는 객체마다 다를 수 있으며, 각각의 뷰와 시간 단계에 대해 최적의 해싱 성능을 보장하기 위해 적응적 그리드 크기 조정이 필요합니다. 이는 특징이 충분히 유사할 때만 재사용되도록 하는 문제를 최적화하는 과정을 포함합니다.
    

### **4.3 Hash3D의 세부 기술적 적용과 실험 결과**

이 부분에서는 Hash3D가 실제로 어떻게 3D 생성 작업에 적용되며, 그 효과를 검증하기 위한 다양한 실험 설정과 결과를 제공합니다.

1. **실제 적용과 실험 방법**:
    
    Hash3D는 다양한 3D 생성 작업에 통합되어, 텍스트-투-3D 및 이미지-투-3D 모델과 함께 테스트됩니다. 실험은 Hash3D를 기존의 3D 생성 프로토콜과 통합하여, 이전 방식과 비교하여 어떤 개선이 이루어졌는지를 평가합니다.
    
2. **성능 향상과 효율성 증가**:
    
    Hash3D를 사용함으로써, 생성 시간은 평균적으로 1.3배에서 최대 4배까지 단축되었습니다. 이는 Hash3D가 반복 계산을 줄이고, 해싱을 통해 특징을 재사용함으로써 달성된 결과입니다. 또한, 해싱 기법은 3D 모델의 다시점 일관성을 개선하는 데에도 기여합니다.
    
3. **그리드 사이즈의 적응적 조절**:
    
    적절한 그리드 크기를 선택하는 것은 3D 모델의 질과 생성 속도에 큰 영향을 미칩니다. 실험에서는 다양한 그리드 크기를 시험하여, 각각의 설정이 특징 재사용과 전체 시스템 성능에 미치는 영향을 분석합니다. 이 과정에서 최적의 그리드 크기를 동적으로 조정하는 방법이 개발되어, 각 시나리오에 가장 적합한 설정을 자동으로 적용할 수 있게 됩니다.
    
4. **실험 결과와 분석**:
    
    다양한 3D 생성 모델과의 통합 테스트를 통해, Hash3D가 처리 시간을 줄이는 동시에 시각적 품질을 유지하거나 향상시킬 수 있음이 입증됩니다. 특히, 복잡한 3D 객체의 경우, 다시점에서의 일관성이 크게 향상되었으며, 이는 3D 객체를 더욱 현실적으로 만드는 데 기여합니다.
    
5. **사용자 연구와 피드백**:
    
    사용자 연구를 통해 생성된 3D 모델의 시각적 품질을 평가합니다. 참가자들은 Hash3D를 사용하여 생성된 3D 모델과 기존 방식으로 생성된 모델을 비교 평가하며, Hash3D가 적용된 모델이 더 높은 평가를 받는 경우가 많았습니다.
    

## 5 Experiment

Hash3D의 효과를 검증하기 위해 다양한 3D 생성 모델과의 통합 실험 결과를 제시합니다. 이 장은 복잡하고 다양한 실험 설정을 포함하고 있으며, 여러 하위 챕터로 나뉘어 설명됩니다. 각 부분을 나눠서 설명하겠습니다.

### **5.1 실험 설정**

1. **기초 실험 방법**:
    
    실험은 이미지-투-3D와 텍스트-투-3D 작업을 포함하여 다양한 기존 방법들과 비교하여 수행됩니다. Zero-123+SDS, DreamGaussian, Magic123 등 여러 3D 생성 기법에 Hash3D를 적용하여 그 효과를 평가합니다.
    
2. **구현 세부사항**:
    
    각 방법의 원래 구현에 충실하면서 Hash3D를 통합합니다. 안정적인 확산 모델과 그 변형을 사용하여 2D 이미지 및 3D 생성 작업에 Hash3D를 적용하고, 다양한 그리드 크기 설정을 테스트합니다.
    
3. **데이터셋 및 평가 지표**:
    
    Google Scanned Objects (GSO) 데이터셋을 사용하여 이미지-투-3D 실험을 진행하고, 여러 객체에 대한 3D 재구성을 평가합니다. PSNR, SSIM, LPIPS 등의 정량적 지표와 CLIP 유사도 점수를 사용하여 모델의 시각적 성능을 평가합니다. 텍스트-투-3D 작업은 다양한 프롬프트를 사용하여 생성된 3D 모델을 평가하며, 생성 시간 및 CLIP 유사도로 성능을 비교합니다.
    

### **5.2 3D 생성 결과**

![Zero123와 함께 Hash3D를 사용한 이미지-투-3D 생성의 질적 결과입니다. 시각적 차이를 노란색으로 표시했습니다.](Hash3D%20Training-free%20Acceleration%20for%203D%20Generatio%20429d9b1246f8474a8266a3b600c7f655/Untitled%204.png)

Zero123와 함께 Hash3D를 사용한 이미지-투-3D 생성의 질적 결과입니다. 시각적 차이를 노란색으로 표시했습니다.

1. **이미지-투-3D 결과**:
    
    Hash3D가 통합된 여러 이미지-투-3D 모델의 성능을 시각적으로 및 수치적으로 평가합니다. Hash3D는 처리 시간을 크게 단축시키는 동시에, 다시점 일관성과 시각적 품질을 유지하거나 향상시킵니다. 특히, 복잡한 3D 구조의 경계를 더 명확하게 표현하는 데 도움을 줍니다.
    
2. **텍스트-투-3D 결과**:
    
    Hash3D를 통합한 텍스트-투-3D 모델의 결과를 제시하며, 기존 방법과 비교하여 시각적 품질과 처리 시간에서의 개선을 보고합니다. Hash3D는 다양한 방법에 적용되었을 때 일관된 성능 향상을 보여주며, 특히 생성 시간의 단축이 두드러집니다.
    

### **5.3 해부 연구 및 분석**

1. **해싱 특징 대 잡음 해싱**:
    
    Hash3D의 다른 변형을 테스트하여, 특징 해싱과 직접적인 잡음 예측 해싱 간의 효율성과 효과를 비교합니다. 특징 해싱이 더 나은 시각적 결과와 CLIP 점수를 제공함을 확인합니다.
    
    ![ DreamFusion [35], SDS+GS, 그리고 Fantasia3D [5]에 Hash3D를 적용했을 때 텍스트-투-3D 작업의 시각적 비교입니다](Hash3D%20Training-free%20Acceleration%20for%203D%20Generatio%20429d9b1246f8474a8266a3b600c7f655/Untitled%205.png)
    
     DreamFusion [35], SDS+GS, 그리고 Fantasia3D [5]에 Hash3D를 적용했을 때 텍스트-투-3D 작업의 시각적 비교입니다
    
2. **해시 확률의 영향**:
    
    다양한 해시 확률(*η*) 설정을 실험하여, 이가 CLIP 점수와 처리 시간에 미치는 영향을 평가합니다. 낮은 확률에서 성능 개선이 관찰되며, 이는 더 많은 특징 공유와 더 나은 시각적 품질로 이어집니다.
    
    ![다른 해시 확률 η에 대한 정량적 해부 연구입니다.](Hash3D%20Training-free%20Acceleration%20for%203D%20Generatio%20429d9b1246f8474a8266a3b600c7f655/Untitled%206.png)
    
    다른 해시 확률 η에 대한 정량적 해부 연구입니다.
    
3. **적응형 그리드 크기**:
    
    그리드 크기를 동적으로 조절하는 AdaptGrid 방법을 소개하며, 이는 고정된 그리드 크기 방법보다 시각적 품질과 처리 시간에서 우수한 결과를 보입니다. 큰 그리드 크기는 시각적 품질을 저하시키는 반면, 작은 그리드 크기는 특징 일치 확률을 높여 성능을 유지합니다.
    

## 6 Conclusion

Hash3D는 3D 생성 프로세스에서 중복 계산을 크게 줄이는 해결책을 제시합니다. 이는 그리드 기반 해시 테이블을 활용하여 이전에 계산된 특징을 효율적으로 저장하고 재사용함으로써 가능해졌습니다. 결과적으로, Hash3D는 3D 모델 생성 시간을 평균 1.3배에서 최대 4배까지 단축시키는 성과를 보였습니다.

Hash3D는 추가적인 모델 훈련이나 복잡한 수정 없이도 적용이 가능하며, 이는 3D 모델의 다시점 일관성을 크게 향상시킵니다. 이러한 향상은 특히 다양한 카메라 각도에서의 모델 일관성을 유지하는 데 중요합니다.

Hash3D는 다양한 3D 생성 워크플로우에 쉽게 통합될 수 있는 유연성을 갖추고 있으며, 이는 실제 응용 제품에의 적용 가능성을 높입니다. 이미지-투-3D 및 텍스트-투-3D 작업에서의 성공적인 적용 사례가 이를 뒷받침합니다.

Hash3D의 개발은 여전히 초기 단계에 있으며, 이 기술을 다른 종류의 3D 데이터 및 복잡한 환경에 적용하거나, 해시 기능을 더욱 최적화하는 방향으로 연구가 확장될 수 있습니다. 또한, 적응적 그리드 크기 조정 기능을 더 발전시키는 것도 중요한 연구 주제입니다.

 Hash3D는 3D 생성 모델링의 효율성을 개선하는 혁신적인 기술로, 계산 자원의 사용을 최소화하면서도 생성 품질을 유지하거나 향상시킬 수 있는 능력을 보여줍니다. 이 기술은 실용적인 적용뿐만 아니라, 학계와 산업계에서도 광범위한 관심을 끌 것으로 예상됩니다.