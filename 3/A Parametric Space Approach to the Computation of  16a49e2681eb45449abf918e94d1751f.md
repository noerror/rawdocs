# A Parametric Space Approach to the Computation of Multi-Scale Geometric Features

*3D 객체의 기하학적 특징을 실시간으로 빠르게 계산할 수 있는 새로운 파라메트릭 공간 접근 방식으로, 향후 객체 매칭 및 검색에 유망한 응용 분야입니다. #3DModeling #ComputationalGeometry #AIResearch*

[https://www.youtube.com/watch?v=xXyLdeRPtyM](https://www.youtube.com/watch?v=xXyLdeRPtyM)

[http://www.anthousis.com/research/paramspace_geometric/](http://www.anthousis.com/research/paramspace_geometric/)

### 1  INTRODUCTION

이 논문에서는 오브젝트 검색, 텍스처 합성, 스타일라이즈드 렌더링 등 다양한 애플리케이션에서 중요한 곡률 및 표면 거칠기와 같은 기하학적 특징을 계산하는 데 따르는 어려움을 설명합니다. 기존 방식은 연속적인 표면의 불연속적인 다각형 표현에서 작동하는 CPU 알고리즘을 사용하여 이러한 특징을 계산합니다. 그러나 이 프로세스는 인접성 정보를 저장하기 위한 복잡한 데이터 구조가 필요하고 계산 복잡성과 기하학적 밀도 및 로컬 피처 지원 범위가 정비례하기 때문에 대규모 또는 동적 메시의 경우 복잡해집니다.

![a) 평균 곡률로 색칠된 "Lucy" 모델(200K), 49ms로 계산됨, b) 지오메트리(위치) 버퍼(시각화를 위해 정규화됨), c) 표면 노멀 버퍼, d) 경계 픽셀의 인접 차트 식별자와 함께 다각형 차트 식별자(명확성을 위해 색칠됨), e) 매개변수 공간의 평균 곡률(시각화를 위해 색칠됨)입니다.](A%20Parametric%20Space%20Approach%20to%20the%20Computation%20of%20%2016a49e2681eb45449abf918e94d1751f/Untitled.png)

a) 평균 곡률로 색칠된 "Lucy" 모델(200K), 49ms로 계산됨, b) 지오메트리(위치) 버퍼(시각화를 위해 정규화됨), c) 표면 노멀 버퍼, d) 경계 픽셀의 인접 차트 식별자와 함께 다각형 차트 식별자(명확성을 위해 색칠됨), e) 매개변수 공간의 평균 곡률(시각화를 위해 색칠됨)입니다.

저자는 모든 계산을 객체 공간(물리적 3D 공간)에서 파라메트릭 공간(수학적 공간)으로 옮기는 새로운 접근 방식을 제안합니다. 이 접근법은 객체의 모든 기하학적 데이터와 추가 인접 정보를 2차원 레이아웃으로 전환합니다. 이를 통해 특정 지점의 주변 지역을 즉시 재구성할 수 있습니다. 지오메트리 이미지와 같은 이전 방법과 달리, 새로운 방법은 특정 매개변수화 방법에 국한되지 않으며 다중 차트 레이아웃을 포함한 모든 기본 매개변수화를 처리할 수 있습니다.

파라메트릭 공간에서 계산을 수행하면 넓은 지원 영역에서 지오메트리 샘플링의 효율성이 향상되고 GPU/멀티코어 컴퓨팅 패러다임과의 호환성이 개선되는 등의 이점이 있습니다. 이를 통해 변형 가능하거나 애니메이션이 적용된 오브젝트에서도 실시간 계산이 가능합니다. 이러한 접근 방식을 통해 복잡한 3D 오브젝트의 기하학적 특징을 보다 효율적이고 유연하게 계산할 수 있어 다양한 애플리케이션에 상당한 이점을 제공합니다.

### 2 RELATED WORK

이 백서에서는 3D 오브젝트의 기하학적 특징을 계산하는 네 가지 주요 접근 방식인 오브젝트 공간, 스크린 공간, 체적 표현, 파라메트릭 공간에 대해 설명합니다.

- 오브젝트 공간 방법은 오브젝트의 지오메트리에서 직접 작동하여 미분 지오메트리 기반 곡률 정의를 이산 메시로 일반화합니다. 그러나 계산이 1링 또는 2링 이웃으로 제한되어 노이즈에 민감합니다. 효율적인 임의의 이웃을 얻을 수 있지만, 하프 에지 또는 kd-트리와 같은 복잡한 데이터 구조가 필요하므로 GPU에 매핑하기 어렵습니다.
- 스크린 스페이스 방식은 2D 픽셀 버퍼를 사용하는데, 각 픽셀은 특정 시점에서 메시의 투영된 표면 위치를 인코딩합니다. 주요 장점은 인접성 정보가 픽셀 그리드에 내포되어 있어 샘플링이 효율적이고 GPU 매핑에 적합하다는 점입니다. 단점은 특정 뷰에서 보이는 표면 포인트로만 계산이 제한되어 가려진 포인트 근처와 오브젝트의 화면 공간 실루엣에서 부정확성이 발생할 수 있다는 것입니다.
- 볼류메트릭 표현은 입력 메시를 레벨 세트와 같은 볼류메트릭 형식으로 변환한 다음 원본 메시가 아닌 이 표현에서 기하학적 특징을 계산합니다. 보다 효율적인 로컬 이웃 샘플링을 제공하지만 효율적인 복셀화 방법이 필요하고, 볼류메트릭 포맷 저장을 위해 추가 메모리를 사용하며, 계산 결과 원본 표면이 더 거칠게 표현될 수 있습니다. 체적 데이터에서 계산된 일부 특징은 특히 비다양체 표면의 경우 표면 기반 측정과 호환되지 않을 수 있습니다.
- 파라메트릭 공간 방법은 2D 평면에서 모델의 래핑되지 않은 표면을 활용합니다. 계산 복잡성이 기본 지오메트리에서 분리되어 다양한 이미지 분석 기법을 3D 데이터에 적용할 수 있습니다. 그럼에도 불구하고 기존 방법은 주로 이미지 공간 기법에만 초점을 맞추고 있으며, 사용자 주도의 단일 차트 매개변수화 또는 사전 계산된 피처가 필요한 경우가 많습니다.

이러한 방법과 달리 저자의 접근 방식은 특정 매개변수화 방법이나 사전 계산된 특징이 필요하지 않으므로 기하학적 특징을 계산하는 데 보다 일반적이고 효율적인 수단을 제공합니다.

### 3 METHODOLOGY

이 방법에는 완전히 파라미터화된 3D 모델에서 기하학적 특징 계산을 수행하는 것이 포함됩니다. 다음은 이해하기 쉬운 요약입니다:

![두 개의 매개변수화가 있는 '토끼' 모델입니다, 서로 다른 차트 집합을 생성합니다.](A%20Parametric%20Space%20Approach%20to%20the%20Computation%20of%20%2016a49e2681eb45449abf918e94d1751f/Untitled%201.png)

두 개의 매개변수화가 있는 '토끼' 모델입니다, 서로 다른 차트 집합을 생성합니다.

- 사전 처리: 먼저 이 방법은 파라메트릭 공간(2D 표현)에서 3D 모델 표면의 가장자리를 식별합니다. 표면 가장자리는 모델의 다각형 표현에서 찾을 수 있습니다. 이 에지는 나중에 실시간 계산에 사용됩니다.
- 서피스 파라미터화: 모델이 파라미터화되거나 2D 공간에 매핑됩니다. UV 매핑이라고도 하는 이 프로세스는 3D 모델의 표면 패치를 "UV 섬"으로 변환합니다. 이 기술은 3D 모델링에서 잘 확립되어 있습니다.
- 전처리 작업: 모델을 매핑한 후에는 2D 공간에서 모델의 여러 부분 간의 연결성을 설정해야 합니다. 여기에는 모델 표면의 어떤 버텍스가 다른 '자외선 섬'과 접해 있는지 식별하는 작업이 포함됩니다. 이는 모델의 지오메트리가 2D 파라메트릭 공간의 불연속적인 위치에 매핑되는 영역에서 특히 중요합니다. 이 단계에서 찾은 정보는 나중에 사용할 수 있도록 저장됩니다.

![포인트 근처에서 샘플 색인 생성 점 내부의 샘플을 색인합니다. 샘플 t가 s의 차트 안에 있지 않습니다. 경계점 b를 찾아 인접성 버퍼를 읽고 샘플을 인접한 차트로 재배치합니다.](A%20Parametric%20Space%20Approach%20to%20the%20Computation%20of%20%2016a49e2681eb45449abf918e94d1751f/Untitled%202.png)

포인트 근처에서 샘플 색인 생성 점 내부의 샘플을 색인합니다. 샘플 t가 s의 차트 안에 있지 않습니다. 경계점 b를 찾아 인접성 버퍼를 읽고 샘플을 인접한 차트로 재배치합니다.

- 데이터 버퍼 생성: 3D 모델의 로컬 공간 좌표와 법선 벡터가 2D 파라메트릭 공간으로 변환되어 버퍼에 저장됩니다. 또한 서로 다른 'UV-섬'이 서로 어떻게 연결되는지, 3D 공간에서 2D 공간으로 이동할 때 어떻게 왜곡되는지에 대한 정보도 저장됩니다.
- 점의 주변 샘플링: 파라메트릭 공간에서 특징을 계산하기 위해 이 방법은 주어진 점 주변의 점 집합을 무작위로 샘플링합니다. 이 샘플 집합을 포인트의 '이웃'이라고 합니다. 샘플링된 점이 홈 차트 또는 UV 아일랜드 외부에 있는 경우, 이 방법은 앞서 저장된 연결 데이터를 사용하여 2D 파라메트릭 공간에서 해당 점의 실제 위치를 찾습니다. 이 기법은 표준 지오메트리 외에도 변위와 노멀 매핑도 고려할 수 있습니다.
    
    ![인덱싱 샘플의 더 많은 예. t1은 점프 후 동일한 차트로 을 반환합니다. t2 파라메트릭 위치는 두 개의 점프를 사용하여 위치합니다. 오른쪽 부분에서는 차트 인접성 는 테두리 전체에 색상이 지정되어 있습니다.](A%20Parametric%20Space%20Approach%20to%20the%20Computation%20of%20%2016a49e2681eb45449abf918e94d1751f/Untitled%203.png)
    
    인덱싱 샘플의 더 많은 예. t1은 점프 후 동일한 차트로 을 반환합니다. t2 파라메트릭 위치는 두 개의 점프를 사용하여 위치합니다. 오른쪽 부분에서는 차트 인접성 는 테두리 전체에 색상이 지정되어 있습니다.
    

저자들은 단일 차트 매개변수화를 사용하면 프로세스를 간소화할 수 있지만, 다중 차트 매개변수화가 더 유연하고 복잡한 모양을 더 잘 처리할 수 있다고 말합니다.

### 4 ESTIMATION OF INTEGRAL FEATURES

이 문서에서는 기하학적 특징을 계산하는 데 필요한 기하학에서 표면 및 체적분 적분을 추정하는 방법에 대해 설명합니다. 몬테카를로 적분이라고 하는 이 추정 방법은 점 p 주변에서 사용됩니다. 몬테카를로 적분은 매개변수 공간에서 수행되며, 여기에는 정점 데이터뿐만 아니라 그래픽 처리 장치(GPU)에서 래스터화를 통해 생성된 모든 내부 폴리곤 샘플도 포함됩니다.

![현재 및 인접 차트에서 몬테카를로 샘플링 차트에서 샘플링합니다.](A%20Parametric%20Space%20Approach%20to%20the%20Computation%20of%20%2016a49e2681eb45449abf918e94d1751f/Untitled%204.png)

현재 및 인접 차트에서 몬테카를로 샘플링 차트에서 샘플링합니다.

이 몬테카를로 적분에는 파라메트릭 공간의 균일 분포가 사용됩니다. 이웃 S(p)에 대한 함수 g(p)의 적분 I(p)는 방정식을 사용하여 근사화됩니다. 이 방정식의 입력은 점 p에 해당하는 매개변수 쌍 s를 중심으로 한 타원형 샘플링 영역의 하위 집합과 유효한 샘플의 수 N입니다.

이 방법은 동심 매핑 기법을 사용하여 그리드 셀의 균일한 샘플을 디스크 샘플로 변환합니다. 그런 다음 이러한 샘플을 u축과 v축을 따라 이방성 스케일링하여 타원형 영역을 형성하므로 보다 정교하지만 계산 비용이 많이 드는 방법보다 빠른 계산이 가능합니다. 통계적 노이즈를 피하기 위해 무작위 회전을 적용하여 각 픽셀에 동일한 샘플을 사용합니다.

이 방법의 추가 구성 요소는 적응형 샘플링입니다. 적응형 샘플링의 목표는 분산이 적은 지오메트리 영역에서 샘플링 속도를 줄임으로써 계산 속도를 높이는 것입니다. 먼저 N/2 샘플로 적분을 계산하고 분산을 측정하는 2단계 프로세스가 사용됩니다. 분산이 미리 정해진 임계값보다 크면 추가로 N/2개의 무작위 샘플이 사용됩니다.

실험 결과에 따르면 샘플 수가 증가함에 따라 전체 샘플링과 적응형 샘플링 간의 오차 비율 차이는 감소하는 반면 성능은 증가하는 것으로 나타났습니다.

### 5 PERFORMANCE AND QUALITY EVALUATION

이 섹션에서는 저자의 방법을 사용하여 구현된 몇 가지 국소 지오메트리 피처 연산자에 대해 설명하고 다각형 지오메트리에 직접 작동하는 참조 CPU 알고리즘과 비교합니다.

- 국부 굽힘 에너지(LBE): 이 측정값은 표면의 파손 또는 손상 여부를 분류하는 데 사용됩니다. 이 측정값은 법선 벡터와 중심점으로부터 정의된 이웃 내 인근 지점까지의 거리로 정의됩니다.
    
    국부 굽힘 에너지(LBE)는 3D 기하학적 표면 분석에 사용되는 개념입니다. 표면이 파손되었거나 온전한지 분류하는 데 사용되는 측정값입니다. LBE 용어는 특정 서피스 위치에서 가장 가까운 k개의 정점에 대해 정의됩니다.
    
    이 측정값은 한 점의 법선 벡터와 인접 점의 법선 벡터 사이의 제곱 차이의 합을 해당 점에서 인접 점까지의 거리의 제곱으로 나눈 값을 효과적으로 계산합니다. 이 계산을 통해 특정 지점에서 서페이스가 얼마나 구부러지거나 휘어져 있는지 측정할 수 있습니다.
    
    서페이스가 완벽하게 평평한 경우 법선 벡터는 모두 같은 방향을 가리키고 굽힘 에너지는 0이 됩니다. 그러나 표면이 구부러지거나 휘어져 있으면 법선 벡터가 달라지고 굽힘 에너지가 더 높아집니다. 따라서 이는 많은 3D 모델링 애플리케이션에서 유용한 측정값입니다.
    
- 구체 볼륨: 한 점을 중심으로 주어진 반지름을 가진 구의 비어 있는 부피에 대한 빠른 근사치입니다. 구체 부피 적분 불변량 또는 특정 지점에서 표면의 "내부"에 있는 구체 부피의 부분은 이 양의 보간으로 계산됩니다.
- 평균 곡률(MC): 한 지점의 MC는 구체 체적 적분 불변량으로부터 계산됩니다. MC와 구체 체적 적분 불변량 사이의 관계는 수학적으로 도출됩니다.
    
    평균 곡률은 특정 지점에서 표면의 곡률을 측정한 값입니다. 해당 지점의 주요 곡률의 평균으로 정의됩니다.
    
    주 곡률은 주어진 지점에서 서페이스의 곡률의 최대값과 최소값입니다. 해당 점을 통과하는 서페이스에 가능한 모든 커브를 그린다고 가정하면, 가장 많이 휘어지는 커브와 가장 적게 휘어지는 커브의 곡률이 주 곡률입니다.
    
    그런 다음 평균 곡률은 이 두 값의 평균으로 정의됩니다. 이는 해당 지점에서 표면의 전반적인 굽힘 또는 곡률을 정량화하는 방법입니다. 평균 곡률은 미분 기하학에서 중요한 개념이며 컴퓨터 그래픽에서 물리학에 이르기까지 많은 응용 분야에서 사용됩니다.
    
    기하학적 직관으로 볼 때, 곡면의 한 점이 구와 같이 그 점을 중심으로 모든 방향에서 같은 방향으로 구부러지면 평균 곡률은 양의 값을 갖습니다. 원통처럼 일부 방향에서 곡면이 전혀 구부러지지 않는 경우 평균 곡률은 0입니다. 안장 모양과 같이 서페이스가 반대 방향으로 구부러지는 경우 평균 곡률이 음수입니다.
    
- 셰이프 인덱스(SI): 이 로컬 설명자는 주요 곡률(PC)을 결합하여 서페이스의 로컬 모양을 분류합니다. 이는 PC에 따라 정의된 공식을 사용하여 계산됩니다. PC를 계산하기 위해 MC 및 가우스 곡률(GC)과의 관계를 사용합니다. GC는 표면에서 측지 디스크의 둘레와 표면적에 의존하는 공식을 사용하여 계산됩니다.
- 유클리드 면적: 타원형 영역의 총 픽셀 수, 전체 샘플에 대한 유클리드 기준을 충족하는 샘플의 비율, 각 샘플이 나타내는 평균 면적을 사용하여 근사치를 구할 수 있습니다. 평균 면적은 왜곡 계수의 곱으로 계산됩니다.

이러한 로컬 기하학적 특징은 모두 앞서 설명한 저자의 몬테카를로 통합 및 적응형 샘플링 방법을 사용하여 구현되며, 결과는 검증을 위해 기존 CPU 알고리즘과 비교됩니다.

저자들은 다양한 3D 모델에서 파라메트릭 공간의 기하학적 특징을 추정하는 방법을 테스트했습니다. 그 결과 레퍼런스 CPU 방식에 비해 평균 49배의 가속도와 1.245%의 절대 오차(AE)를 기록했다고 보고했습니다. 연구진은 매개변수화로 인해 한 지점에서 약간의 차이가 발생할 수 있으므로 최대 오차가 이 방법의 성능을 나타내는 것은 아니라고 강조했습니다.

테스트는 NVIDIA GTX 670 GPU와 Corei7-3820 CPU에서 수행되었습니다. 저자들은 이 방법이 토폴로지의 세부 사항에 따라 달라지는 표현에서 품질 설정을 조정할 수 있는 2차원 표현으로 계산을 전환하기 때문에 더 효율적이라고 언급했습니다. 따라서 멀티코어 및 멀티코어 아키텍처에 적합한 확장이 가능합니다.

테스트 결과 저해상도 모델의 경우 기하학적 접근 방식과 파라메트릭 접근 방식 모두 비슷한 계산 시간을 보였지만, 모델 복잡성이 증가함에 따라 저자의 방식은 100K 모델의 경우 3배에서 1200K 모델의 경우 181배까지 가속화되었으며, AE도 약간 증가한 것으로 나타났습니다.

이웃의 크기에 초점을 맞추었을 때, 기하학적 솔루션에서 이웃이 불연속적으로 표현되지 않아 이웃이 작을수록 AE가 높아지는 것으로 나타났습니다. 큰 이웃의 경우에도 AE가 증가했지만, 파라메트릭 공간 방법은 기하학적 접근 방식에서 계산 시간이 26.45배 증가한 것에 비해 2.25배 증가에 그쳐 확장성이 우수했습니다.

![다양한 매개변수화를 사용하여 계산된 평균 곡률(컬러화) 를 사용하여 계산합니다. 차트를 여러 개 사용하면 생성된 차트의 왜곡이 작아져 계산 시간이 길어지지만 오류는 줄어듭니다.](A%20Parametric%20Space%20Approach%20to%20the%20Computation%20of%20%2016a49e2681eb45449abf918e94d1751f/Untitled%205.png)

다양한 매개변수화를 사용하여 계산된 평균 곡률(컬러화) 를 사용하여 계산합니다. 차트를 여러 개 사용하면 생성된 차트의 왜곡이 작아져 계산 시간이 길어지지만 오류는 줄어듭니다.

이 방법의 품질과 성능은 픽셀당 샘플 수, 버퍼 크기, 계산이 수행되는 텍스처 크기와 같은 파라미터를 사용하여 제어할 수 있습니다. 저자는 메모리 요구 사항을 두 배로 늘리는 부동 소수점 정밀도 텍스처를 사용하면 품질이 약간 향상되지만 성능 저하를 감수할 가치가 없다는 결론을 내렸습니다.

마지막으로, 단일 차트 전역 표면 파라미터화 기법을 사용할 경우 다중 차트 파라미터화에 비해 왜곡이 더 크고 샘플링이 균일하지 않기 때문에 이 방법이 더 빠르지만 오류율이 증가한다는 사실을 발견했습니다.

### 6 LIMITATIONS

여러 축척에서 기하학적 특징을 계산하는 저자의 방법은 오브젝트 표면의 매개변수화가 필요하므로 메쉬 지오메트리에만 적용할 수 있고 포인트 클라우드에는 직접 적용할 수 없습니다.

연구팀은 파라메트릭 공간에서 계산 속도를 크게 높이는 새로운 일반적 접근 방식을 도입하여 변형 가능하거나 애니메이션이 있는 오브젝트에 사용하기에 적합합니다. 이 방법은 계산 복잡성을 기본 지오메트리의 세부 사항과 피처의 스케일에서 분리하여 이를 달성합니다.

앞으로 저자들은 객체 일치 및 객체 검색과 같은 보다 까다로운 애플리케이션에서 이 방법의 성능을 평가할 계획입니다.