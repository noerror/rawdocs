# MuseCoco: Generating Symbolic Music from Text

![Untitled](MuseCoco%20Generating%20Symbolic%20Music%20from%20Text%20d067e0dc782e41528c51bc5e055712d1/Untitled.png)

[https://arxiv.org/abs/2306.00110](https://arxiv.org/abs/2306.00110)

[https://github.com/microsoft/muzic](https://github.com/microsoft/muzic)

### 1 Introduction

텍스트-음악 생성은 자연어를 사용하여 음악을 생성하는 것으로, 특히 음악 이론에 대한 배경 지식이 없는 사용자들에게 친숙한 접근 방식을 제공합니다. 이 분야의 이전 작업은 적응성과 제어에 어려움을 겪었습니다. 텍스트에서 기호 음악(기호와 표기법으로 표현된 음악)을 생성하는 것이 더 효율적이지만, 기존 방식은 부자연스러운 텍스트 설명과 제한된 성능으로 인해 여전히 어려움을 겪었습니다.

뮤즈코코는 이러한 문제를 해결한 새로운 시스템으로, 음악 작곡 부조종사의 약자입니다. 텍스트 설명에서 상징적인 음악을 생성하여 음악 제작의 효율성을 높입니다. 이 과정은 텍스트와 음악의 속성을 이해하는 단계와 이러한 속성을 기반으로 음악을 생성하는 단계로 나뉩니다. 음악 속성은 음악 시퀀스나 기존 데이터 세트에서 가져올 수도 있고 자연어에서 추론할 수도 있습니다. 이 2단계 설계를 통해 생성된 음악을 세부적으로 조작하고 커스터마이징할 수 있어 다양한 음악 지식을 가진 사용자에게 다양한 제어 방법을 제공합니다.

MuseCoco의 공헌은 다음과 같습니다:

- 텍스트 입력을 음악적으로 일관된 기호 작곡으로 변환하여 모든 기술 수준의 사용자가 효율적이고 더 나은 제어로 음악을 만들 수 있도록 지원합니다.
- 레이블이 지정된 텍스트 설명 없이도 대량의 기호 데이터를 사용할 수 있는 2단계 프레임워크를 활용합니다.
- 주관적인 평가 결과에 따르면 음악성, 제어 가능성 및 전체 점수에서 기준 시스템보다 우수한 성능을 보였습니다.
- 12억 개의 파라미터가 포함된 대규모 MuseCoco 모델은 더욱 향상된 제어성과 음악성을 보여주며 성능을 더욱 향상시켰습니다.

### 2 Related Work

2.1 텍스트-음악 생성

딥러닝 연구에서 활발히 연구되고 있는 텍스트-음악 생성에는 텍스트와 음악이 쌍을 이루는 데이터가 부족한 경우가 많습니다. 입력 프롬프트에서 오디오 음악을 생성하기 위해 다양한 모델이 설계되었습니다. 예를 들어, MubertAI는 입력 프롬프트에 장르, 분위기, 활동 태그를 할당하고 이러한 태그를 기반으로 음악을 생성합니다. 리퓨전은 입력 텍스트와 짝을 이루는 음악 스펙트로그램을 획득하여 오디오를 생성하고, 모우사이와 ERNIE-Music은 자체 수집한 텍스트-오디오 데이터 세트와 함께 확산 모델을 사용하여 음악을 생성합니다. 최근 Huang 등은 음악 오디오와 자연어 설명을 연결하기 위해 대규모 오디오-텍스트 데이터 세트(MuLan)를 만들었습니다. MusicLM과 같은 다른 모델도 MuLan을 사용하여 텍스트에서 음악을 생성합니다. 그러나 텍스트에서 오디오 음악을 생성하는 데는 한계가 있으며, 특히 편집이 제한적입니다. 일련의 음악 기호로 표현되는 기호 음악은 해석과 조작이 더 쉽습니다.

텍스트 설명에서 심볼 음악을 생성하는 모델은 더 적습니다. 예를 들어, 음악 문장 표현 학습 프레임워크인 BUTTER는 4개의 음악 키워드가 포함된 텍스트로부터 ABC 표기법 음악을 생성합니다. 하지만 민요 데이터 세트와 몇 가지 음악적 요소로 제한됩니다. GPT-4도 음악 입력 프롬프트를 통해 ABC 표기법 음악을 생성할 수 있지만, 화성이 부족합니다. 우와 선은 텍스트에서 음악으로 생성하기 위해 사전 학습된 언어 모델의 기능을 탐색했지만, 그들의 모델은 느슨한 텍스트의 음악적 속성 값을 생성된 음악에 맞추는 데 어려움을 겪었고 솔로 트랙만 생성했습니다.

이 논문에서 제안한 MuseCoco와 같은 모델은 텍스트 설명에서 높은 제어 정확도와 우수한 음악성을 갖춘 기호 음악을 생성할 수 있습니다. 이 기호 형식은 텍스트 설명에서 파생된 속성 값을 통해 쉽게 편집하고 명시적으로 제어할 수 있습니다.

2.2 제어 가능한 음악 생성

제어 가능한 음악 생성을 통해 생성된 음악의 특정 측면을 제어할 수 있습니다. 이전 연구에서는 감정, 스타일 또는 구조와 같은 조건을 사용하여 음악 생성을 제어하기 위해 조건부 VAE, GAN 또는 확산 모델과 같은 조건부 생성 모델을 사용했습니다. 다른 연구에서는 악기, 코드 또는 음의 밀도와 같은 음악 설명을 사용하기도 했습니다. 그러나 이러한 모델은 특정 음악 측면에 대한 제어가 제한적이어서 표현력과 다양한 음악적 맥락에 대한 적응성이 제한되는 경우가 많았습니다. 특정 음악 속성으로만 음악 생성을 제어할 수 있었기 때문에 텍스트 설명을 통해 전달되는 복잡한 음악적 아이디어를 효과적으로 전달하는 데 한계가 있었습니다.

반면 MuseCoco는 텍스트 입력을 사용하여 음악 속성을 정의한 다음 음악 생성을 제어하는 데 사용합니다. 이를 통해 보다 표현력이 풍부하고 적응력이 뛰어난 음악을 만들 수 있습니다.

![MuseCoco의 2단계 프레임워크. 텍스트-속성 이해는 다양한 음악적 속성을 추출하고, 이를 기반으로 속성-음악 생성 단계를 거쳐 상징적인 음악을 생성합니다.](MuseCoco%20Generating%20Symbolic%20Music%20from%20Text%20d067e0dc782e41528c51bc5e055712d1/Untitled%201.png)

MuseCoco의 2단계 프레임워크. 텍스트-속성 이해는 다양한 음악적 속성을 추출하고, 이를 기반으로 속성-음악 생성 단계를 거쳐 상징적인 음악을 생성합니다.

### 3 MuseCoco

3.1 개요

MuseCoco는 텍스트-속성 이해와 속성-음악 생성 과정을 분리하는 2단계 프레임워크를 사용합니다. 두 단계는 그림 1과 같이 독립적으로 학습됩니다.

3.2 속성-음악 생성

음악 속성(객관적 및 주관적 속성)은 음악 시퀀스에서 추출할 수 있는 경우가 많으므로 음악 생성 모델을 자체 감독 방식으로 학습할 수 있습니다. 객관적 속성은 음악 요소의 측정 가능한 특성이며 주관적 속성은 개인적인 해석, 지각 또는 정서적 반응과 관련이 있습니다. 음악 시퀀스에서 이러한 속성을 추출한 후 음악 시퀀스에 접두사 토큰으로 추가하여 음악에 대한 명시적인 제어를 제공합니다.

데이터 세트 {V, Y}가 주어지면, 여기서 Y는 기호 음악 데이터 세트이고 V는 속성 값의 집합이며, MuseCoco는 속성 값을 접두사 토큰으로 변환하여 음악 생성을 안내합니다. 입력에 지정되지 않은 속성이 음악 생성 프로세스에 영향을 미치지 않도록 특수 토큰이 도입되었습니다.

3.3 텍스트-속성 이해

텍스트-속성 변환 작업은 일반 텍스트에서 음악 속성 값을 추출합니다. 그런 다음 이 값은 속성-음악 생성 단계에서 사용됩니다. 입력 텍스트의 각 인스턴스는 속성 값의 조합과 짝을 이룹니다. 이러한 속성 값은 소프트맥스 분류기로 클래스 세트에 대한 확률 분포를 계산하는 데 사용됩니다. 학습 중에 모든 학습 가능한 파라미터는 속성 교차 엔트로피 손실의 합을 최소화하여 미세 조정됩니다.

3.4 데이터 구축

MuseCoco는 텍스트-음악 생성 작업을 두 단계로 나누어 텍스트 설명이 없는 대량의 기호 음악 데이터를 활용합니다. 시스템은 텍스트-속성 단계에서만 페어링된 데이터만 필요합니다. 텍스트-속성 쌍은 몇 단계로 합성됩니다:

- 각 속성에 대한 템플릿 작성
- 속성 조합을 생성하고 해당 템플릿을 쌍을 이루는 텍스트로 연결하기
- ChatGPT를 통해 연결된 템플릿 다듬기
- 자리 표시자 채우기

이러한 단계를 통해 텍스트-음악 데이터를 페어링하지 않고도 두 단계 중 하나에 대한 데이터 세트를 독립적으로 구성할 수 있습니다.

### 4 Experiments

MuseCoco는 텍스트 입력에서 음악을 생성하는 2단계 시스템으로, 다양한 미디 데이터 세트를 학습하고 객관적 평가 지표와 주관적 평가 지표를 모두 사용하여 테스트했습니다. 이 시스템은 텍스트 설명을 정의된 음악적 속성 집합으로 변환한 다음 그에 따라 음악을 생성합니다.

데이터 수집 및 구성: 이 시스템은 품질과 고유성을 보장하기 위해 데이터 필터링을 통해 다양한 소스의 MIDI 파일 모음에 대해 학습되었습니다. 각 MIDI 파일에서 여러 클립을 추출하고 각각의 속성을 식별했습니다.

시스템 설계: 속성을 음악으로 변환하는 단계에서 MuseCoco는 REMI와 유사한 표현 방법을 사용하여 MIDI 파일을 토큰 시퀀스로 변환하고 선형 트랜스포머를 백본 모델로 적용합니다. 텍스트-속성 간 이해를 위해 백본 모델로 BERTlarge를 활용합니다.

평가: MuseCoco는 GPT-4 및 BART-base와 비교하여 평가되었습니다. 음악성, 제어 가능성 및 전반적인 품질 측면에서 두 기준선보다 우수한 성능을 보였습니다. 또한 2단계 프레임워크로 음악적 속성을 제어하는 데 있어서도 우수한 성능을 보였습니다.

분석 결과: 분석 결과, 뮤즈코코는 텍스트에서 각 속성을 추출하고 음악 생성을 효과적으로 제어할 수 있는 강력한 기능을 갖추고 있는 것으로 나타났습니다. 또한 다중 분류 헤드와 텍스트 정제 전략을 사용하는 것이 효과적이라는 것을 보여주었습니다. 뮤즈코코의 기본 제어 방법인 접두사 제어가 다른 방법보다 성능이 뛰어난 것으로 나타났습니다. 또한 모델 크기를 늘리면 제어 가능성이 향상되는 것도 관찰되었습니다.

뮤지션의 피드백: 음악가들은 이 시스템이 창의적인 영감을 제공하고, 작곡 시간을 단축하며, 음악 교육을 용이하게 하는 데 도움이 된다는 것을 알게 되었습니다.

### 5 Conclusion

혁신: MuseCoco는 텍스트 설명을 음악적으로 일관된 상징적 구성으로 변환하는 혁신적인 시스템입니다. 다양한 기술 수준의 사용자가 음악 창작에 더 쉽게 접근할 수 있고 창작 과정의 효율성을 높일 수 있습니다.

디자인: 2단계 설계로 학습 과정을 간소화하고, 대량의 텍스트-음악 페어링 데이터에 대한 의존도를 줄이며, 생성된 음악에 대한 제어력을 향상시킵니다. 이 시스템은 상당한 양의 상징적 음악 데이터를 활용하여 인상적인 음악성을 구현하고 텍스트 설명과 생성된 음악 간의 일관된 연결을 설정합니다.

인공지능의 잠재력: 이 연구는 아이디어 창출을 촉진하고 음악 제작 과정을 간소화하는 데 있어 인공지능 기술의 잠재력을 강조합니다. 이 연구는 아티스트에게 영감을 주고 힘을 실어주어 창의적인 도전을 극복하고 음악 작곡의 새로운 가능성을 탐구할 수 있도록 하는 것을 목표로 합니다.

윤리적 고려 사항: 창작 과정에 AI를 사용하면 저작권 및 소유권과 관련된 중요한 고려 사항이 제기되므로 앞으로 신중하게 해결해야 합니다.

한계: MuseCoco 시스템은 상당한 발전을 이루었지만, 부록 C에 자세히 설명된 바와 같이 몇 가지 한계가 있습니다. 이러한 한계는 향후 작업을 위한 지침이 되어 시스템을 더욱 개선할 수 있습니다.

전반적으로 MuseCoco는 AI 기반 음악 생성 분야에서 주목할 만한 진전을 이루었으며, 창작 작업을 보다 쉽게 접근하고 제어할 수 있게 하는 동시에 결과물의 고품질을 보장합니다.

- 요약
    
    MuseCoco 소개: 저자들은 텍스트 설명을 상징적인 음악 작곡으로 변환할 수 있는 MuseCoco라는 시스템을 개발했습니다. 이 시스템은 숙련된 음악가와 초보자 모두 쉽게 음악을 만들 수 있다는 점에서 유용합니다.
    
    2단계 디자인: 이 시스템은 두 단계로 설계되었습니다: 텍스트-속성 이해와 속성-음악 생성. 이 설계는 학습 과정을 더 쉽게 만들고 사용자가 생성하는 음악을 더 잘 제어할 수 있도록 도와줍니다.
    
    심볼릭 음악 데이터 사용: 이 시스템은 대량의 상징적 음악 데이터를 사용하여 일관성뿐만 아니라 인상적인 음악성을 지닌 음악을 생성하는 데 도움이 됩니다.
    
    음악 창작에서 AI의 잠재력: 이 연구는 AI가 새로운 아이디어를 자극하고 음악 창작 과정을 보다 효율적으로 만드는 데 어떻게 사용될 수 있는지 보여줍니다. 음악가들에게 영감을 주고 음악 작곡의 새로운 가능성을 탐구하도록 돕는 것이 목표입니다.
    
    윤리적 고려 사항: 저자들은 창작 목적으로 AI를 사용하면 저작권과 소유권에 대한 의문이 제기될 수 있음을 인정합니다. 이러한 문제는 앞으로 신중하게 해결해야 할 문제입니다.
    
    시스템의 한계: MuseCoco는 음악 생성에 있어 상당한 발전을 이루었지만 몇 가지 한계가 있으며, 이는 백서의 부록 C에 설명되어 있습니다.
    
    요약하자면, MuseCoco는 음악 제작 과정을 보다 효율적으로 만들 뿐만 아니라 창작 과정에서 더 많은 제어를 가능하게 하는 혁신적인 시스템입니다. 그러나 향후 연구에서는 윤리적 고려 사항을 다루고 시스템의 한계를 극복해야 합니다.