# Rule-based Procedural Tree Modeling Approach

[https://arxiv.org/abs/2204.03237](https://arxiv.org/abs/2204.03237)

- 2022 Apr

## 1. Introduction

최근 몇 년 동안 가상 현실(VR) 및 컴퓨터 그래픽(CG) 영화와 같은 산업의 발전과 대중화로 인해 풍부한 디지털 콘텐츠에 대한 사람들의 수요가 날로 증가하고 있다. 특히 실제 장면과 관련된 가상 현실 응용 프로그램에서는 모델의 사실성에 대한 요구가 높아지고 있다. 현실 세계의 중요한 부분인 나무를 사실적으로 모델링하고 표현하는 것은 가상 환경에서 현실감과 몰입감을 크게 향상시킬 수 있다. 그러나 일반적인 인공 물체와 달리 나무는 복잡한 형태적 구조를 가지며, 나무 간 또는 나무 내에서도 다양한 형태적 차이가 존재하여 사실적인 모델링과 렌더링에 큰 도전 과제를 안겨준다.

지난 수십 년 동안 다양한 배경을 가진 연구자들이 여러 학문 분야의 지식을 결합하여 이러한 다양한 도전 과제를 해결하기 위해 노력해왔다. 이 과정에서 많은 가치 있는 과학적 질문과 새로운 방법이 계속해서 발견되고 제안되었으며, 이를 통해 나무 모델링이 자연 과학, 수학, 컴퓨터 과학을 포함하는 다학문적 연구로 발전하게 되었다. 이들 학문이 서로 적극적으로 상호 작용하면서 나무 모델링 연구는 지속적으로 발전해왔다. 식물학에서의 가설을 검증하는 데 컴퓨터 시뮬레이션은 매우 효과적인 수단을 제공하며, 반대로 식물학에서의 새로운 발견과 이론은 컴퓨터 시뮬레이션의 개선 방향을 제시한다.

본 논문에서는 컴퓨터 그래픽스의 관점에서 나무 모델링 관련 작업을 정리하고 논의한다. 컴퓨터 그래픽스에서 모델링과 렌더링은 두 가지 핵심 연구 문제이다. 따라서 본 논문은 나무의 형태적 구조와 외관의 사실적 모델링 및 표현에 중점을 두어 이를 논의한다. 구체적으로는 개별 나무, 잎, 나무 껍질의 사실적인 형태와 렌더링을 다루며, 이러한 기본 단위의 분석을 통해 가장 중요한 문제와 그에 대한 해결책을 강조한다.

컴퓨터 그래픽스 응용 프로그램에서 나무 모델링에 대한 현재 연구는 나무의 형태와 외관을 사실적으로 모델링하고 표현하는 데 중점을 둔다. 이를 위해 해결해야 할 핵심 문제는 특정 식물의 사실적인 나무 모델을 효율적으로 모델링하고 그리는 방법이다. 단일 나무를 연구할 때 주로 모델링해야 할 대상은 나무의 가지 구조, 잎, 나무 껍질이다. 나무의 성장 과정에서 구조에 영향을 미치는 많은 내부 생성 메커니즘은 아직 완전히 이해되지 않았지만, 식물 형태 발생과 같은 관련 연구는 자연 나무 성장의 컴퓨터 시뮬레이션에 이론적 기초를 제공한다.

본 논문은 나무 가지 모델링을 네 가지 범주로 나누어 분석하고 논의하며, 각각은 규칙 기반 절차적 모델링, 비디오 이미지 및 포인트 클라우드 기반 재구성, 스케치 기반 모델링, 역방향 모델링이다. 잎과 나무 껍질의 경우, 특별한 사실성이 요구되지 않는 한 텍스처 매핑과 같은 그래픽 기법을 통해 쉽게 구현될 수 있다. 본 논문은 이러한 방법에서 발생하는 주요 문제를 해결하는 최신 진전을 분석하고 요약한다. 나무의 전체 맵핑은 효율적인 계산을 지원하기 위해 나무 가지 구조의 특수 처리가 필요하므로, 가지 모델링 작업과 결합하여 논의한다. 본 논문의 목표는 나무의 사실적 모델링 및 렌더링 과정에서의 핵심 문제와 핵심 기술을 체계적으로 정리하여 미래 연구를 위한 유용한 탐색을 제공하는 것이다.

## 2. Modeling and Rendering of Trunks and Branches

나무의 가지와 줄기 모델링 및 렌더링 작업은 데이터 수집 방식과 데이터 형태에 따라 순방향 모델링과 역방향 모델링으로 나눌 수 있다. 순방향 모델링은 간단한 규칙을 사용하여 나무의 가지 특성을 묘사하고, 이러한 규칙을 반복적으로 적용하여 현실감 있는 나무 모델을 생성하는 방식이다. 이러한 모델링 방식은 나무의 다양한 형태적 특성과 복잡한 가지 구조를 충분히 재현하지 못할 수 있다. 순방향 모델링은 나무의 식물학적 성장 규칙을 따르며, 이러한 규칙을 기반으로 더 많은 규칙을 정의하고 적용하여 더욱 현실적인 나무 모델을 생성할 수 있다.

비디오 이미지와 같은 데이터 수집 기술의 발전으로 나무 모델링 연구에 많은 데이터가 제공되었다. 이를 통해 순방향 모델링뿐만 아니라 역방향 모델링도 가능해졌다. 역방향 모델링은 전체 나무 데이터를 기반으로 가지 구조를 추론하는 방식으로, 레이저 스캐닝을 통해 얻은 3D 포인트 클라우드 데이터 등을 활용한다. 역방향 모델링은 본질적으로 해가 존재하거나 유일하지 않을 수 있는 불완전한 문제이므로, 실용적인 응용에서 특정 제약을 가하거나 사전 지식을 도입하여 해결책을 찾아야 한다. 역방향 모델링 방법은 비디오 이미지와 포인트 클라우드 기반 재구성, 스케치 기반 모델링, 기타 역방향 재구성 방법으로 세분화된다.

순방향 모델링 작업에서는 주로 규칙 기반 절차적 모델링 방법을 소개한다. 초기의 구조적 모델링에서부터 현재의 구조적 모델링과 자가 조직화 모델링을 통합한 최첨단 혼합 모델링 방법까지 다양한 발전이 있었다. 역방향 모델링에서는 비디오 이미지와 스케치 기반 모델링 방법을 먼저 논의하고, 그 외의 더 도전적인 역방향 모델링 방법을 분석한다.

결론적으로, 나무 가지와 줄기의 모델링 및 렌더링은 다양한 접근 방식과 기술을 통해 발전해 왔으며, 각 방법은 데이터 수집 기술과 모델링 목적에 따라 장단점을 가지고 있다. 이 과정에서 나무의 사실적인 표현을 위해서는 나무의 성장 규칙과 구조적 특성을 고려하는 것이 중요하다.

## 3. Rule-based Procedural Modeling Approach

규칙 기반 절차적 모델링 접근법은 나무 가지의 성장 특성과 기하학적 정보를 설명하는 규칙을 사용하여 나무 모델을 생성하는 방법이다. 이 방법에서는 주로 기하학적 규칙과 성장 규칙을 기반으로 나무의 구조를 모델링한다.

### 3.1 기하학적 규칙 기반 구조적 모델링

초기 연구에서는 가지의 각도와 가지 길이 비율과 같은 간단한 기하학적 정보를 사용하여 나무의 가지 구조를 설명했다. 이러한 규칙을 통해 나무의 전체적인 형태와 성장 방향을 제어할 수 있었다. 이후 연구에서는 더 풍부한 규칙을 도입하여 다양한 기하학적 생성 모델을 지원하고, 이를 결합하여 더 현실감 있는 가지 구조를 시뮬레이션했다. 그러나 이러한 방법은 다른 나무 종의 모델링에는 한계가 있었다.

단순한 기하학적 규칙의 한계를 극복하기 위해, 일부 연구에서는 세밀한 가지 구조를 제어하기 위해 많은 기하학적 매개변수를 도입했다. 이러한 매개변수들은 나무 가지의 구체적인 기하학을 제어하는 데 중점을 두고 있어 모델링 효율성은 떨어질 수 있지만, 보다 정교한 나무 모델을 생성할 수 있었다.

### 3.2 성장 규칙 기반 구조적 모델링

![ 문헌 [14, 42]에서 사용된 기하학적 매개변수의 개략도](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled.png)

 문헌 [14, 42]에서 사용된 기하학적 매개변수의 개략도

![일반화된 실린더를 기반으로 한 가지와 줄기의 표면 모델링. 왼쪽: 국부 프레임의 제어. 오른쪽: 분기된 가지 줄기 표면의 모델링.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%201.png)

일반화된 실린더를 기반으로 한 가지와 줄기의 표면 모델링. 왼쪽: 국부 프레임의 제어. 오른쪽: 분기된 가지 줄기 표면의 모델링.

![나무 모델링 방법 [5, 11].](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%202.png)

나무 모델링 방법 [5, 11].

![ L-시스템과 해당 나무 모델.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%203.png)

 L-시스템과 해당 나무 모델.

![전체 형태를 기반으로 한 모델링 결과.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%204.png)

전체 형태를 기반으로 한 모델링 결과.

![태양광 경쟁이 나무 가지에 미치는 영향.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%205.png)

태양광 경쟁이 나무 가지에 미치는 영향.

![공간 군집 알고리즘의 흐름도.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%206.png)

공간 군집 알고리즘의 흐름도.

기하학적 매개변수를 사용하여 가지를 직접 제어하는 대신, 일부 연구는 나무의 다양한 형태 구조 뒤에 있는 성장 규칙을 분석하여 나무의 성장을 시뮬레이션했다. 예를 들어, 나무 가지의 성장을 일정한 궤적을 따라 움직이는 기본 기하학의 반복 과정으로 간주하여 가지를 생성했다. 이 방법은 가지를 생성하는 데 사용되는 규칙이 단순할 수 있지만, 결과적으로 생성된 나무 모델이 현실적이지 않을 수 있다.

이를 해결하기 위해, 일부 연구에서는 부드러운 표면을 가진 가지를 생성하기 위해 일반화된 실린더 기법을 도입했다. 이 방법은 가지의 골격 구조를 생성하고, 이를 기반으로 가지 표면을 생성하여 부드러운 가지 표면을 만들었다. 또 다른 연구에서는 식물학의 원칙을 따르며, 나무의 싹에서 시작되는 성장 엔진을 기반으로 가지의 성장 과정을 시뮬레이션했다. 이 방법은 외부 환경의 영향(예: 중력, 빛 등)을 성장 과정에 결합하여 더 현실적인 나무 모델을 생성할 수 있었다.

### 3.3 자가 조직화 나무 모델링

![ 다른 매개변수를 사용한 모델링을 기반으로 한 나무 모델.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%207.png)

 다른 매개변수를 사용한 모델링을 기반으로 한 나무 모델.

![생장점 우세성을 제어하여 얻은 다양한 나무 모델.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%208.png)

생장점 우세성을 제어하여 얻은 다양한 나무 모델.

위의 방법들은 모두 특정 규칙을 기반으로 재귀적으로 최종 가지 구조를 생성하는 방식이다. 이러한 방법은 주로 나무의 초기 성장 과정을 시뮬레이션하는 데 사용된다. 그러나 성숙한 나무를 시뮬레이션할 때는 가지와 줄기 사이의 공간 경쟁 메커니즘을 고려해야 한다. 이를 위해 공간 군집 알고리즘을 도입하여 가지와 줄기 사이의 공간 경쟁을 시뮬레이션하고, 현실감 있는 나무 모델을 생성했다.

자가 조직화 모델링 방법은 가지와 줄기의 밀도 및 전체 분포를 자연스럽고 현실감 있게 유지하는 데 유리하다. 이는 최소한의 매개변수 조정을 통해 나무의 다양한 형태적 특성을 효과적으로 시뮬레이션할 수 있는 장점이 있다.

### 3.4 계층적 그래프 구조 기반 절차적 모델링

![ [31]에서 추가로 설명된 세 가지 나무 모델.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%209.png)

 [31]에서 추가로 설명된 세 가지 나무 모델.

![가지 수준의 나무 다이어그램과 해당 그래픽 매개변수 편집기.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%2010.png)

가지 수준의 나무 다이어그램과 해당 그래픽 매개변수 편집기.

![단일 나무에 해당하는 p-그래프와 3차원 가지 구조.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%2011.png)

단일 나무에 해당하는 p-그래프와 3차원 가지 구조.

![하위 구조를 기반으로 한 나무 모델링 효과.](Rule-based%20Procedural%20Tree%20Modeling%20Approach%20daebecb9a6ed470b89cd5dd096963809/Untitled%2012.png)

하위 구조를 기반으로 한 나무 모델링 효과.

L-시스템과 같은 일부 모델링 방법은 나무의 성장 규칙을 시뮬레이션하여 모델을 생성하지만, 지역 규칙과 최종 형태 구조 사이에 직접적인 상관관계가 없어 전체 구조를 제어하기 어렵다. 이를 해결하기 위해, 일부 연구는 그래픽 제어 방법을 도입하여 나무의 전체 구조를 제어하고, 지역 규칙의 매개변수를 쉽게 조정할 수 있도록 했다.

이 방법은 나무 가지를 계층적 그래프로 조직하여, 각 계층에서 가지의 형태와 구조를 제어할 수 있게 한다. 이를 통해 사용자 친화적인 그래픽 인터페이스를 제공하여 모델링 과정을 보다 직관적이고 효율적으로 만들었다.

### 결론

규칙 기반 절차적 모델링은 나무의 사실적 모델링을 위한 중요한 접근 방식이다. 이 방법은 성장 규칙과 기하학적 정보를 결합하여 나무의 형태를 시뮬레이션하고, 외부 환경의 영향을 고려하여 더욱 현실적인 나무 모델을 생성하는 데 중점을 둔다. 이를 통해 나무 모델링의 핵심 문제를 해결하고, 미래 연구에 유용한 탐색을 제공한다.

## 4. Conclusion

규칙 기반 절차적 모델링의 결론에서는 두 가지 주요 발전 경향을 강조한다. 첫 번째는 구조화된 모델링에서 자가 조직화된 혼합 모델링으로의 전환이다. 이 혼합 모델링 방법은 성장 규칙과 환경적 효과를 결합하여 더욱 현실감 있는 나무 모델을 생성한다. 두 번째는 매개변수와 문법 규칙과 같은 비직관적인 모델링 제어 방법에서 직관적인 그래픽 구조 기반의 절차적 모델링 방법으로의 전환이다. 이러한 인터랙티브 모델링 방법의 개선은 사용자의 모델링 효율성을 크게 향상시켜 현재의 상업용 나무 모델링 소프트웨어에서도 널리 채택되고 있다.

추가적으로, 물리 기반 조명 계산을 다양한 응용 프로그램에 적용하는 확장 연구들이 존재한다. 예를 들어, 딥러닝 기반 몬테카를로 노이즈 감소는 신경망 디노이저를 통해 노이즈가 많은 몬테카를로 렌더링 결과를 고품질의 부드러운 출력으로 필터링하여 물리 기반 렌더링 기술의 활용도를 크게 향상시킨다. 또한, 다중 조명 렌더링 프레임워크는 경로 추적 알고리즘 외의 중요한 렌더링 프레임워크로, 다수의 가상 광원으로부터의 직접 조명을 계산하여 렌더링 속도를 높인다.

마지막으로, 자동화된 렌더링 파이프라인 최적화는 고품질 렌더링 기술을 실시간 렌더링 응용 프로그램에 적용할 수 있도록 한다. 여기에는 품질과 속도에 기반한 자동 최적화, 에너지 절약을 위한 자동 최적화, 지형 데이터의 LOD 최적화 등이 포함된다. 또한, 단일 이미지 반사 제거를 위한 물리 기반 데이터 생성 가이드, 이미지 검색을 위한 하이퍼그래프에서의 지역 이미지 특징 전파, 블록체인 기반 분산 시스템에서의 3D 자산 관리 등도 연구되고 있다.

결론적으로, 규칙 기반 절차적 모델링은 나무 모델링 분야에서 중요한 역할을 하고 있으며, 앞으로도 다양한 기술과 방법을 결합하여 더 현실감 있고 효율적인 나무 모델링 방법을 개발하는 데 기여할 것이다. 이러한 연구들은 나무 모델링의 사실성과 효율성을 높이는 데 중점을 두고 있으며, 향후 연구 방향에 대한 귀중한 통찰을 제공한다.