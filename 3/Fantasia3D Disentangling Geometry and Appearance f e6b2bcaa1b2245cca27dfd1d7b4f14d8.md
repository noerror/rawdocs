# Fantasia3D: Disentangling Geometry and Appearance for High-quality Text-to-3D Content Creation

[https://fantasia3d.github.io/assets/Fantasia3D.pdf](https://fantasia3d.github.io/assets/Fantasia3D.pdf)

### 1. Introduction

판타지아3D는 고품질 텍스트-3D 콘텐츠 제작을 위한 새로운 방법입니다. 지오메트리와 외관의 모델링과 학습을 분리하여 세부적인 지오메트리를 생성하고 이미지를 사실적으로 렌더링할 수 있습니다. 이 방법은 지오메트리 학습을 위해 DMTET라는 하이브리드 표현을 사용하며, 차등 메시 추출을 통해 표면 변형을 지원합니다. 표면 법선은 DMTET에서 추출되어 사전 학습된 이미지 확산 모델의 입력으로 인코딩되므로 모양 생성을 보다 섬세하게 제어할 수 있습니다. 외형 모델링을 위해 판타지아3D는 텍스트에서 3D로 변환하는 콘텐츠 제작에 완전한 BRDF 학습을 도입하여 사실적인 렌더링을 통한 고품질 3D 생성을 약속합니다. 또한 이 방법은 사용자 선호도에 따라 사용자 정의할 수 있으며 생성된 3D 에셋의 재조명, 편집 및 물리적 시뮬레이션을 지원합니다.

### 2. Related work

텍스트 안내와 같은 단순한 시맨틱에서 고품질 3D 콘텐츠를 생성하는 것을 목표로 하는 텍스트 3D 콘텐츠 제작은 최근 몇 년 동안 상당한 주목을 받고 있습니다. 기존 방식은 점수 증류 샘플링을 통해 사전 훈련된 2D 텍스트-이미지 모델을 사용하여 3D 지오메트리를 생성하거나 텍스트 조건부 3D 생성 모델을 처음부터 훈련합니다. 하지만 이러한 방법은 고품질 조명과 표면 머티리얼보다는 지오메트리를 생성하는 데 더 중점을 둡니다. 탱고는 텍스트 프롬프트가 주어지면 고품질 표면 머티리얼을 생성할 수 있지만 3D 표면 메시가 입력으로 필요합니다.

표면 재질 추정은 컴퓨터 비전 및 그래픽스 연구의 오랜 과제입니다. 초기에는 알려진 조명 조건에서 물리 기반 재질을 복구하는 데 중점을 두었고, 이후에는 완전한 지오메트리 정보를 가정하여 자연광 조건에서 재질을 추정하려고 시도했습니다. 최근에는 보정된 멀티뷰 이미지가 주어지면 지오메트리와 머티리얼을 공동으로 재구성하는 방법이 제안되었습니다.

판타지아3D는 생성된 3D 콘텐츠의 사실적인 렌더링에 필수적인 고품질 표면 지오메트리와 해당 머티리얼을 모두 생성하여 기존 방법의 단점을 해결함으로써 오브젝트 수준의 텍스트에서 3D 콘텐츠 제작의 고리를 끊어줍니다.

### 3. Preliminary

![그림 3. 방법 개요. 우리의 방법은 텍스트 프롬프트가 주어지면 엉킨 지오메트리와 모양을 생성할 수 있습니다(그림 (a) 참조), 이는 각각 (b) 지오메트리 모델링과 (c) 외관 모델링에 의해 생성됩니다. (b) 우리는 3D 지오메트리로 DMTET을 사용합니다. 표현으로 사용하며, 여기서는 3D 타원체로 초기화됩니다. DMTET의 파라미터를 최적화하기 위해 노멀 맵을 렌더링합니다. 초기 훈련 단계의 오브젝트 마스크)를 안정적인 확산의 형상 인코딩으로 DMTet에서 추출한 메시의 노멀 맵으로 렌더링합니다[34, 38]. (c) 외관 모델링의 경우 외형 모델링의 경우, 공간적으로 가변적인 양방향 반사율 분포 함수(BRDF) 모델링을 텍스트-3D 생성에 도입하고 외형의 세 가지 구성 요소(즉, kd, krm, kn)를 예측하는 방법을 학습합니다. 지오메트리와 외형 모델링은 모두 점수 증류 샘플링(SDS) 손실에 의해 감독됩니다[32].](Fantasia3D%20Disentangling%20Geometry%20and%20Appearance%20f%20e6b2bcaa1b2245cca27dfd1d7b4f14d8/Untitled.png)

그림 3. 방법 개요. 우리의 방법은 텍스트 프롬프트가 주어지면 엉킨 지오메트리와 모양을 생성할 수 있습니다(그림 (a) 참조), 이는 각각 (b) 지오메트리 모델링과 (c) 외관 모델링에 의해 생성됩니다. (b) 우리는 3D 지오메트리로 DMTET을 사용합니다. 표현으로 사용하며, 여기서는 3D 타원체로 초기화됩니다. DMTET의 파라미터를 최적화하기 위해 노멀 맵을 렌더링합니다. 초기 훈련 단계의 오브젝트 마스크)를 안정적인 확산의 형상 인코딩으로 DMTet에서 추출한 메시의 노멀 맵으로 렌더링합니다[34, 38]. (c) 외관 모델링의 경우 외형 모델링의 경우, 공간적으로 가변적인 양방향 반사율 분포 함수(BRDF) 모델링을 텍스트-3D 생성에 도입하고 외형의 세 가지 구성 요소(즉, kd, krm, kn)를 예측하는 방법을 학습합니다. 지오메트리와 외형 모델링은 모두 점수 증류 샘플링(SDS) 손실에 의해 감독됩니다[32].

점수 증류 샘플링(SDS)은 사전 학습된 2D 확산 모델을 사용하여 3D 장면 파라미터를 최적화하고 텍스트 설명에서 새로운 뷰를 합성하는 데 DreamFusion에서 사용되는 방법입니다. 장면은 미분 가능한 이미지 매개변수로 표현되며, 미분 가능한 제너레이터는 수정된 Mip-NeRF에서 2D 이미지를 렌더링합니다. 확산 모델은 장면 파라미터 θ를 업데이트하기 위해 기울기 방향을 안내하는 점수 함수를 제공하며, 본 연구에서는 안정 확산의 릴리즈된 잠복 공간 확산 모델을 안내 모델로 사용하고, 이에 따라 SDS 손실을 수정합니다.

DMTET는 Shen 등이 제안한 하이브리드 표현으로, 변형 가능한 사면체 그리드와 미분 가능한 행진 사면체(MT) 레이어라는 두 가지 주요 특징을 가지고 있습니다. 변형 가능한 사면체 그리드는 사면체 그리드의 정점으로 구성됩니다. 각 정점에 대해 이 방법은 네트워크를 사용하여 부호화된 거리 함수(SDF) 값과 위치 오프셋을 예측합니다. 이를 통해 훈련의 각 반복 과정에서 MT 레이어를 통해 명시적인 메시를 추출할 수 있습니다. 이 작업에서는 지오메트리 표현으로 DMTET을 사용하며, MT 레이어에서 추출한 메시를 차등 렌더러를 통해 반복적으로 렌더링합니다.

### 4. The Proposed Method

이 섹션에서는 고품질 텍스트-3D 객체 생성을 위해 제안된 방법인 Fantasia3D를 소개합니다. 이 방법은 지오메트리와 외관의 모델링과 학습을 분리합니다. 지오메트리 모델링을 위해 판타지아3D는 DMTET의 하이브리드 표면 표현에 의존하며, 3D 지오메트리를 변형 가능한 사면체 그리드에서 각 정점에 대한 SDF 값과 위치 오프셋을 예측하는 학습을 하는 MLP Ψ로 파라미터화합니다. 외형 모델링을 위해 이 방법은 전체 양방향 반사율 분포 함수(BRDF) 모델링을 텍스트-3D 생성에 도입하고, 사실적인 렌더링을 통해 고품질 3D 생성을 위해 표면 재질 파라미터를 예측하는 MLP Γ를 학습합니다.

전체 파이프라인은 SDS 감독을 통해 학습되며, 그라데이션은 사전 학습된 안정적인 확산 모델을 통해 역전파됩니다. 파이프라인은 3D 타원체 또는 사용자가 제공한 맞춤형 3D 모델로 초기화할 수 있습니다.

제안된 방법인 판타지아3D는 여러 단계로 구성됩니다:

- DMTET 초기화: DMTET를 3D 장면 표현으로 채택하고 손실 함수에 기반한 피팅 절차를 사용하여 네트워크 Ψ의 파라미터를 초기화합니다.
- 지오메트리 모델링: 이 방법은 DMTET의 하이브리드 씬 표현을 사용하여 지오메트리 생성과 외형 생성을 분리합니다. 이를 통해 사실적인 표면 렌더링과 사전 학습된 텍스트-이미지 모델을 더 잘 활용할 수 있습니다. 지오메트리 파라미터는 SDS 손실을 사용하여 업데이트됩니다.
- 외관 모델링: 이 방법은 공간적으로 변화하는 머티리얼 파라미터를 예측하도록 학습된 MLP Γ를 파라미터화된 머티리얼 모델로 사용합니다. 이러한 파라미터는 DMTET에서 추출한 표면을 렌더링하는 데 사용됩니다. 외형 파라미터는 SDS 손실을 사용하여 업데이트됩니다.
- 텍스처링: 훈련된 Γ는 생성된 외관을 2D 텍스처 맵으로 샘플링하는 데 사용됩니다. 텍스처 맵의 배경 픽셀과 결과 렌더링의 이음새를 제거하기 위해 UV 에지 패딩 기법이 사용됩니다.

구현 세부 사항에는 네트워크 Ψ 및 Γ의 아키텍처, 최적화 프로세스, 학습 속도, 노멀 맵 및 컬러 이미지 렌더링을 위해 샘플링된 카메라 포즈 수가 포함됩니다.

### 5. Experiments

이 섹션에서는 텍스트-3D 콘텐츠 제작을 위해 제안한 방법인 판타지아3D의 효율성을 평가하기 위한 종합적인 실험을 소개합니다. 우리는 제거 연구를 수행하고, 최첨단 방법과 비교하고, 편집 및 시뮬레이션을 위해 널리 사용되는 그래픽 엔진과의 호환성을 입증합니다.

![Untitled](Fantasia3D%20Disentangling%20Geometry%20and%20Appearance%20f%20e6b2bcaa1b2245cca27dfd1d7b4f14d8/Untitled%201.png)

"테오도로스 콜로코트로니스의 매우 상세한 석상 흉상"이라는 텍스트 프롬프트 예제를 사용하여 제거 연구를 진행합니다. 그 결과 Fantasia3D의 얽힘 없는 디자인은 그럴듯한 결과를 생성하는 데 효과적인 반면 얽힘 학습은 만족스러운 결과를 생성하지 못하는 것으로 나타났습니다. 또한 판타지아3D에서 형상 인코딩과 BRDF의 역할을 조사한 결과, 이 기능이 없으면 각각 형상이 뒤틀리고 현실감이 떨어지는 결과를 초래하는 것으로 나타났습니다.

![Untitled](Fantasia3D%20Disentangling%20Geometry%20and%20Appearance%20f%20e6b2bcaa1b2245cca27dfd1d7b4f14d8/Untitled%202.png)

제로 샷 생성 설정에서 두 가지 최신 방법인 DreamFusion [32] 및 Magic3D [17]와 Fantasia3D를 비교합니다. 판타지아3D는 외형 및 지오메트리 생성에서 두 방법보다 일관되게 성능이 우수하며 지오메트리 추출 및 편집이 용이하다는 편리함을 제공합니다.

판타지아3D는 사용자 정의된 3D 모델을 초기화로 받아들일 수 있어 사용자 가이드 에셋 생성을 용이하게 합니다. 초기화를 위한 저품질 3D 모델이 주어졌을 때 이 방법은 지오메트리와 외관 모두에서 풍부한 디테일을 생성합니다. 이 설정에서 지오메트리와 텍스처 생성 모두에서 최신 접근 방식인 Latent-NeRF[22]를 능가하는 성능을 발휘합니다.

얽히지 않는 디자인으로 인해 판타지아3D는 장면 편집 및 물리적 시뮬레이션을 위해 널리 사용되는 그래픽 엔진과 호환됩니다. 생성된 석상을 블렌더로 가져와서 부드러운 바디 및 천 시뮬레이션을 수행하고 머티리얼 편집을 시연하여 호환성을 보여줍니다. 생성된 표면 지오메트리의 높은 품질 덕분에 시뮬레이션에서 높은 수준의 물리적 정확도를 구현할 수 있습니다. 또한, 생성된 결과물과 씬 간의 그럴듯한 물리적 상호작용과 HDR 환경 맵을 대체하여 다양한 라이팅 및 그에 따른 반사율 효과를 생성하는 기능을 시연합니다.

### 6. Conclusion

이 백서에서는 텍스트를 3D로 자동 생성하는 새로운 방법인 판타지아3D를 소개합니다. 판타지아3D는 지오메트리와 외관에 대한 분리형 모델링과 학습을 사용하여 미세한 표면 디테일과 풍부한 재질/질감을 생성할 수 있습니다. 이 방식은 지오메트리 학습을 위해 인코딩된 렌더링 노멀 맵을 사용하고 외형 모델링을 위해 공간적으로 가변적인 BRDF를 도입하는 DMTET의 하이브리드 씬 표현을 기반으로 합니다.
판타지아3D는 텍스트 프롬프트 또는 사용자 정의된 3D 모양으로 트리거할 수 있어 사용자가 생성된 콘텐츠를 더욱 효과적으로 제어할 수 있습니다. 또한 이 방법은 널리 사용되는 그래픽 엔진과 호환되므로 생성된 3D 에셋의 재조명, 편집 및 물리적 시뮬레이션을 지원합니다.

향후 연구로 현재 방식에서 사용하는 사전 학습된 이미지 확산 모델(즉, 안정적 확산)을 기반으로 대규모 언어 모델에서 직접 3D 확산을 학습하는 방법을 모색할 계획입니다.

- DMTET(Disentangled Mesh and Texture Encoding Tree)
    
    DMTET는 텍스트 설명에서 3D 모델을 생성하기 위해 판타지아3D 방식에서 사용되는 하이브리드 씬 표현입니다. 3D 모델의 지오메트리(모양)와 외형(재질 및 텍스처)을 분리하여 고품질 3D 콘텐츠를 더 쉽게 학습하고 생성할 수 있도록 합니다. 이 두 가지 측면을 분리함으로써 판타지아3D는 텍스트 입력을 기반으로 더욱 사실적이고 세밀한 3D 모델을 생성할 수 있습니다.