# Magic3D: High-Resolution Text-to-3D Content Creation

NVIDIA Corporation

[https://arxiv.org/pdf/2211.10440.pdf](https://arxiv.org/pdf/2211.10440.pdf)

1

Magic3D는 텍스트 프롬프트에서 고품질 3D 메시 모델을 생성하기 위한 2단계 최적화 프레임워크입니다. 이 프레임워크는 NeRF의 최적화가 느리고 저해상도 이미지 공간 감독에 한계가 있던 드림퓨전의 한계를 해결합니다. 첫 번째 단계에서 Magic3D는 저해상도 디퓨전 프리를 사용하고 스파스 3D 해시 그리드 구조로 프로세스를 가속화하여 거친 모델을 얻습니다. 두 번째 단계에서는 고해상도 잠복 확산 모델과 상호 작용하는 효율적인 차별화 렌더러를 사용하여 텍스처가 있는 3D 메시 모델을 최적화합니다.

Magic3D는 드림퓨전보다 2배 빠른 40분 만에 고품질 3D 메시 모델을 생성할 수 있습니다. 사용자 연구에 따르면 평가자의 61.7%가 드림퓨전보다 Magic3D를 선호한다고 답했습니다. 또한 Magic3D는 3D 합성을 제어할 수 있는 새로운 방법을 사용자에게 제공하여 다양한 크리에이티브 애플리케이션을 구현할 수 있습니다.

2. Related Work

텍스트-이미지 생성은 최근 몇 년 동안 확산 모델을 통해 상당한 진전을 이루었으며, 텍스트 설명에서 고품질 이미지를 생성할 수 있게 되었습니다. 하지만 3D 속성을 설명하고 제어하기 위해 언어를 사용하는 것은 여전히 어려운 과제입니다.

3D 생성 모델은 복셀 그리드, 포인트 클라우드, 메시, 암시적 또는 옥트리 표현과 같은 다양한 표현을 탐색해 왔습니다. 하지만 대부분의 접근 방식은 대규모로 확보하기 어려운 3D 에셋에 의존합니다. 최근에는 이미지에서 직접 3D 생성 모델을 학습하는 3D 인식 이미지 합성에 투자하기 시작했습니다. 이러한 작업은 유망하지만 단일 객체 범주에 국한되어 있습니다.

텍스트 대 이미지 제너레이티브 모델링의 성공으로 텍스트 대 3D 제너레이션에 대한 관심이 높아졌습니다. CLIP-forge, DreamField, CLIP-mesh는 사전 학습된 이미지-텍스트 모델을 활용하여 기본 3D 표현을 최적화하므로 값비싼 3D 학습 데이터가 필요하지 않습니다. 드림퓨전은 강력한 사전 훈련된 텍스트-이미지 확산 모델을 강력한 이미지 선행으로 활용함으로써 텍스트-3D 합성에서 인상적인 성능을 보여주었습니다. 제안된 Magic3D 프레임워크는 드림퓨전을 기반으로 하며 생성 시간을 단축하고 충실도가 높은 3D 모델을 생성하기 위해 몇 가지 설계 옵션을 개선했습니다.

3. Background: DreamFusion

드림퓨전은 신경 장면 표현(장면 모델)과 사전 학습된 텍스트-이미지 확산 기반 생성 모델을 사용하는 텍스트-3D 생성 방식입니다. 장면 모델은 원하는 카메라 포즈에서 이미지를 생성하는 파라메트릭 함수이며, 확산 모델은 기본 3D 표현을 업데이트하기 위해 그라데이션 방향을 제공합니다. 드림퓨전은 스코어 증류 샘플링(SDS)을 도입하여 그라데이션을 계산합니다.

하지만 드림퓨전에는 두 가지 주요 한계가 있습니다:

- 확산 모델은 저해상도(64x64) 이미지에서 작동하기 때문에 고해상도 지오메트리 또는 텍스처를 얻을 수 없습니다.
- 볼륨 렌더링에 대규모 글로벌 MLP(다층 퍼셉트론)를 사용하는 것은 계산 비용이 많이 들고 메모리 집약적이기 때문에 이미지 해상도가 증가함에 따라 접근 방식이 제대로 확장되지 않습니다.
이러한 한계로 인해 처리 시간이 길고 품질이 낮은 3D 모델이 생성되어 이 방법으로 고해상도 3D 합성을 효율적으로 달성할 수 없습니다.
    
    ![그림 2. Magic3D 개요. 입력 텍스트 프롬프트에서 고해상도 3D 콘텐츠를 거칠게에서 세밀하게 생성합니다. 첫 번째 단계에서는 저해상도 확산 선행을 활용하고 신경망 필드 표현(색상, 밀도, 노멀 필드)을 최적화하여 거친 모델을 얻습니다. 거친 모델의 밀도 및 컬러 필드에서 텍스처가 있는 3D 메시를 추가로 차별적으로 추출합니다. 그런 다음 고해상도 잠상차를 사용하여 고해상도 잠복 확산 모델을 사용하여 미세 조정합니다. 최적화 후 모델은 디테일한 텍스처가 포함된 고품질 3D 메시를 생성합니다.](Magic3D%20High-Resolution%20Text-to-3D%20Content%20Creatio%2046c57881c619451c9db13ceac152c561/Untitled.png)
    
    그림 2. Magic3D 개요. 입력 텍스트 프롬프트에서 고해상도 3D 콘텐츠를 거칠게에서 세밀하게 생성합니다. 첫 번째 단계에서는 저해상도 확산 선행을 활용하고 신경망 필드 표현(색상, 밀도, 노멀 필드)을 최적화하여 거친 모델을 얻습니다. 거친 모델의 밀도 및 컬러 필드에서 텍스처가 있는 3D 메시를 추가로 차별적으로 추출합니다. 그런 다음 고해상도 잠상차를 사용하여 고해상도 잠복 확산 모델을 사용하여 미세 조정합니다. 최적화 후 모델은 디테일한 텍스처가 포함된 고품질 3D 메시를 생성합니다.
    

4. High-Resolution 3D Generation

Magic3D는 고해상도 텍스트를 3D로 생성하는 방법으로, 2단계의 거친-세밀한 프레임워크와 효율적인 장면 모델을 사용합니다. Magic3D의 주요 구성 요소와 DreamFusion과의 차이점은 다음과 같습니다:

- 거친-세밀한 디퓨전 프라이어 Coarse-to-fine Diffusion Priors: Magic3D는 고해상도 지오메트리와 텍스처를 생성하기 위해 두 가지 디퓨전 프리어를 거칠고 세밀한 방식으로 사용합니다. 첫 번째 단계에서는 기본 확산 모델(eDiff-I)을 사용하고, 두 번째 단계에서는 고해상도 이미지 생성을 위해 잠복 확산 모델(LDM)을 사용합니다.
- 장면 모델: Magic3D는 해상도 향상을 위해 두 가지 다른 3D 장면 표현을 사용합니다. 거친 단계에서는 계산 비용을 줄이기 위해 인스턴트 NGP의 해시 그리드 인코딩이 포함된 신경망을 사용합니다. 세밀한 단계에서는 텍스처가 있는 3D 메시를 장면 표현으로 사용하여 고해상도 이미지를 효율적으로 렌더링할 수 있습니다.
- 거칠게-세밀하게 최적화Coarse-to-fine Optimization: Magic3D는 먼저 거친 신경장 표현을 최적화한 다음 고해상도 텍스처 메시를 최적화합니다. 신경망을 최적화하는 동안 점유 그리드를 초기화하고 10회 반복할 때마다 업데이트합니다. 메시 최적화 단계에서는 차등 래스터라이저를 사용하여 추출된 표면 메시를 고해상도 이미지로 렌더링하고 고해상도 SDS 그라데이션을 사용하여 메시 파라미터를 최적화합니다.

![단일 단계(좌)와 거친 모델에서 세밀한 모델(우) 비교. 둘 다 씬 모델에 NeRF를 사용합니다. 왼쪽 두 열은 다음을 사용합니다. 최적화 과정에서 64×64 렌더링 해상도를 사용하며, 오른쪽 두 열은 256×256을 사용합니다. 우리의 거칠고 세밀한 접근 방식에 비해 단일 단계 방법은 디테일을 생성할 수 있지만 모양이 더 나쁩니다.](Magic3D%20High-Resolution%20Text-to-3D%20Content%20Creatio%2046c57881c619451c9db13ceac152c561/Untitled%201.png)

단일 단계(좌)와 거친 모델에서 세밀한 모델(우) 비교. 둘 다 씬 모델에 NeRF를 사용합니다. 왼쪽 두 열은 다음을 사용합니다. 최적화 과정에서 64×64 렌더링 해상도를 사용하며, 오른쪽 두 열은 256×256을 사용합니다. 우리의 거칠고 세밀한 접근 방식에 비해 단일 단계 방법은 디테일을 생성할 수 있지만 모양이 더 나쁩니다.

Magic3D의 접근 방식을 통해 드림퓨전보다 향상된 효율성과 품질로 고해상도 3D 합성을 구현할 수 있습니다.

5 

실험에서 Magic3D는 드림퓨전 웹사이트에서 가져온 397개의 텍스트 프롬프트를 사용하여 드림퓨전과 비교됩니다. 주요 초점은 속도 평가와 정성적 비교에 있습니다.

속도 평가: Magic3D의 거친 단계는 약 15분의 런타임으로 5000회 반복 훈련됩니다. 세밀한 단계는 25분 동안 3000번의 반복으로 훈련되어 8개의 NVIDIA A100 GPU에서 총 40분의 런타임이 소요됩니다.

질적 비교: Magic3D는 드림퓨전에 비해 지오메트리와 텍스처 측면에서 더 높은 3D 품질을 달성합니다. 결과 3D 모델은 표준 그래픽 소프트웨어에서 직접 가져와 시각화할 수 있습니다.

사용자 연구: Amazon MTurk에서 실시한 설문조사에서 61.7%의 사용자가 Magic3D로 생성된 3D 모델이 DreamFusion으로 생성된 모델에 비해 더 사실적이고 디테일하다고 선호했습니다.

절제 연구:

- LDM 사전 최적화를 통한 단일 단계 최적화: 이 실험은 고품질 결과를 얻기 위해서는 2단계 접근 방식이 필수적이라는 것을 보여줍니다.
- 미세 모델에 NeRF 사용: 2단계 접근 방식은 2단계 씬 모델을 NeRF로 대체하여 좋은 지오메트리를 유지하고 디테일을 더 추가할 때 잘 작동합니다.

실험을 통해 Magic3D가 드림퓨전보다 향상된 속도와 품질을 제공하는 동시에 거친 모델에서 세밀한 모델로 최적화하는 과정에서 장면 모델을 유연하게 선택할 수 있음을 확인할 수 있습니다.

6. Controllable 3D Generation

제어 가능한 3D 생성 섹션에서는 이미지 컨디셔닝 기술과 프롬프트 기반 편집 방식을 사용하여 사용자가 3D 생성 출력을 더 잘 제어할 수 있도록 하는 데 중점을 둡니다.

개인화된 텍스트 3D 생성: 드림부스 방식이 적용되어 텍스트 3D 생성을 개인화할 수 있습니다. 이 방법은 피사체의 여러 이미지에서 확산 사전 모델을 미세 조정한 다음 식별자를 컨디셔닝 텍스트 프롬프트의 일부로 사용하여 3D 모델을 최적화할 때 학습 신호를 제공합니다. 고양이와 개를 대상으로 수행한 실험은 주어진 입력 이미지에서 피사체를 보존하면서 3D 모델을 성공적으로 수정하는 것을 보여줍니다.

미세 조정을 통한 프롬프트 기반 편집: 이 편집 방식에는 세 단계가 포함됩니다:

- 기본 프롬프트를 사용하여 거친 모델을 훈련합니다.
- 기본 프롬프트를 수정하고 LDM을 사용하여 거친 모델을 미세 조정합니다.
- 수정된 텍스트 프롬프트로 메쉬를 최적화합니다.

이 방법을 사용하면 레이아웃과 전체 구조를 유지하면서 텍스트에 따라 도형의 텍스처를 수정하거나 지오메트리와 텍스처를 변형할 수 있습니다. 그 결과 Magic3D를 사용한 3D 콘텐츠 제작의 제어가 더욱 쉬워집니다. 실험에서는 '토끼'와 '다람쥐'에 대한 기본 프롬프트를 수정한 결과, 프롬프트에 따라 장면 모델을 조정하여 비슷한 형상을 유지하면서 텍스처를 변경할 수 있음을 보여주었습니다.

이러한 제어 가능한 3D 생성 기술을 통합함으로써 Magic3D는 사용자 지정 텍스처와 지오메트리로 3D 모델을 생성하는 데 더욱 다양하고 사용자 친화적인 툴이 되었습니다.