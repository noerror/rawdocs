# Make-A-Character: High Quality Text-to-3D Character Generation within Minutes

[https://arxiv.org/abs/2312.15430](https://arxiv.org/abs/2312.15430)

- Dec 2023

### 1. Introduction

![마하 시스템은 텍스트 프롬프트에서 매우 섬세하고 다양한 3D 아바타를 생성할 수 있습니다. 다양한 얼굴 표정을 통해 역동적인 애니메이션을 표현하는 능력을 보여줌으로써 이러한 캐릭터의 다재다능함을 보여줍니다.](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled.png)

마하 시스템은 텍스트 프롬프트에서 매우 섬세하고 다양한 3D 아바타를 생성할 수 있습니다. 다양한 얼굴 표정을 통해 역동적인 애니메이션을 표현하는 능력을 보여줌으로써 이러한 캐릭터의 다재다능함을 보여줍니다.

사실적인 3D 아바타를 간편하게 만들 수 있도록 설계된 혁신적인 시스템인 'Make-A-Character(마하)'를 소개합니다. 이 기술은 메타버스, AI 에이전트의 인기가 높아지고 비디오 게임, VR/AR, 영화 산업에서 개인화된 아바타의 필요성이 커짐에 따라 특히 주목받고 있습니다. 일반 사용자가 3D 아바타를 만드는 기존의 방법은 복잡하고 시간이 많이 걸립니다. Mach는 고급 언어 및 비전 모델을 사용하여 간단한 텍스트 설명으로 실제와 같은 3D 아바타를 생성함으로써 이러한 문제를 해결합니다. 이를 통해 사용자는 원하는 페르소나에 맞는 맞춤형 아바타를 쉽게 만들 수 있습니다.

Mach의 주요 기능

- 제어 가능성: 마하를 사용하면 아바타의 얼굴 모양, 눈의 특징, 홍채 색상, 헤어스타일, 눈썹 유형, 입 모양, 코 스타일 등 다양한 얼굴 특징을 사용자 지정할 수 있을 뿐만 아니라 주름이나 주근깨 같은 세부 사항도 추가할 수 있습니다. 이러한 커스터마이징은 직관적인 텍스트 프롬프트를 통해 이루어지므로 캐릭터 생성 과정이 사용자 친화적입니다.
- 높은 현실감: Mach에서 생성된 아바타는 실제 사람의 스캔 데이터 세트를 바탕으로 매우 사실적입니다. 메시가 아닌 가닥으로 제작된 헤어와 고품질 리얼타임 렌더링으로 유명한 언리얼 엔진의 물리 기반 렌더링(PBR) 기법을 사용한 렌더링 등 독특한 기능이 있습니다.
- 완성된 모델: 생성된 각 아바타는 눈, 혀, 치아, 전신, 의상을 갖춘 완전히 완성된 모델입니다. 이러한 포괄적인 접근 방식을 통해 아바타를 다양한 상황에서 즉시 사용할 수 있으므로 추가 모델링이 필요하지 않습니다.
- 애니메이션 가능성: 아바타에는 정교한 스켈레탈 릭이 포함되어 있어 표준 애니메이션을 지원할 수 있습니다. 이 기능은 역동적인 시나리오에서 아바타의 생동감 넘치는 외형과 다양한 활용도를 높여줍니다.
- 업계 호환성: Mach는 명시적인 3D 표현을 활용하므로 게임 및 영화 산업에서 사용되는 표준 컴퓨터 그래픽 파이프라인에 아바타를 원활하게 통합할 수 있습니다.

결론적으로, 마하(Mach)는 개인화된 3D 아바타 생성을 위한 사용자 친화적이고 다재다능하며 사실적인 솔루션을 제공함으로써 디지털 휴먼 제작 분야에서 중요한 진전을 이루었습니다.

### 2. Method

기존 컴퓨터 그래픽(CG) 파이프라인과 호환되는 사실적이고 애니메이션이 가능한 3D 아바타를 생성하도록 설계된 시스템인 '마하'의 방법론에 대해 설명합니다. NeRF와 같은 암시적 표현 방법과 달리 Mach는 표면 메시와 텍스처를 포함한 명시적 3D 표현을 사용합니다. 이 시스템은 포괄적인 얼굴 및 신체 표현과 고급 표정 애니메이션 기능을 위해 선택된 메타휴먼 프레임워크를 기반으로 구축되었습니다.

![이 프레임워크는 대규모 언어 모델(LLM)을 활용하여 다양한 얼굴 속성(예: 얼굴 모양, 눈 모양, 입 모양, 헤어스타일 및 색상, 안경 종류)을 추출합니다. 그런 다음 이러한 의미론적 속성을 해당 시각적 단서에 매핑하고, 이를 통해 컨트롤넷과 함께 안정적 확산을 사용하여 참조 인물 이미지를 생성하도록 안내합니다. 일련의 2D 얼굴 파싱 및 3D 생성 모듈을 통해 대상 얼굴의 메시와 텍스처가 생성되고 추가로 일치하는 액세서리와 함께 조립됩니다. 파라미터화된 표현을 통해 생성된 3D 아바타를 쉽게 애니메이션화할 수 있습니다.](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%201.png)

이 프레임워크는 대규모 언어 모델(LLM)을 활용하여 다양한 얼굴 속성(예: 얼굴 모양, 눈 모양, 입 모양, 헤어스타일 및 색상, 안경 종류)을 추출합니다. 그런 다음 이러한 의미론적 속성을 해당 시각적 단서에 매핑하고, 이를 통해 컨트롤넷과 함께 안정적 확산을 사용하여 참조 인물 이미지를 생성하도록 안내합니다. 일련의 2D 얼굴 파싱 및 3D 생성 모듈을 통해 대상 얼굴의 메시와 텍스처가 생성되고 추가로 일치하는 액세서리와 함께 조립됩니다. 파라미터화된 표현을 통해 생성된 3D 아바타를 쉽게 애니메이션화할 수 있습니다.

마하 방법론의 주요 구성 요소

- LLM을 사용한 시각적 프롬프트 생성: 이 시스템은 대규모 언어 모델(LLM)을 사용하여 텍스트 프롬프트를 이해하고 주요 얼굴 속성을 추출합니다. 그런 다음 이러한 속성을 안정적 확산 및 제어망을 사용하여 시각적 신호에 매핑합니다. 이 프로세스를 통해 정확한 아바타 생성에 필수적인 참조 인물 이미지의 생성을 보다 제어할 수 있습니다.

![안정적인 확산 모델을 사용하여 텍스트 프롬프트만으로 안내하는 세부적인 얼굴 속성을 생성하는 것은 포괄적인 얼굴 주석과 해당 이미지 쌍이 없기 때문에 어렵다는 것을 알게 되었습니다. 이 문제를 해결하기 위해 대규모 언어 모델(LLM)을 사용하여 속성을 추출하고 이를 자세 및 에지 맵과 같은 낮은 수준의 시각적 단서와 정렬합니다. 그런 다음 이러한 시각적 단서가 컨트롤넷을 통해 텍스트-이미지(T2I) 생성 프로세스를 지시하여 얼굴 디테일을 정확하게 렌더링하는 모델의 능력을 향상시킵니다.](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%202.png)

안정적인 확산 모델을 사용하여 텍스트 프롬프트만으로 안내하는 세부적인 얼굴 속성을 생성하는 것은 포괄적인 얼굴 주석과 해당 이미지 쌍이 없기 때문에 어렵다는 것을 알게 되었습니다. 이 문제를 해결하기 위해 대규모 언어 모델(LLM)을 사용하여 속성을 추출하고 이를 자세 및 에지 맵과 같은 낮은 수준의 시각적 단서와 정렬합니다. 그런 다음 이러한 시각적 단서가 컨트롤넷을 통해 텍스트-이미지(T2I) 생성 프로세스를 지시하여 얼굴 디테일을 정확하게 렌더링하는 모델의 능력을 향상시킵니다.

![멀티뷰 라이트 스테이지 설정은 머리와 몸통의 고해상도 3D 스캔을 캡처하도록 설계되었습니다.](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%203.png)

멀티뷰 라이트 스테이지 설정은 머리와 몸통의 고해상도 3D 스캔을 캡처하도록 설계되었습니다.

- 고밀도 랜드마크 감지: Mach는 정확한 얼굴 및 머리 지오메트리 재구성에 중요한 고밀도 얼굴 랜드마크를 사용합니다. 이러한 랜드마크는 이마와 같은 영역을 포함하는 기존의 희박한 랜드마크보다 더 포괄적입니다. 시스템은 합성 이미지를 학습하여 이러한 상세한 매핑을 달성합니다.

![기존의 68개 랜드마크[17], 98개 랜드마크[21], 유니티의 431개 랜드마크. 기존의 랜드마크는 얼굴이 희박합니다. 반면, 431개의 랜드마크는 머리 전체를 덮는 조밀한 랜드마크입니다.](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%204.png)

기존의 68개 랜드마크[17], 98개 랜드마크[21], 유니티의 431개 랜드마크. 기존의 랜드마크는 얼굴이 희박합니다. 반면, 431개의 랜드마크는 머리 전체를 덮는 조밀한 랜드마크입니다.

- 지오메트리 생성: 시스템은 지오메트리 생성 프로세스를 최적화하기 위해 3D 메시를 2D 맵(삼면 지도)으로 변환합니다. 여기에는 랜드마크 투영 손실, 총 변동 손실, 대칭 손실 등 정확성과 심미성을 보장하기 위한 다양한 손실 함수의 사용이 포함됩니다.

![지오메트리 생성 과정에서 조밀한 얼굴 랜드마크와 기준 이미지의 안내에 따라 카메라 파라미터와 삼면 지도를 최적화합니다. 각 버텍스의 위치는 해당 UV 좌표를 기반으로 삼면 맵에 인코딩됩니다.](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%205.png)

지오메트리 생성 과정에서 조밀한 얼굴 랜드마크와 기준 이미지의 안내에 따라 카메라 파라미터와 삼면 지도를 최적화합니다. 각 버텍스의 위치는 해당 UV 좌표를 기반으로 삼면 맵에 인코딩됩니다.

- 텍스처 생성: 텍스처 생성 프로세스에는 차별적인 렌더링과 다중 해상도 접근 방식이 포함됩니다. 이 단계는 아바타의 텍스처를 기준 이미지에 맞추는 데 매우 중요합니다. 또한 텍스처 이미지에서 조명을 확산 알베도에서 분리하기 위해 뉴럴 플레잉 방법을 사용하여 다양한 조명 조건에서 사실감을 향상시킵니다.

![세밀하고 일관된 텍스처 맵을 얻기 위해 다양한 렌더링 방법을 활용하는 다중 해상도 전략을 사용합니다. 해상도 계층 구조는 다음과 같이 정의됩니다: [32, 128, 512, 1024].](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%206.png)

세밀하고 일관된 텍스처 맵을 얻기 위해 다양한 렌더링 방법을 활용하는 다중 해상도 전략을 사용합니다. 해상도 계층 구조는 다음과 같이 정의됩니다: [32, 128, 512, 1024].

![데이터 수집 및 처리 파이프라인.](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%207.png)

데이터 수집 및 처리 파이프라인.

- 텍스처 보정 및 완성: 단일 정면 인물 이미지의 한계를 해결하기 위해 Mach는 얼굴 파싱 알고리즘과 기타 기술을 사용하여 특히 눈, 입, 콧구멍과 같이 오류가 발생하기 쉬운 부분의 텍스처를 보정하고 완성합니다.

![제안된 텍스처 보정 및 완성 파이프라인](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%208.png)

제안된 텍스처 보정 및 완성 파이프라인

- 머리카락 생성: 이 시스템은 최첨단 기술과 데이터 세트를 사용하여 머리카락을 메시가 아닌 개별 가닥으로 렌더링합니다. 이 프로세스에는 2D 이미지의 헤어 합성 및 품질 향상을 위한 후처리 등 여러 단계가 포함됩니다.

![헤어 생성 파이프라인.](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%209.png)

헤어 생성 파이프라인.

![스트랜드 기반 헤어 생성은 SD 모델을 사용하여 생성된 헤어스타일 이미지에 따라 안내됩니다.](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%2010.png)

스트랜드 기반 헤어 생성은 SD 모델을 사용하여 생성된 헤어스타일 이미지에 따라 안내됩니다.

- 에셋 매칭: Mach는 머리, 머리카락, 신체, 의상과 같은 다양한 요소를 통합하여 완전한 아바타를 구성합니다. 이 시스템은 각 에셋에 텍스트 주석을 사용하고 CLIP의 텍스트 인코더를 사용하여 이러한 에셋을 입력 프롬프트와 효율적으로 일치시킵니다.

Mach의 방법론은 매우 사실적인 3D 아바타를 제작하기 위한 포괄적이고 혁신적인 접근 방식을 제시합니다. 언어 이해, 지오메트리 및 텍스처 생성, 에셋 통합의 고급 기술을 활용하여 Mach는 아바타 제작 프로세스를 크게 간소화하는 동시에 기존 CG 파이프라인과의 높은 충실도와 호환성을 보장합니다.

### 3. Results

이 논문에서는 다양한 그림에서 볼 수 있듯이 시각적으로 매력적인 3D 아바타의 형태로 마하 시스템의 결과를 제시합니다. 이 아바타는 특정 입력 프롬프트에 따라 생성되며, 디테일하고 생생한 캐릭터를 생성하는 시스템의 능력을 보여줍니다. 또한 페이셜 릭 컨트롤을 통해 구현되고 언리얼 엔진으로 렌더링된 아바타의 표현력 있는 애니메이션을 강조합니다. 소개된 애니메이션은 높은 수준의 사실성과 표현력을 갖춘 아바타를 생성하는 시스템의 숙련도를 강조합니다.

### 4. Future Work

앞으로 마하 시스템은 그 범위와 기능을 확장할 계획입니다:

- 인종 다양성: 현재 버전의 마하에서는 주로 아시아 인종의 아바타를 생성하는데, 이는 마하에서 사용하는 안정적 확산(SD) 모델이 주로 아시아 인종의 얼굴 이미지로 훈련되기 때문입니다. 향후 개발에는 더 다양한 인종과 스타일을 지원하여 생성할 수 있는 아바타의 다양성을 높이는 것을 목표로 하고 있습니다.
- 디라이팅 및 텍스처 제한: 이 백서에서는 현재 마하에서 사용되는 디라이팅 데이터 세트가 깨끗한 얼굴 텍스처로만 구성되어 있다는 점을 인정하고 있습니다. 이러한 한계로 인해 낙서나 스티커와 같이 자연스럽지 않은 얼굴 패턴이 생성된 아바타에서 눈에 잘 띄지 않을 수 있습니다. 이 문제를 해결하면 더 다양한 얼굴 모양을 재현하는 시스템의 기능이 향상될 수 있습니다.
- 의상 및 신체 부위 매칭 개선: 현재 아바타의 의상과 신체 부위는 텍스트 유사성을 기반으로 미리 제작되어 매칭됩니다. 향후 마하 버전에는 텍스트 프롬프트에서 직접 의상, 표정, 동작을 생성하는 고급 기술이 포함될 예정입니다. 이렇게 개발되면 아바타 생성 프로세스가 더욱 간소화되고 더욱 개인화되고 다양한 아바타 디자인이 가능해질 것입니다.

![페이셜 릭 제어 시스템을 사용한 동적 표현 [15].](Make-A-Character%20High%20Quality%20Text-to-3D%20Character%208e52d3f2ee6d4892ac96e25b47a8333c/Untitled%2011.png)

페이셜 릭 제어 시스템을 사용한 동적 표현 [15].

결론적으로, 현재 버전의 Mach는 사실적이고 표현력이 풍부한 3D 아바타를 만드는 데 괄목할 만한 성공을 거두었지만, 향후 시스템의 다양성과 포용성을 높이기 위해 개선이 이루어질 예정입니다. 이러한 개선 사항에는 표현되는 인종의 범위를 확대하고, 더 다양한 얼굴 특징을 수용할 수 있도록 텍스처 생성을 개선하며, 의복과 신체 움직임을 생성하는 고급 방법을 개발하는 것이 포함됩니다.