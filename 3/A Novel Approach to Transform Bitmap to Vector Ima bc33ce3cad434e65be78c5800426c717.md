# A Novel Approach to Transform Bitmap to Vector Image for Data Reliable Visualization considering the Image Triangulation and Color Selection

[https://downloads.hindawi.com/journals/scn/2020/8871588.pdf](https://downloads.hindawi.com/journals/scn/2020/8871588.pdf)

- 2020

### 1. Introduction

현대 산업에서 이미지 데이터의 시각화는 매우 중요한 부분을 차지하고 있습니다. 예를 들어 잡지의 일러스트레이션, 웹사이트의 로고, 포스터의 이미지 등 다양한 형태로 활용되고 있습니다. 특히 큰 사이즈의 포스터에서는 다양한 장면에 맞는 다수의 이미지가 필요할 때가 많으며, 이 경우 이미지의 크기를 조정해야 할 필요가 생깁니다. 포스터 제작에 있어서 일반적으로 두 가지 옵션이 있습니다. 하나는 다양한 크기의 비트맵을 준비하는 것이고, 다른 하나는 확대시 시각적 왜곡을 방지하기 위해 벡터 이미지를 사용하는 것입니다.

이미지 벡터화는 이미지를 수많은 삼각형으로 표현하여 이미지를 암호화하는데 사용될 수 있으며, 정보 보안 및 개인 정보 보호 분야에서 중요한 역할을 합니다. 또한, 엣지 컴퓨팅 모드에서는 데이터의 신뢰성을 보장하기 위해 이미지를 벡터로 처리할 필요가 있습니다.

비트맵을 벡터 이미지로 변환하는 여러 방법이 제안되었으나, 이들 방법은 대부분 대규모의 메모리와 계산이 필요하며, 한 삼각형에 대해 많은 수의 파라미터가 필요합니다. 본 논문에서는 이러한 문제점을 해결하기 위해 새로운 비트맵에서 벡터 이미지로의 변환 방법을 제안합니다. 이 방법은 픽셀 수준에서의 초기 메쉬 구성, 메쉬 단순화, 그리고 색상 선택이라는 세 단계로 나뉩니다. 이 새로운 방법은 기존 방법들과 비교하여 메모리 사용량을 줄이고 처리 속도를 높이는 장점이 있습니다.

### 2. Related Work

벡터 이미지는 기하학적 기본 형태를 기반으로 하여 광범위한 응용 분야에서 활용됩니다. 최근에는 이미지 벡터화를 위한 새로운 방법들이 여러 연구를 통해 제안되었습니다. 일반적으로 비트맵을 벡터 이미지로 변환하기 위한 세 가지 기본 형태가 사용되는데, 이는 확산 곡선, 그라데이션 메쉬, 그리고 삼각형입니다.

![(a) 접기 전. (b) 접힘 후. 5가지 유형의 정점 a, b, Cab, Oa , Ob가 있음을 알 수 있습니다.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled.png)

(a) 접기 전. (b) 접힘 후. 5가지 유형의 정점 a, b, Cab, Oa , Ob가 있음을 알 수 있습니다.

![(a) 접기 전. (b) 접힌 후의 오버랩. 붕괴 전에는 b를 제외한 a의 이웃 시퀀스가 g, c, d, e, f이지만, 접은 후에는 g, d, c, e, f가 되어 중첩이 발생한다는 것을 알 수 있습니다.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%201.png)

(a) 접기 전. (b) 접힌 후의 오버랩. 붕괴 전에는 b를 제외한 a의 이웃 시퀀스가 g, c, d, e, f이지만, 접은 후에는 g, d, c, e, f가 되어 중첩이 발생한다는 것을 알 수 있습니다.

확산 곡선은 부드러운 벡터 이미지 생성을 위한 기본 단위로 사용됩니다. 예를 들어, Xie와 그의 팀은 래스터 이미지의 확산 곡선 벡터화를 자동으로 생성하는 방법을 제안했습니다. 이 방법은 라플라시안 영역에서 곡선을 적합하여 구현됩니다. 또한, 확산 곡선을 기반으로 한 다양한 연구들도 진행되었습니다.

그라데이션 메쉬 기반의 이미지 벡터화도 가능합니다. 이 방법은 그라데이션 메쉬를 사용하여 색상 연산을 발견하는 연구를 통해 입증되었습니다.

이 논문에서는 삼각형을 기반으로 한 이미지 벡터화를 다룹니다. 이미지 삼각분할은 이미지 벡터화, 이미지 편집, 스타일화된 이미지 생성, 이미지 압축 등 다양한 응용 분야에 사용됩니다. 일반적으로 이 과정에는 초기 메쉬 구성과 메쉬 단순화라는 두 단계가 포함됩니다. Xia와 그의 팀은 초기 메쉬를 구성하는데 서브픽셀 특징을 사용했으나, 이는 복잡하고 메모리를 많이 소모하는 방법입니다. 또한, Liao와 그의 팀은 이미지 삼각분할을 위해 메쉬를 추가적으로 세분화하는 방법을 제공했습니다.

색상 선택에 관해서는, 한 연구에서는 색상 적합을 위해 Thin-Plate Splines(TPS)를 사용했으나, 이 방법은 많은 파라미터를 저장해야 하고 부드러운 표면을 달성하기 위해 높은 계산 비용이 필요합니다. 다른 연구에서는 삼각형을 더 작은 삼각형으로 세분화하여 색상을 자연스럽게 만들었습니다. 본 논문의 방법은 한 삼각형에 하나의 색상을 사용하는 데서 오는 이산적 적합 문제를 해결하기 위해 네 삼각형 샘플 방법을 사용합니다.

이러한 관련 연구들을 바탕으로, 본 논문은 저장 공간을 절약하고 계산을 단순화하면서도 큰 색상 불연속성을 피할 수 있는 "한 삼각형에 하나의 색상" 방법을 제안합니다.

### 3. Image Vectorization

이미지 벡터화 섹션에서는 비트맵을 벡터 이미지로 변환하는 과정이 세부적으로 설명됩니다. 이 과정은 크게 초기 삼각형 메쉬의 구축, 메쉬의 단순화, 그리고 색상 선택이라는 세 단계로 구성됩니다.

1. 초기 메쉬 구축: 이 단계는 비트맵으로부터 기본 단위인 삼각형 메쉬를 구축하는 것으로 시작합니다. 이 과정은 세 부분으로 나뉩니다: 사각형 메쉬 구성, 특징 검출, 그리고 사각형 메쉬를 삼각형 메쉬로 변환하기. 먼저, 각 픽셀을 주변 픽셀(위, 아래, 왼쪽, 오른쪽)과 연결하여 사각형 메쉬를 생성합니다. 다음으로, Canny 알고리즘을 사용하여 특징을 검출하고, 이를 기반으로 사각형 메쉬를 삼각형 메쉬로 전환합니다.
    
    ![초기 메시 구성. 빨간색 점은 특징 픽셀을 나타내고, 회색 점은 일반 픽셀을 나타냅니다.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%202.png)
    
    초기 메시 구성. 빨간색 점은 특징 픽셀을 나타내고, 회색 점은 일반 픽셀을 나타냅니다.
    
2. 메쉬 단순화: 초기 메쉬 구축 과정에서 생성된 많은 수의 삼각형을 줄이기 위해 메쉬 단순화 과정이 필요합니다. 이 단계에서는 'collapse'라는 방법을 사용하여 메쉬를 단순화합니다. 이 과정은 collapse 조건과 collapse의 영향 두 가지 측면을 고려해야 합니다. 이는 오버랩이나 날카로운 삼각형을 방지하면서 메쉬의 구조를 변경합니다.
    
    ![피처 모양 유지. 정점 a가 정점 b로 축소되려면 각도(cab)가 임계값보다 커야 합니다.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%203.png)
    
    피처 모양 유지. 정점 a가 정점 b로 축소되려면 각도(cab)가 임계값보다 커야 합니다.
    
3. 색상 선택: 메쉬 단순화 후, 각 삼각형에 대해 색상을 결정해야 합니다. 이 단계에서는 색상 선택의 정확성을 높이기 위해 각 삼각형을 더 작은 삼각형으로 세분화하고, 이들 각각에 대해 색상 오차 함수를 정의합니다. 이를 통해 각 삼각형에 대한 최적의 색상을 선택합니다. 그러나 단일 삼각형에서 샘플링을 하는 경우 색상 연속성 문제가 발생할 수 있으므로, 이를 해결하기 위해 네 삼각형 샘플 방법을 사용합니다.

![(a) +e 원본 삼각형. (b) 하위 삼각형. (c) 서브트라이앵글의 샘플.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%204.png)

(a) +e 원본 삼각형. (b) 하위 삼각형. (c) 서브트라이앵글의 샘플.

이 세 단계를 통해 이미지 벡터화 과정이 완성되며, 최종적으로 각 삼각형의 세 꼭지점 좌표와 RGB 색상이 기록되어 SVG 형식의 벡터 이미지로 저장될 수 있습니다. 이러한 과정을 통해 비트맵을 효과적으로 벡터 이미지로 변환하는 새로운 방법을 제시하며, 이 방법은 기존의 방법들과 비교하여 더 적은 메모리 사용과 빠른 처리 속도라는 장점을 가집니다.

![(a) 일삼각형 샘플. (b) 네 개의 삼각형 샘플.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%205.png)

(a) 일삼각형 샘플. (b) 네 개의 삼각형 샘플.

### 4. Results and Discussion

1. 초기 메쉬 구축:
    - 입력 이미지: 다양한 형식(png, jpg 등)의 비트맵 이미지를 입력으로 사용합니다. 이미지의 크기는 제한이 없습니다.
    - Canny 탐지: 입력 이미지에서 특징을 탐지하기 위해 Canny 알고리즘을 사용합니다. 이 때, 10 픽셀 미만의 짧은 특징들은 제거됩니다.
    - 사각형 메쉬 구축: 각 픽셀을 네 개의 이웃 픽셀과 연결하여 밀집된 사각형 메쉬를 생성합니다.
    - 삼각형 메쉬 구축: 각 사각형 메쉬 내에서 대각선상의 두 픽셀이 모두 특징 픽셀일 경우 이를 연결하고, 그렇지 않은 경우 임의의 대각선을 선택하여 삼각형을 형성합니다.
        
        ![이미지 벡터화의 +e 파이프라인. 왼쪽부터 입력 이미지, 캐니 감지, 단순화된 삼각형 메시, 벡터 이미지입니다.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%206.png)
        
        이미지 벡터화의 +e 파이프라인. 왼쪽부터 입력 이미지, 캐니 감지, 단순화된 삼각형 메시, 벡터 이미지입니다.
        
2. 메쉬 단순화:
    - 정점 축소: 각 정점은 임의의 이웃 정점을 선택하고, 축소 조건을 만족하는 경우 이웃 정점으로 자신을 축소합니다. 이러한 반복 과정을 통해 단순화된 삼각형 메쉬가 생성됩니다.
    - 삼각형 추출: BFS 알고리즘을 사용하여 삼각형 메쉬 상의 모든 삼각형을 추출하고, 각각을 3개의 정점으로 저장합니다.
3. 색상 선택:
    - 점 샘플링: 추출된 각 삼각형의 변을 n개의 동일한 부분으로 나눕니다. 각 부분 삼각형의 중심을 샘플링 포인트로 사용하여, 각 삼각형마다 n^2개의 샘플링 포인트를 얻습니다.
    - 삼각형별 색상 선택: 각 삼각형에 대한 최적의 색상을 샘플링 포인트를 통해 결정합니다.
    - SVG 형식으로 저장: 각 삼각형의 세 정점과 해당 색상이 결정되면, 이 정보를 SVG 형식의 벡터 이미지로 저장합니다.
        
        ![(a) 입력 이미지. (b) 벡터 이미지.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%207.png)
        
        (a) 입력 이미지. (b) 벡터 이미지.
        
4. 세부 사항 및 메모리 트레이드오프 실험:
    - 실험은 Canny 탐지의 임계값, 메쉬 단순화의 반복 횟수, 샘플링에 사용되는 삼각형의 크기 등의 파라미터를 조정하여 세부 사항과 메모리 사용 사이의 균형을 탐색합니다.
        
        ![cos(angle(cab))와 특징 길이의 +e 영향. cos(angle(cab))와 특징 길이가 증가하면 특징 붕괴에 대한 제한이 줄어든다는 것을 알 수 있습니다.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%208.png)
        
        cos(angle(cab))와 특징 길이의 +e 영향. cos(angle(cab))와 특징 길이가 증가하면 특징 붕괴에 대한 제한이 줄어든다는 것을 알 수 있습니다.
        
        ![측면 길이가 다른 벡터 이미지.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%209.png)
        
        측면 길이가 다른 벡터 이미지.
        
5. K-Medoids를 이용한 색상 단순화 실험:
    - K-medoids 알고리즘을 사용하여 이미지의 색상 수를 줄이는 실험을 진행합니다. 이를 통해 이미지의 중요한 색상을 유지하면서 저장 공간을 줄일 수 있습니다.
    
    ![단순화된 색상. 왼쪽에서 오른쪽으로 갈수록 색의 수가 줄어들고 있습니다. (a) 양식화된 이미지. (b) 색상 15의 스타일화된 이미지 수. (c) 색상 10의 양식화된 이미지 수. (d) 색상 5의 스타일화된 이미지 수.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%2010.png)
    
    단순화된 색상. 왼쪽에서 오른쪽으로 갈수록 색의 수가 줄어들고 있습니다. (a) 양식화된 이미지. (b) 색상 15의 스타일화된 이미지 수. (c) 색상 10의 양식화된 이미지 수. (d) 색상 5의 스타일화된 이미지 수.
    
6. 네 삼각형 샘플 방법의 장점 실험:
    - 색상 선택 과정에서 네 삼각형 샘플 방법을 사용하여 색상 연속성 문제를 해결하는 방법을 실험합니다.
    
    ![삼각형 샘플과 4삼각형 샘플의 비교. (a) 원본 이미지. (b) 1삼각형 색상 선택. (c) 4삼각형 색상 선택.](A%20Novel%20Approach%20to%20Transform%20Bitmap%20to%20Vector%20Ima%20bc33ce3cad434e65be78c5800426c717/Untitled%2011.png)
    
    삼각형 샘플과 4삼각형 샘플의 비교. (a) 원본 이미지. (b) 1삼각형 색상 선택. (c) 4삼각형 색상 선택.
    

결론적으로, 이 연구는 비트맵을 벡터 이미지로 효과적으로 변환하는 새로운 방법을 제시하며, 이 방법은 메모리 사용을 최소화하고 처리 속도를 최적화하는 장점을 가집니다. 또한, 다양한 실험을 통해 이 방법의 효과와 한계를 분석하고 미래 연구 방향에 대한 제안을 합니다.

### 5. Conclusions and Future Work

본 논문에서 제안된 이미지 벡터화 방법은 간단하면서도 효과적이며, 이미지 삼각화를 신속하게 수행할 수 있는 능력을 갖추고 있습니다. 제공된 파라미터를 통해 삼각형의 밀도나 축소의 정도를 조절할 수 있으며, 축소 과정에서 발생할 수 있는 오버랩과 날카로운 삼각형 문제는 sort-edge 방법을 통해 해결되었습니다. 한 삼각형에 하나의 색상을 사용하는 접근 방식은 계산 및 저장 공간을 줄이지만, 큰 오차를 야기할 수 있는 도전적인 과제를 제시합니다. 그러나 네 삼각형 샘플 방법을 통해 이 문제를 극복하고 색상 선택을 더욱 견고하게 할 수 있습니다. 제안된 방법은 각 삼각형의 세 꼭지점과 RGB 색상을 출력하여 SVG 형식의 이미지로 저장할 수 있으며, 이를 통해 벡터 이미지를 얻을 수 있습니다.

그러나 이 방법에는 여전히 몇 가지 한계가 있으며, 향후 연구를 위한 권장 사항이 제시됩니다. 예를 들어, 텍스처가 없는 영역에서는 이 방법의 성능이 더 개선될 여지가 있습니다. 특징 검출 결과는 텍스처가 없는 영역에서 충분히 대표적이지 않을 수 있으며, 더 많은 특징을 얻기 위해 Canny 파라미터를 조정하는 것이 제안됩니다. 그러나 특징을 늘리면 예상치 못한 한계가 발생하고 삼각형이 밀집될 수 있습니다. 따라서 향후 연구에서는 특징 검출 방법을 개선하는 방법을 탐색하는 것이 좋습니다. 또한, 시간 및 공간 효율성을 고려할 때, 제안된 변환 방법은 상대적으로 간단하지만 특정 유형의 이미지에 대한 변환 결과는 완전히 수용 가능합니다. 향후에는 변환 결과의 품질을 정량적으로 측정하는 방법을 개발하거나, 원본 이미지를 직접 측정하여 이 방법이 적합한지 여부를 결정하는 방법을 개발할 계획입니다.