# Flexible Isosurface Extraction for Gradient-Based Mesh Optimization

*이 논문에서는 3D 형상 최적화를 향상시키는 차별적인 메시 추출을 위한 새로운 접근 방식인 '플렉시큐브'를 소개합니다.
성능: FlexiCubes는 메시 추출에 더 많은 유연성을 제공하지만, 런타임과 메모리 사용량이 약간 증가합니다. 그러나 이러한 비용은 전체 계산 프로세스에 비하면 미미한 수준입니다.
제한 사항: FlexiCubes는 유연한 이중 표현으로 인해 자체 교차하지 않는 출력을 보장하지 않습니다. 또한 전역적으로 연속적이지 않아 메시에서 불연속성이 발생할 가능성이 있습니다.
응용 분야: 이 방법은 사진 측량, 애니메이션 오브젝트의 메시 단순화, 3D 메시 생성, 미분 가능한 물리 시뮬레이션 등 다양한 영역에 성공적으로 적용되었습니다.*

[https://arxiv.org/abs/2308.05371](https://arxiv.org/abs/2308.05371)

- Aug 2023

### 1 INTRODUCTION

3D 표면 메쉬는 컴퓨터 그래픽과 로봇 공학 등 다양한 분야에서 매우 중요한 역할을 합니다. 다양한 이점을 제공하지만 모든 메시의 품질이 좋은 것은 아닙니다. 고품질의 메쉬는 많은 작업에 필수적이지만, 이를 생성하는 것은 어렵고 수작업이 필요한 경우가 많습니다. 알고리즘 콘텐츠 제작이 증가함에 따라 자동 메시 생성에 대한 수요가 증가하고 있습니다. 이 백서에서는 차별화된 메시 생성을 개선하는 새로운 방법을 소개합니다.

![우리는 기하학적, 시각적, 또는 심지어 물리적 목표에 대한 기울기 기반 메시 최적화를 위해 특별히 설계된 고품질 이소표면 표현인 FlexiCubes를 소개합니다. 우리는 자세한 품질 평가를 제시하고 FlexiCubes가 다양한 응용 프로그램에서 결과를 개선한다는 것을 보여줍니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled.png)

우리는 기하학적, 시각적, 또는 심지어 물리적 목표에 대한 기울기 기반 메시 최적화를 위해 특별히 설계된 고품질 이소표면 표현인 FlexiCubes를 소개합니다. 우리는 자세한 품질 평가를 제시하고 FlexiCubes가 다양한 응용 프로그램에서 결과를 개선한다는 것을 보여줍니다.

메시의 정점 위치를 최적화하는 것은 특정 기술을 사용하지 않는 한 퇴화와 같은 문제를 일으킬 수 있습니다. 일반적인 접근 방식은 스칼라 필드를 최적화한 다음 이로부터 트라이앵글 메시를 추출하는 것입니다. 그러나 방법을 선택하면 생성 가능한 메시가 제한될 수 있습니다.

메시 생성에 필요한 속성:

- 그라데이션: 메시 차별화가 잘 정의되어 있어야 하며, 그라데이션 기반 최적화가 효과적이어야 합니다.
- 유연성: 메시 정점은 표면 특징에 맞게 조정할 수 있어야 하며, 더 적은 수의 요소로 고품질 메시를 생성할 수 있어야 합니다.

마칭 큐브와 같은 대부분의 기존 방식은 유연성이 부족하거나 그라데이션 기반 최적화가 부족합니다. 예를 들어, 마칭 큐브는 축에 정렬되지 않은 날카로운 피처에 정렬할 수 없으며, 듀얼 컨투어링은 날카로운 피처를 캡처하지만 효과적인 최적화가 부족합니다.

이 논문에서는 그레이드와 플렉시블 속성을 모두 충족하는 기술인 플렉시큐브를 소개합니다. 이 기법은 듀얼 마칭 큐브 방식을 적용하여 듀얼 셀 내에서 유연한 버텍스 포지셔닝을 가능하게 합니다. 이 방법을 사용하면 교차점이 거의 없는 다양하고 수밀성 있는 메시를 생성할 수 있어 효과적인 차별화가 가능합니다.

플렉시큐브는 광범위한 평가를 통해 역 렌더링 및 제너레이티브 3D 모델링과 같은 다양한 메시 생성 작업에서 상당한 이점을 입증했습니다. 결과 메시가 원하는 지오메트리를 효율적으로 캡처하고 경사 하강을 사용하여 최적화할 수 있습니다. 이 논문에서는 메시 해상도 조정 및 도메인 내부의 사면체화 등 FlexiCube의 확장 기능도 소개합니다.

### 2 RELATED WORK

2.1 아이소서피스 추출:

- 전통적인 아이소서피스: 스칼라 함수에서 다각형 메시를 추출합니다. 방법은 세 가지로 분류됩니다:
    - 공간 분해: 공간을 셀로 나누고 셀 내에 다각형을 생성합니다. 주목할 만한 방법으로는 마칭 큐브(MC) 및 그 변형, 듀얼 컨투어링(DC), 듀얼 마칭 큐브(DMC) 등이 있습니다. 최근에는 뉴럴 마칭 큐브와 뉴럴 듀얼 컨투어링이 발전했습니다.
    - 표면 추적: 표면 샘플의 인접 정보를 사용합니다. 마칭 트라이앵글과 적응형 버전이 그 예입니다.
    - 수축 래핑: 구형 메쉬를 축소하거나 임계점을 부풀려 등서페이스와 일치시킵니다. 적용 범위가 제한적이며 그라데이션 기반 최적화에는 적합하지 않습니다.

2.2 ML의 그라데이션 기반 메시 최적화:

- 초기 접근 방식: 구체, 프리미티브의 유니온 또는 분할된 부분과 같은 사전 정의된 토폴로지를 사용했습니다. 이는 복잡한 토폴로지를 처리하는 데 한계가 있었습니다.
- 최근 접근 방식: 3D 형상을 파라메트릭 표면 요소의 집합으로 표현하는 AtlasNet과 표면 메시로 정제된 거친 구조를 예측하는 Mesh R-CNN이 포함됩니다.
- 차별적 메시 재구성: 암시적 함수에서 아이소서페이스를 추출합니다. 딥 마칭 큐브, 메시SDF, DMTet (Deep Marching Tetrahedra) 등이 있으며, 이 중 후자가 이 백서의 방법과 가장 유사합니다.

### 3 BACKGROUND AND MOTIVATION

목표는 차별화 가능한 메시 최적화 파이프라인을 만드는 것입니다. 문제는 등서피스 추출 메커니즘에 따라 달라지는 경사 기반 최적화의 효율성에 있습니다. 이 백서에서 소개하는 방법인 플렉시큐브는 스칼라 필드를 알 수 없고 여러 번 최적화하는 미분 메시 최적화를 위해 설계되었습니다.

3.1 행진하는 큐브와 사면체

- 그리드 격자에 정점이 있는 메시를 추출하는 직접적인 접근 방식입니다.
- 제한 사항: 메쉬 정점은 그리드 가장자리를 따라만 놓일 수 있으므로 삼각형의 품질이 떨어지고 날카로운 특징을 맞추지 못할 수 있습니다.
- 일부 방법은 그리드 정점을 변형할 수 있지만 추출된 메쉬 정점은 독립적으로 움직일 수 없어 아티팩트가 발생할 수 있습니다.

3.2 이중 컨투어링:

- 이중 표현을 사용하여 그리드 셀 내에 메쉬 정점을 배치할 수 있습니다.
- 제한 사항: 추출된 정점이 그리드 셀 내부에 위치하지 않을 수 있으며, 이로 인해 자기 교차 및 불안정한 최적화가 발생할 수 있습니다. 결과 메시가 비다양체일 수 있으며 비평면 사변형을 포함할 수 있습니다.
- 일부 방법은 신경망을 사용하여 추출 품질을 개선하지만, 이로 인해 최적화가 복잡해집니다.

![DC에서의 Grad. 문제. 왼쪽: 이차 오차 함수(QEF)를 해결할 때 결과 정점이 큐브 내부에 있을 것이라는 보장이 없습니다. 이로 인해 지오메트리와 토폴로지 케이스 사이의 차이점이 발생합니다. 또한, 법선이 동일 평면일 때 QEF에 특이점이 있습니다. DC의 안정성을 향상시키기 위한 기술이 있지만, 그것들은 최적화 설정에서 쉽게 적용할 수 없습니다. 전자(두 번째)는 특정 방향에서 기울기를 제거합니다. 후자(세 번째)는 조정하기 어렵고 강한 정규화를 가지면 DC의 유연성의 장점을 저하시킵니다. 우리의 버전(네 번째), FlexiCubes는 이 특정 구성에 대해 이중 정점을 녹색 삼각형 내의 어디든지 놓을 수 있도록 추가적인 자유도를 제공합니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%201.png)

DC에서의 Grad. 문제. 왼쪽: 이차 오차 함수(QEF)를 해결할 때 결과 정점이 큐브 내부에 있을 것이라는 보장이 없습니다. 이로 인해 지오메트리와 토폴로지 케이스 사이의 차이점이 발생합니다. 또한, 법선이 동일 평면일 때 QEF에 특이점이 있습니다. DC의 안정성을 향상시키기 위한 기술이 있지만, 그것들은 최적화 설정에서 쉽게 적용할 수 없습니다. 전자(두 번째)는 특정 방향에서 기울기를 제거합니다. 후자(세 번째)는 조정하기 어렵고 강한 정규화를 가지면 DC의 유연성의 장점을 저하시킵니다. 우리의 버전(네 번째), FlexiCubes는 이 특정 구성에 대해 이중 정점을 녹색 삼각형 내의 어디든지 놓을 수 있도록 추가적인 자유도를 제공합니다.

3.3 이중 행진 큐브:

- 이중 컨투어링과 유사하지만 행진 큐브 메시의 이중 연결성을 따라 메시를 추출합니다.
- 장점: 모든 구성에 대해 매니폴드 메시 출력을 생성합니다.
- 제한 사항: 버텍스 포지셔닝에 QEF(이차 오차 함수)를 사용하는 경우, 듀얼 컨투어링과 동일한 단점이 있습니다. 정점이 중심점에 배치되면 개별적인 날카로운 특징을 맞출 수 없습니다.

![MC, DC 및 DMC 간의 비교. MC는 날카로운 특징을 포착하지 못합니다. DC는 날카로운 특징을 포착하지만 일부 경우에 비매니폴드 정점을 생성할 수 있습니다. DMC는 비매니폴드 정점을 도입하지 않지만, DC보다 날카로운 특징을 나타내는 데 덜 자유롭습니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%202.png)

MC, DC 및 DMC 간의 비교. MC는 날카로운 특징을 포착하지 못합니다. DC는 날카로운 특징을 포착하지만 일부 경우에 비매니폴드 정점을 생성할 수 있습니다. DMC는 비매니폴드 정점을 도입하지 않지만, DC보다 날카로운 특징을 나타내는 데 덜 자유롭습니다.

![메시 최적화를 위한 다양한 이소표면 방법의 비교. 구 초기화에서 시작하여, 우리는 이소표면 방법의 집합을 사용하여 지상 진실 메시를 향해 모양을 최적화합니다. DMTet는 날카로운 특징을 재구성하지만 많은 슬리버 삼각형을 생성합니다. MC [Nielson 2003]는 날카로운 특징을 포착하지 못하며, NDC [Chen et al. 2022b]는 최적화 중에 발산합니다. DC [Ju et al. 2002]는 강한 정규화와 함께 수렴하지만 아티팩트에 시달립니다. FlexiCubes는 세부 사항이 유지된 고품질 메시를 생성합니다. 이 실험에 대한 자세한 내용은 부록에서 제공됩니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%203.png)

메시 최적화를 위한 다양한 이소표면 방법의 비교. 구 초기화에서 시작하여, 우리는 이소표면 방법의 집합을 사용하여 지상 진실 메시를 향해 모양을 최적화합니다. DMTet는 날카로운 특징을 재구성하지만 많은 슬리버 삼각형을 생성합니다. MC [Nielson 2003]는 날카로운 특징을 포착하지 못하며, NDC [Chen et al. 2022b]는 최적화 중에 발산합니다. DC [Ju et al. 2002]는 강한 정규화와 함께 수렴하지만 아티팩트에 시달립니다. FlexiCubes는 세부 사항이 유지된 고품질 메시를 생성합니다. 이 실험에 대한 자세한 내용은 부록에서 제공됩니다.

### 4 METHOD

- 그리드의 스칼라 함수는 듀얼 마칭 큐브를 통해 삼각형 메시를 추출하는 데 사용됩니다.
- 메시 표현을 향상시키기 위해 세 가지 새로운 파라미터 세트가 도입되었습니다:
    - 공간에 이중 버텍스를 배치하기 위한 보간 가중치(𝛼, 𝛽).
    - 분할 가중치(𝛾)는 사변형을 삼각형으로 분할하는 방법을 제어합니다.
    - 그리드의 공간 정렬을 위한 변형 벡터(𝛿).

4.1 듀얼 마칭 큐브 메시 추출:

- 듀얼 마칭 큐브 메시의 연결성은 각 그리드 버텍스에서 스칼라 함수 𝑠(𝑥)를 기반으로 추출됩니다.
- 이 방법은 셀의 각 원시 면에 대해 최대 4개의 정점이 될 수 있는 정점을 추출합니다.
- 결과 메쉬는 다양하지만 드물게 자기 교차점을 포함할 수 있습니다.
    
    ![Dual Marching Cubes는 먼저 에지를 따라 정점을 보간하여 𝑢𝑒를 얻습니다. 이중 정점 𝑣𝑑는 방정식 4를 통해 계산됩니다. 우리는 네 개의 이웃하는 이중 정점을 연결하여 사각형을 얻습니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%204.png)
    
    Dual Marching Cubes는 먼저 에지를 따라 정점을 보간하여 𝑢𝑒를 얻습니다. 이중 정점 𝑣𝑑는 방정식 4를 통해 계산됩니다. 우리는 네 개의 이웃하는 이중 정점을 연결하여 사각형을 얻습니다.
    
    ![이중 정점의 위치를 결정하는 공식화. 우리의 공식화에서 이중 정점은 녹색 영역 내의 어디든지 놓일 수 있습니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%205.png)
    
    이중 정점의 위치를 결정하는 공식화. 우리의 공식화에서 이중 정점은 녹색 영역 내의 어디든지 놓일 수 있습니다.
    

4.2 유연한 이중 버텍스 포지셔닝:

- 이 방법은 추출된 메시 정점 위치를 결정할 때 듀얼 마칭 큐브 접근 방식을 일반화합니다.
- 마칭 큐브 원시 정점은 그리드 셀 가장자리를 따라 스칼라 제로 크로싱에 위치합니다.
- 이중 버텍스는 원점 면의 중심에 위치합니다.
- 교차점과 이중 정점의 위치를 조정하기 위해 가중치(𝛼, 𝛽)를 사용하여 추가적인 유연성을 도입했습니다.
    
    ![Dual Marching Cubes 표면에 대한 모든 구성, 회전 대칭 케이스 제거. 각 색상의 다각형은 원시 얼굴이며, 출력으로 단일 이중 정점이 추출됩니다. 표시된 정점은 음수 부호 거리 값을 나타내며, 표시되지 않은 정점은 양수 값을 나타냅니다. 그림은 Nielson [2004]에서 수정되었습니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%206.png)
    
    Dual Marching Cubes 표면에 대한 모든 구성, 회전 대칭 케이스 제거. 각 색상의 다각형은 원시 얼굴이며, 출력으로 단일 이중 정점이 추출됩니다. 표시된 정점은 음수 부호 거리 값을 나타내며, 표시되지 않은 정점은 양수 값을 나타냅니다. 그림은 Nielson [2004]에서 수정되었습니다.
    

4.3 유연한 쿼드 분할:

- 듀얼 마칭 큐브는 일반적으로 추가 처리를 위해 삼각형으로 분할되는 순수 사변형 메시를 추출합니다.
- 분할 선택은 각 그리드 셀의 가중치(𝛾)를 사용하여 유연하게 이루어집니다.
- 최적화 시 각 사변형 메시 면은 중간점 버텍스를 삽입하여 4개의 삼각형으로 분할됩니다.
- 이 중간점의 위치는 면의 가능한 두 대각선 중간점의 가중치 조합으로 계산됩니다.
    
    ![왼쪽: FlexiCubes는 비평면 사각형을 생성합니다. 이것은 예를 들어 렌더링을 위해 삼각화해야 할 수 있습니다. 이 예에서는 참조 표면의 곡률과 자연스럽게 일치하는 명확하게 유리한 삼각화가 있습니다. 중간: 최적화 중에 우리는 각 사각형을 보간된 중간점으로 네 개의 삼각형으로 테셀레이션하는 차별화 가능한 전략을 사용합니다. 오른쪽: 추론 중에 우리는 각 사각형을 지배적인 대각선을 따라 두 개의 삼각형으로 테셀레이션합니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%207.png)
    
    왼쪽: FlexiCubes는 비평면 사각형을 생성합니다. 이것은 예를 들어 렌더링을 위해 삼각화해야 할 수 있습니다. 이 예에서는 참조 표면의 곡률과 자연스럽게 일치하는 명확하게 유리한 삼각화가 있습니다. 중간: 최적화 중에 우리는 각 사각형을 보간된 중간점으로 네 개의 삼각형으로 테셀레이션하는 차별화 가능한 전략을 사용합니다. 오른쪽: 추론 중에 우리는 각 사각형을 지배적인 대각선을 따라 두 개의 삼각형으로 테셀레이션합니다.
    

4.4 유연한 그리드 변형:

- 기본 그리드의 정점은 각 그리드 정점의 변위(𝛿)에 따라 변형할 수 있습니다.
- 이러한 변형을 통해 그리드를 얇은 피처에 정렬하고 정점 위치에 추가적인 유연성을 제공할 수 있습니다.

4.5 사면체 메시 추출:

- 플렉시큐브는 추출된 표면의 경계를 따르는 사면체 메시를 생성할 수 있습니다.
- 사면체 메시의 정점 집합은 그리드 정점, 추출된 메시 정점 및 표면 정점이 없는 셀의 중간점을 결합합니다.
- 사면체는 그리드 가장자리와 그 부호를 기반으로 생성됩니다.
- 이 방법은 이전 작업의 전략을 적용하지만 셀에서 여러 개의 추출된 메쉬 정점으로 인해 발생하는 복잡성에 대한 해결책을 도입합니다.

![FlexiCubes의 매개변수 효과를 제거합니다. 유연한 이중 정점 위치를 추가하면, 메시 가장자리는 날카로운 기하학적 특징과 훨씬 더 잘 정렬되며, 이는 그리드 변형으로 더욱 개선됩니다. 유연한 사각형 분할로, FlexiCubes는 특징과 정렬된 대각선을 따라 사각형을 분할합니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%208.png)

FlexiCubes의 매개변수 효과를 제거합니다. 유연한 이중 정점 위치를 추가하면, 메시 가장자리는 날카로운 기하학적 특징과 훨씬 더 잘 정렬되며, 이는 그리드 변형으로 더욱 개선됩니다. 유연한 사각형 분할로, FlexiCubes는 특징과 정렬된 대각선을 따라 사각형을 분할합니다.

![우리는 내부 부피를 나누어 FlexiCubes를 확장하여 사면체 메시를 생성합니다. 예제 출력은 오른쪽에 표시됩니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%209.png)

우리는 내부 부피를 나누어 FlexiCubes를 확장하여 사면체 메시를 생성합니다. 예제 출력은 오른쪽에 표시됩니다.

![서로 다른 레벨의 큐브에서 공유하는 얼굴에서 SDF의 부호가 일치하지 않으면 (빨간색으로 강조 표시), 균열 또는 비매니폴드 표면이 발생합니다. 여기에 두 가지 경우가 표시됩니다. 따라서, 우리는 이러한 정점들의 SDF(주황색)가 더 큰 큐브의 얼굴과 일치하도록 제한합니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2010.png)

서로 다른 레벨의 큐브에서 공유하는 얼굴에서 SDF의 부호가 일치하지 않으면 (빨간색으로 강조 표시), 균열 또는 비매니폴드 표면이 발생합니다. 여기에 두 가지 경우가 표시됩니다. 따라서, 우리는 이러한 정점들의 SDF(주황색)가 더 큰 큐브의 얼굴과 일치하도록 제한합니다.

4.6 적응형 메시 해상도:

- 플렉시큐브는 적응형 계층 그리드를 사용하여 기하학적 디테일이 높은 영역에서 다양한 공간 해상도를 가진 메시를 생성할 수 있습니다.
- 그리드는 계층적 옥트리로 세분화됩니다.
- 서로 다른 옥트리 레벨에 걸쳐 이중 정점을 연결할 때 문제가 발생합니다.
- 이 방법은 옥트리 레벨 간에 부호의 일관성을 보장하여 거의 완벽한 적응형 메시를 생성합니다.
- 일부 구성에서는 추출된 메시에서 여전히 구멍이 생길 수 있습니다.
    
    ![FlexiCubes를 옥트리 표현으로 실행하여 생성된 균열과 비매니폴드 정점은 최소 정점의 SDF에 제약 조건을 적용함으로써 대부분 해결될 수 있습니다. 제약 조건이 없는 버전에서 결과 메시에 318개의 비매니폴드 정점이 있으며, 제약 조건이 있는 경우에는 단 하나의 비매니폴드 정점만 남아 있습니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2011.png)
    
    FlexiCubes를 옥트리 표현으로 실행하여 생성된 균열과 비매니폴드 정점은 최소 정점의 SDF에 제약 조건을 적용함으로써 대부분 해결될 수 있습니다. 제약 조건이 없는 버전에서 결과 메시에 318개의 비매니폴드 정점이 있으며, 제약 조건이 있는 경우에는 단 하나의 비매니폴드 정점만 남아 있습니다.
    
    ![메시 토폴로지와 옥트리 구조를 공동으로 최적화하는 FlexiCubes와 함께 적응형 메싱. CD는 Chamfer 거리 (10−5)를 나타냅니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2012.png)
    
    메시 토폴로지와 옥트리 구조를 공동으로 최적화하는 FlexiCubes와 함께 적응형 메싱. CD는 Chamfer 거리 (10−5)를 나타냅니다.
    

4.7 정규화:

- 플렉시큐브는 애플리케이션별 목표와 정규화를 통해 최적화할 수 있습니다.
- 플렉시큐브 표현에 특화된 두 가지 정규화 용어가 소개됩니다:
    - 편차 정규화(Ldev): 각 이중 정점과 그 면의 에지 교차점 사이의 거리 편차에 페널티를 줍니다. 이를 통해 정점이 셀 내에서 중앙에 위치하도록 유도합니다.
    - 부호 변경 정규화(Lsign): 내부 공동과 같이 감독되지 않는 영역에서 불필요한 지오메트리가 생성되지 않도록 합니다. 모든 그리드 가장자리에서 암시적 함수의 부호 변경에 불이익을 줍니다.

### 5 EXPERIMENTS

5.1 메시 재구성:

- 목표: 완벽한 3D 감독 하에 3D 지오메트리를 재구성할 때 FlexiCubes를 평가합니다.
- 데이터 세트: Myles 등[2014]의 다양한 데이터 세트를 사용하여 필터링 후 79개의 모양을 생성합니다.
- 기준선: 플렉시큐브는 미분 가능한(MC, DMTet) 및 미분 불가능한 아이소서피스 방법과 비교됩니다.
- 평가 지표: 메트릭에는 모따기 거리(CD), F-점수(F1), 에지 모따기 및 고유 메시 품질 메트릭이 포함됩니다.
- 결과: 플렉시큐브는 재구성 품질과 메시 품질 측면에서 다른 방법보다 성능이 뛰어납니다.
    
    ![일련의 이소-서피싱 기법의 시각적 비교. 세 개의 가장 왼쪽 예제: Marching Cubes (𝑀𝐶𝑆𝐷𝐹), Dual Contouring, Neural Dual Contouring은 지상 진실 SDF에서 표면 추출을 사용합니다. 다음 세 가지 예제: Marching Cubes, Deep Marching Tetrahedra, FlexiCubes는 차별화 가능한 이소-서피싱을 사용합니다. 그리드 해상도는 DMTet를 제외한 모든 방법에 대해 643입니다. DMTet는 출력 메시의 삼각형 수와 일치하도록 803의 사면체 그리드를 사용합니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2013.png)
    
    일련의 이소-서피싱 기법의 시각적 비교. 세 개의 가장 왼쪽 예제: Marching Cubes (𝑀𝐶𝑆𝐷𝐹), Dual Contouring, Neural Dual Contouring은 지상 진실 SDF에서 표면 추출을 사용합니다. 다음 세 가지 예제: Marching Cubes, Deep Marching Tetrahedra, FlexiCubes는 차별화 가능한 이소-서피싱을 사용합니다. 그리드 해상도는 DMTet를 제외한 모든 방법에 대해 643입니다. DMTet는 출력 메시의 삼각형 수와 일치하도록 803의 사면체 그리드를 사용합니다.
    
    ![추출된 메시의 본질적 품질에 대한 양적 비교. FlexiCubes는 훨씬 적은 양의 슬리버 삼각형 (행 3)과 더 등변한 변 (행 1)을 가진 고품질의 메시를 추출합니다. Min 및 Max 각도의 부드러운 분포 (행 3 및 4)는 FlexiCubes가 삼각형을 약간 비평면 영역에서 기하학에 더 잘 맞게 조정할 수 있음을 보여줍니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2014.png)
    
    추출된 메시의 본질적 품질에 대한 양적 비교. FlexiCubes는 훨씬 적은 양의 슬리버 삼각형 (행 3)과 더 등변한 변 (행 1)을 가진 고품질의 메시를 추출합니다. Min 및 Max 각도의 부드러운 분포 (행 3 및 4)는 FlexiCubes가 삼각형을 약간 비평면 영역에서 기하학에 더 잘 맞게 조정할 수 있음을 보여줍니다.
    

5.2 정규화를 통한 메시 최적화:

- 목표: 다양한 정규화를 통해 메시를 최적화하는 FlexiCubes의 유연성을 보여줍니다.
- 등변 에지 길이 정규화:
    - 얇은 삼각형 위에 정삼각형을 생성하는 것을 목표로 합니다.
    - 정규화는 에지 길이의 편차에 불이익을 줍니다.
    - 결과 FlexiCubes는 재구성 품질이 약간 저하되면서도 더 균일한 삼각형을 생성할 수 있음을 보여줍니다.
- 개발 가능성 정규화:
    - 평평한 시트에 비해 표면이 늘어나는 것을 불이익을 주지만 한 방향으로 구부러지는 것은 허용합니다.
    - 시트 소재의 제조에 적합합니다.
    - 플렉시큐브는 이 용어를 효과적으로 통합하여 형상 특징을 보존하고 원하는 스타일을 구현합니다.

![삼각형 품질을 향상시키기 위해 등변 에지 정규화를 추가합니다. 등변 에지 정규화 손실이 없는 그림 13의 결과와 비교할 때, FlexiCubes는 복구 품질의 약간의 저하만 있으며, MC와 DMTet는 지역 기하학에서 세부 사항을 잃어버립니다. ](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2015.png)

삼각형 품질을 향상시키기 위해 등변 에지 정규화를 추가합니다. 등변 에지 정규화 손실이 없는 그림 13의 결과와 비교할 때, FlexiCubes는 복구 품질의 약간의 저하만 있으며, MC와 DMTet는 지역 기하학에서 세부 사항을 잃어버립니다. 

![메시 기반 정규화를 보여주기 위해, 우리는 합성 사진 측량학과 개발 가능성 용어 [Stein et al. 2018]를 결합하여 패널에서의 제작 가능성을 장려합니다. FlexiCubes는 모양을 맞추고 정규화를 만족시키는 자유를 가지고 있지만, Marching Cubes는 그렇지 않습니다. 상단: 라디안 단위의 가우스 곡률, 하단: 패널화를 보여주기 위한 스타일화된 렌더링.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2016.png)

메시 기반 정규화를 보여주기 위해, 우리는 합성 사진 측량학과 개발 가능성 용어 [Stein et al. 2018]를 결합하여 패널에서의 제작 가능성을 장려합니다. FlexiCubes는 모양을 맞추고 정규화를 만족시키는 자유를 가지고 있지만, Marching Cubes는 그렇지 않습니다. 상단: 라디안 단위의 가우스 곡률, 하단: 패널화를 보여주기 위한 스타일화된 렌더링.

![NeRF 합성 데이터셋의 두 장면에 대한 nvdiffrec 재구성 시각화. 우리는 토폴로지 추출 단계에 대해 DMTet와 FlexiCubes를 비교합니다. FlexiCubes의 경우 슬리버 삼각형이 더 적다는 것을 확인합니다. 우리는 NeRF 합성 데이터셋의 모든 여덟 장면에 대한 nvdiffrec 재구성을 위한 최소 각도 히스토그램을 포함하여 이를 보여줍니다. 작은 각도를 가진 적은 수의 삼각형은 FlexiCubes에 더 적은 슬리버 삼각형을 의미합니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2017.png)

NeRF 합성 데이터셋의 두 장면에 대한 nvdiffrec 재구성 시각화. 우리는 토폴로지 추출 단계에 대해 DMTet와 FlexiCubes를 비교합니다. FlexiCubes의 경우 슬리버 삼각형이 더 적다는 것을 확인합니다. 우리는 NeRF 합성 데이터셋의 모든 여덟 장면에 대한 nvdiffrec 재구성을 위한 최소 각도 히스토그램을 포함하여 이를 보여줍니다. 작은 각도를 가진 적은 수의 삼각형은 FlexiCubes에 더 적은 슬리버 삼각형을 의미합니다.

### 6 APPLICATIONS

6.1 차별적인 렌더링을 통한 사진 측량:

- 목표: 토폴로지 최적화 단계에서 DMTet을 FlexiCubes로 대체하여 지오메트리 재구성을 개선합니다.
- 결과: FlexiCubes는 동일한 트라이앵글 수에서 향상된 지오메트리 재구성을 제공합니다. 또한 은색 트라이앵글이 더 적게 생성되어 UV 레이아웃이 개선됩니다.

![우리는 Tanks&Temples의 Family 데이터셋 [Knapitsch et al. 2017]과 GoldCape 데이터셋 [Boss et al. 2021]에 대해 nvdiffrecmc를 사용하여 FlexiCubes와 DMTet를 비교합니다. FlexiCubes는 더 균일한 테셀레이션을 제공하며 작은 기하학적 세부 사항 (예: GoldCape 장면의 홈)을 더 충실히 포착합니다. Family 장면의 PSNR 뷰 보간 검증 점수는 28.49 / 28.47 dB (DMTet / FlexiCubes)이며 GoldCape 장면의 점수는 24.44 / 24.56 dB입니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2018.png)

우리는 Tanks&Temples의 Family 데이터셋 [Knapitsch et al. 2017]과 GoldCape 데이터셋 [Boss et al. 2021]에 대해 nvdiffrecmc를 사용하여 FlexiCubes와 DMTet를 비교합니다. FlexiCubes는 더 균일한 테셀레이션을 제공하며 작은 기하학적 세부 사항 (예: GoldCape 장면의 홈)을 더 충실히 포착합니다. Family 장면의 PSNR 뷰 보간 검증 점수는 28.49 / 28.47 dB (DMTet / FlexiCubes)이며 GoldCape 장면의 점수는 24.44 / 24.56 dB입니다.

![LDraw 리소스 [Lasser 2022]의 Roller 장면의 3D 모델을 nvdiffrecmc [2022]를 수정하지 않고 (DMTet) 및 토폴로지 추출 단계에 FlexiCubes를 사용하여 nvdiffrecmc로 추출합니다. 우리는 더 균일한 삼각화와 더 높은 세부 사항을 확인합니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2019.png)

LDraw 리소스 [Lasser 2022]의 Roller 장면의 3D 모델을 nvdiffrecmc [2022]를 수정하지 않고 (DMTet) 및 토폴로지 추출 단계에 FlexiCubes를 사용하여 nvdiffrecmc로 추출합니다. 우리는 더 균일한 삼각화와 더 높은 세부 사항을 확인합니다.

![LDraw 리소스 [Lasser 2022]의 Porsche 장면의 3D 모델을 nvdiffrecmc [2022]를 사용하여 추출합니다. 우리는 확산 텍스처를 시각화하며, FlexiCubes가 UV 언랩핑 단계를 단순화한다는 것을 확인합니다 (xatlas [2021]를 사용하여 수행됨). 결과 텍스처는 더 큰 영역을 가지며, 텍스처 필터링이 향상됩니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2020.png)

LDraw 리소스 [Lasser 2022]의 Porsche 장면의 3D 모델을 nvdiffrecmc [2022]를 사용하여 추출합니다. 우리는 확산 텍스처를 시각화하며, FlexiCubes가 UV 언랩핑 단계를 단순화한다는 것을 확인합니다 (xatlas [2021]를 사용하여 수행됨). 결과 텍스처는 더 큰 영역을 가지며, 텍스처 필터링이 향상됩니다.

6.2 애니메이션 오브젝트의 메시 단순화:

- 목표: 애니메이션 메시 작업에서 플렉시큐브의 명시적인 메시 표현의 이점을 활용합니다.
- 접근 방식: FlexiCubes를 차별적인 메시 스키닝과 결합하여 전체 애니메이션에 걸쳐 외관을 최적화합니다.
- 결과: FlexiCubes는 애니메이션 에셋의 메시 단순화에 대한 보다 유연한 접근 방식을 제공하며, 전체 애니메이션에 걸쳐 모양을 최적화하여 트라이앵글 밀도를 재분배하는 데 도움이 됩니다.

![스킨 애니메이션의 메시 추출, 명시적이고 차별화 가능한 메시 표현을 사용하여 종단 간 최적화의 이점을 보여줍니다. 우리는 nvdiffrec를 사용하여 이미지 감독을 통해 로우 폴리 메시의 토폴로지와 외관을 학습합니다. 상단 행은 참조 메시 T-포즈와 애니메이션 프레임을 보여줍니다. 하단 행은 T-포즈를 위해 최적화된 FlexiCubes의 기준과 후속 패스에서 재스킨화된 것, 종단 간 최적화와 함께 FlexiCubes, 참조를 보여줍니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2021.png)

스킨 애니메이션의 메시 추출, 명시적이고 차별화 가능한 메시 표현을 사용하여 종단 간 최적화의 이점을 보여줍니다. 우리는 nvdiffrec를 사용하여 이미지 감독을 통해 로우 폴리 메시의 토폴로지와 외관을 학습합니다. 상단 행은 참조 메시 T-포즈와 애니메이션 프레임을 보여줍니다. 하단 행은 T-포즈를 위해 최적화된 FlexiCubes의 기준과 후속 패스에서 재스킨화된 것, 종단 간 최적화와 함께 FlexiCubes, 참조를 보여줍니다.

6.3 3D 메시 생성:

- 목적: 3D 콘텐츠 제작을 용이하게 하기 위해 3D 메시를 생성합니다.
- 접근 방식: 플렉시큐브는 3D 제너레이티브 모델에서 플러그 앤 플레이 방식의 차별적인 메시 추출 모듈로 사용됩니다.
- 결과: FlexiCubes는 모든 카테고리에서 더 나은 FID 점수를 달성하여 더 많은 디테일과 더 적은 수의 은색 삼각형으로 더 높은 품질의 모양을 생성합니다.

![GET3D [Gao et al. 2022]에서 메시로 3D 생성 모델링의 질적 결과. FlexiCubes는 상세한 얇은 구조와 더 균일한 표면으로 크게 향상된 메시 품질을 생성합니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2022.png)

GET3D [Gao et al. 2022]에서 메시로 3D 생성 모델링의 질적 결과. FlexiCubes는 상세한 얇은 구조와 더 균일한 표면으로 크게 향상된 메시 품질을 생성합니다.

![다중 뷰 비디오에서 객체의 모양, 텍스처, 물리적 특성을 최적화하기 위해 추출된 사면체 메시를 FlexiCubes에서 차별화 가능한 물리 시뮬레이션 [Jatavallabhula et al. 2021] 및 차별화 가능한 렌더링 [Laine et al. 2020] 파이프라인에 공급합니다. 하단 행 (참조 모양)에서는 질량 밀도 𝐷 = 0.300을 설정하고 객체의 두 끝점을 고정하고 중력 하에 떨어지고 변형되게 합니다. 우리는 세 개의 타임스텝에서의 출력을 보여줍니다 (세 열). 우리는 SDF를 구형 지오메트리로 초기화하고 질량 밀도를 무작위로 추측합니다 (𝐷 = 1.500, 상단 행), 그리고 두 단계 방식으로 최적화합니다. 첫 번째 단계에서는 시작 프레임을 사용하여 모양과 텍스처를 최적화합니다. 두 번째 단계에서는 FlexiCubes를 사용하여 사면체 메시를 추출하고 (섹션 4.5) 차별화 가능한 물리 시뮬레이션 파이프라인을 적용하여 물리적 매개변수를 최적화합니다. 최적화된 물리적 매개변수 (𝐷 = 0.311, 중간 행)는 지상 진실 (𝐷 = 0.300, 하단 행)에 가깝습니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2023.png)

다중 뷰 비디오에서 객체의 모양, 텍스처, 물리적 특성을 최적화하기 위해 추출된 사면체 메시를 FlexiCubes에서 차별화 가능한 물리 시뮬레이션 [Jatavallabhula et al. 2021] 및 차별화 가능한 렌더링 [Laine et al. 2020] 파이프라인에 공급합니다. 하단 행 (참조 모양)에서는 질량 밀도 𝐷 = 0.300을 설정하고 객체의 두 끝점을 고정하고 중력 하에 떨어지고 변형되게 합니다. 우리는 세 개의 타임스텝에서의 출력을 보여줍니다 (세 열). 우리는 SDF를 구형 지오메트리로 초기화하고 질량 밀도를 무작위로 추측합니다 (𝐷 = 1.500, 상단 행), 그리고 두 단계 방식으로 최적화합니다. 첫 번째 단계에서는 시작 프레임을 사용하여 모양과 텍스처를 최적화합니다. 두 번째 단계에서는 FlexiCubes를 사용하여 사면체 메시를 추출하고 (섹션 4.5) 차별화 가능한 물리 시뮬레이션 파이프라인을 적용하여 물리적 매개변수를 최적화합니다. 최적화된 물리적 매개변수 (𝐷 = 0.311, 중간 행)는 지상 진실 (𝐷 = 0.300, 하단 행)에 가깝습니다.

6.4 차별화 가능한 물리 시뮬레이션:

- 목표: 다중 뷰 비디오에서 3D 모양과 물리적 파라미터를 복구하기 위해 FlexiCubes와 차별화 가능한 물리 시뮬레이션 및 렌더링을 결합합니다.
- 접근 방식: FlexiCubes에서 사면체 메시를 추출한 후 GradSim에 공급하여 다양한 시간 단계에서 변형된 모양을 얻습니다.
- 결과: 최적화된 물리적 파라미터와 3D 지오메트리가 실측 데이터와 거의 일치합니다.

### 7 DISCUSSION

7.1 성능

- 개요: 플렉시큐브는 더 많은 자유도를 도입하여 런타임과 메모리 사용량을 증가시킵니다.
- 비교: FlexiCubes는 DMTet보다 느리고 메모리가 더 많이 필요하며, Marching Cubes보다 훨씬 더 많은 메모리를 필요로 합니다. 그러나 이러한 비용은 전체 계산 프로세스에 비하면 미미한 수준입니다.
- 해상도: 최대 그리드 해상도는 등서피스 추출이 아닌 렌더링 또는 신경망 평가와 같은 다른 구성 요소에 의해 결정됩니다.

7.2 제한 사항

- 자체 교차: FlexiCubes는 일반적으로 고품질 메시를 생성하지만, 자체 교차하지 않는 출력을 보장하지는 않습니다. 이는 이중 표현의 유연성 때문입니다.
- 연속성: 이 방법은 전역적으로 연속적이지 않습니다. 아이소서페이스가 그리드 정점을 교차하면 메시가 불연속적으로 변경됩니다. 그러나 확률적 최적화 설정에서는 이러한 국부적인 불연속성이 최적화를 방해하지 않습니다.

7.3 향후 작업

- 볼류메트릭 렌더링: 볼류메트릭 렌더링과 메시 기반 표현을 통합하면 경사 근사치를 개선할 수 있습니다.
- 4D 시공간 메시: 동적 지오메트리 표현 및 최적화에 잠재적인 응용 분야가 있습니다.
- 적응형 계층적 메시: 제너레이티브 모델링 애플리케이션에 통합할 수 있는 잠재력이 있습니다.
- 전반적인 잠재력: 플렉시큐브는 메시 최적화를 위한 유용한 툴임이 입증되었으며, 향후 적용 분야와 개선 사항에 대한 기대가 높습니다.

![우리는 세 가지 다른 포즈로 동일한 모델을 재구성합니다. Marching Cubes는 특징이 축에 정렬되어 있을 때 잘 작동하지만, 다른 포즈에서 계단 모양의 아티팩트를 보여줍니다. DMTet는 더욱 안정적으로 작동하지만 많은 얇은 삼각형을 생성합니다. FlexiCubes는 더 균일한 삼각형을 가지며 계단 모양의 아티팩트가 없습니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2024.png)

우리는 세 가지 다른 포즈로 동일한 모델을 재구성합니다. Marching Cubes는 특징이 축에 정렬되어 있을 때 잘 작동하지만, 다른 포즈에서 계단 모양의 아티팩트를 보여줍니다. DMTet는 더욱 안정적으로 작동하지만 많은 얇은 삼각형을 생성합니다. FlexiCubes는 더 균일한 삼각형을 가지며 계단 모양의 아티팩트가 없습니다.

![정규화 항 Ldev의 영향. Ldev가 적용된 재구성된 형태는 Ldev가 적용되지 않은 결과에 비해 덜 눈에 띄는 이음새를 가집니다.](Flexible%20Isosurface%20Extraction%20for%20Gradient-Based%20%20f2bede583dac4cef86c86bee5b1b3d22/Untitled%2025.png)

정규화 항 Ldev의 영향. Ldev가 적용된 재구성된 형태는 Ldev가 적용되지 않은 결과에 비해 덜 눈에 띄는 이음새를 가집니다.