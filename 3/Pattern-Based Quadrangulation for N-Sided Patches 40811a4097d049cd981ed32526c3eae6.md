# Pattern-Based Quadrangulation for N-Sided Patches

*이 논문에서는 사변형(표면을 4면 영역으로 나누는 과정)을 효율적으로 생성하는 새로운 알고리즘의 개발과 구현에 대해 설명합니다. 이 알고리즘은 메시 연결을 위한 OpenMesh 프레임워크와 정수 선형 프로그래밍 문제 해결을 위한 lp_solve를 사용하여 구축되었습니다. 테스트 결과, 이 접근 방식은 기존 방법보다 고품질의 결과를 더 빠르게 생성하며 다른 시스템에도 잘 통합되는 것으로 나타났습니다. 그러나 현재 알고리즘은 사전 정의된 패턴을 사용하여 가능한 사변형의 하위 집합만 처리할 수 있습니다. 향후 연구에서는 알고리즘이 처리할 수 있는 사변형의 범위를 확장하고, 기하학적 최적화 방법을 개선하며, 육면체 메시 생성에 이 접근법을 적용할 것을 제안합니다.*

[https://igl.ethz.ch/projects/patch-quad/pattern-based-quadrangulation.pdf](https://igl.ethz.ch/projects/patch-quad/pattern-based-quadrangulation.pdf)

[https://igl.ethz.ch/projects/patch-quad/](https://igl.ethz.ch/projects/patch-quad/)

[https://igl.ethz.ch/projects/patch-quad/pattern-based-quadrangulation.pptx](https://igl.ethz.ch/projects/patch-quad/pattern-based-quadrangulation.pptx)

![Untitled](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled.png)

### 1. Introduction

이 단원에서는 트라이앵글 메시를 거친 쿼드 메시로 변환하는 3D 모델링의 리토폴로지 프로세스에 대해 설명합니다. 이 과정은 영화와 비디오 게임의 많은 제작 파이프라인에서 중요한 단계입니다. 이 프로세스를 자동화하는 데 사용할 수 있는 알고리즘이 있지만 계산 비용과 시간이 많이 소요되는 글로벌 최적화 프로세스가 필요한 경우가 많습니다.

![쿼드랭귤레이션 알고리즘의 입력 및 출력 예시입니다. 파란색과 노란색으로 채워진 점은 각각 원자가 3과 5인 특이점을 을 나타냅니다. 일부 에지 루프는 녹색으로 강조 표시되어 있습니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%201.png)

쿼드랭귤레이션 알고리즘의 입력 및 출력 예시입니다. 파란색과 노란색으로 채워진 점은 각각 원자가 3과 5인 특이점을 을 나타냅니다. 일부 에지 루프는 녹색으로 강조 표시되어 있습니다.

많은 아티스트가 기본 툴을 사용하여 수동으로 리모델링하지만, 이 작업은 어렵고 상당한 시간이 소요됩니다. 이 문제를 해결하기 위해 수동 쿼드 리메싱을 위한 인터랙티브 툴이 제안되었습니다. 이 툴을 사용하면 패치 경계를 스케치하고 에지 세분 수를 지정한 다음 각 패치 내부에 쿼드 메시를 즉시 생성할 수 있습니다.

그러나 이 도구의 알고리즘은 패치의 일부 면이 여러 번 세분화되는 반면 다른 면은 전혀 세분화되지 않는 비대칭적인 경우에 종종 어려움을 겪습니다. 3면과 4면 패치를 사각형화하는 방법이 제안되었지만 고려해야 할 경우의 수가 많기 때문에 4면 이상의 패치에는 잘 일반화되지 않습니다.

이를 개선하기 위해 저자들은 2~6면의 패치를 처리할 수 있는 보다 일반적인 알고리즘을 제안합니다. 이 접근 방식은 초기 문제를 더 작고 동등한 문제로 축소하여 사례 시나리오의 수를 크게 줄입니다. 그런 다음 이 문제를 작은 정수 선형 프로그램으로 공식화할 수 있습니다. 이 새로운 알고리즘은 모든 입력에 대해 사각형을 생성할 수 있어 인터랙티브 시스템에 통합했을 때 그 유용성을 입증합니다. 이 알고리즘의 C++ 구현은 보충 자료로 제공됩니다.

### 2. Algorithm

이 연구에서는 N-sided patch를 사각형 메시로 변환하는 작업을 고려하고 있습니다. 여기서 N은 2에서 6까지의 값을 가집니다. 패치의 한 면은 연속하는 두 모서리 꼭지점 사이의 메시 경계로 정의됩니다. 내부 꼭지점의 valence는 인접한 모서리의 수로 정의되며, 모서리 경계 꼭지점의 valence는 인접한 모서리의 수에 2를 더한 값, 비 모서리 경계 꼭지점의 valence는 인접한 모서리의 수에 1을 더한 값으로 정의됩니다. Valence가 4인 꼭지점을 정규 꼭지점이라고 하며, 다른 valence를 가진 꼭지점을 불규칙 꼭지점 또는 singularity라고 합니다.

에지 플로우 또는 에지 루프는 singularity 또는 패치 경계에서 시작하여 같은 사각형에 속하지 않는 연속된 모서리 쌍을 통해 정규 꼭지점으로 이동하며, singularity 또는 패치 경계에서 끝나는 모서리의 순서입니다. 알고리즘의 입력은 각면에 대한 에지 세분화의 수 (l0, ··· , lN−1)이며, 출력은 가능한 한 적은 수의 singularity로 입력을 만족시키는 사각형 메시입니다. 이 논문에서 면 인덱스는 항상 modulo N으로 취해집니다.

3-, 4-, 5-sided 패치의 사각형화에 대한 입력 및 출력 예가 그림 2에 나와 있습니다. 주어진 에지 세분화의 수의 합이 홀수인 경우 입력을 사각형화할 수 없다는 점에 유의하세요. 이를 확인하려면 임의의 사각형 메시 패치를 고려하고 이 패치에는 F 면, Eb 경계 에지, Ei 내부 에지가 있습니다. 모든 사각형에는 네 개의 모서리가 있으며 모든 내부 모서리는 두 개의 사각형에 의해 공유되므로, 이러한 수는 4F = Eb +2Ei로 관련이 있어, Eb는 항상 짝수여야 합니다.

![우리의 쿼드란겔레이션 알고리즘의 입력과 출력 예시. 파란색과 노란색으로 채워진 점들은 각각 발렌스 3과 5를 가진 특이점을 나타냅니다. 일부 엣지 루프는 녹색으로 강조되어 있습니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%202.png)

우리의 쿼드란겔레이션 알고리즘의 입력과 출력 예시. 파란색과 노란색으로 채워진 점들은 각각 발렌스 3과 5를 가진 특이점을 나타냅니다. 일부 엣지 루프는 녹색으로 강조되어 있습니다.

따라서 이 논문에서는 ∑ N−1 i=0 li가 짝수라고 가정합니다. 이 제한을 제외하고 에지 세분화의 수 li를 임의로 변경할 수 있으며, 우리의 알고리즘은 효율적으로 해당 사각형 메시 연결성을 생성할 것입니다. 우리의 알고리즘은 메시 연결성, 즉, 위상 정보만 결정합니다. 이 논문에서 시각화를 위해 균일한 라플라시안 스무딩을 사용하여 얻은 2D 메시 꼭지점 위치 {vi}를 사용합니다. 실제 retopology 시나리오에서 이러한 2D 꼭지점 위치는 매개변수화를 사용하여 3D 표면 위치로 매핑됩니다.

2.1. 입력 줄이기

모든 가능한 입력 구성을 고려하는 것은 어려운 일입니다, 왜냐하면 N을 증가할수록 그 수는 기하급수적으로 증가하기 때문입니다. 우리의 핵심적인 발견은 이 문제를 패치를 잘라서 동등하고 더 쉬운 부분 문제로 줄일 수 있다는 것입니다. 이 작업은 우리의 알고리즘이 일반적으로 유지될 수 있도록 고려해야 할 경우의 수를 크게 줄입니다.

입력 (l0, ··· , lN−1)을 가정하면, 어떤 k에 대해 lk−1과 lk+1은 모두 1보다 큽니다. d를 min(lk−1, lk+1) - 1로 정의합시다. 그런 다음 원래 입력의 사각형화는 먼저 또 다른 작은 입력 (l00, ··· , l0N−1)의 사각형화를 달성하고, 그런 다음 결과적인 중간 사각형화의 k 번째 면에 d-by-lk 정규 그리드를 첨부함으로써 달성할 수 있습니다. 이 작업을 자르기라고 하며, 그 반대를 패딩이라고 합니다. 자르기 작업은 더 이상 자를 수 없을 때까지 반복할 수 있으며, 최대한 줄인 입력을 얻을 수 있습니다. 그림 3은 3- 및 4-면 패치에 대한 입력을 최대한 줄이는 예를 보여줍니다.

![면과 4면 패치에 대해 입력을 최대로 줄이는 예시. 각각의 축소 작업 후에, 두 쌍의 변들이 더 작은 수의 엣지 세분화를 가져옵니다, 이는 빨간색으로 표시됩니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%203.png)

면과 4면 패치에 대해 입력을 최대로 줄이는 예시. 각각의 축소 작업 후에, 두 쌍의 변들이 더 작은 수의 엣지 세분화를 가져옵니다, 이는 빨간색으로 표시됩니다.

최대한 줄인 입력은 N ≤ 6에 대해 작은 수의 경우로 분류할 수 있으며, 표 1에서 α와 β는 1보다 큰 임의의 숫자를 나타낸다는 것을 보여줍니다. 입력이 최대한 줄어들려면 모든 k에 대해 lk−1과 lk+1 중 적어도 하나는 1이어야 합니다. 경우는 회전 및 반전을 기준으로 모듈로로 분류되며, 예를 들어 (α,1,1) ≡ (1,α,1) ≡ (1,1,α)입니다. 더블렛, 즉 N = 2 인 패치는 별도로 처리됩니다 (섹션 2.6).

2.2. 위상학적 패턴

그림 4는 최대한 줄인 입력의 모든 경우를 다루는 위상학적 패턴의 완전한 세트를 보여줍니다. 일부 패턴 위에 표시된 파란색과 보라색 화살표와 관련된 기호 x와 y는 이러한 패턴의 매개변수이며, 이 위치에서 x번과 y번의 엣지 플로우를 삽입함을 나타냅니다 (x ≥ 0 및 y ≥ 0). 그림 5는 일부 패턴에 엣지 플로우를 삽입하는 예를 보여줍니다. 표 1은 어떤 가능한 최대한 줄인 입력이라도 최소한 하나의 패턴을 사용하여 사각형화할 수 있음을 보여줍니다. 예를 들어, (α,1,1) 형태의 입력을 고려하십시오. α가 짝수인 입력만 사각형화할 수 있습니다, 왜냐하면 엣지 세분화의 수의 합이 짝수여야 하기 때문입니다. 이제 두 가지 경우를 고려합니다. α = 2 인 경우에는 패턴 0을 직접 적용합니다. α = 4+2x 인 모든 다른 경우에 대해 패턴 1을 적용합니다. 우리는 유사한 방식으로 입력의 모든 다른 형태를 고려합니다. 일부 경우에는 동일한 입력에 다른 패턴을 적용할 수 있으며, 섹션 2.3 및 2.5에서 각각 최소 수의 특이점을 가진 패턴을 선택하는 방법과 사용자가 다른 실행 가능한 패턴을 선택하도록 하는 방법에 대해 논의합니다.

![최대로 줄인 입력의 모든 경우를 포함하는 완전한 토폴로지 패턴 세트. 빨간색 테두리를 가진 꼭짓점들은 패치의 모서리를 나타냅니다. 각 패치의 변에 대해 엣지 세분화의 수가 1이 아닌 경우에는 표시됩니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%204.png)

최대로 줄인 입력의 모든 경우를 포함하는 완전한 토폴로지 패턴 세트. 빨간색 테두리를 가진 꼭짓점들은 패치의 모서리를 나타냅니다. 각 패치의 변에 대해 엣지 세분화의 수가 1이 아닌 경우에는 표시됩니다.

패턴 설계 전략: 우리는 valence 3 또는 5의 최소한의 특이점이 도입되도록 패턴을 설계했습니다. 우리는 먼저 한쪽이 임의의 수의 엣지 세분화를 가지고 모든 다른 쪽은 하나의 엣지만 가지는 경우, 즉 (α,1,··· ,1)을 고려했습니다. 그런 다음 두 인접한 면이 임의의 수의 엣지 세분화를 가지고 모든 다른 면은 하나의 엣지만 가지는 경우, 즉 (α,β,1,··· ,1)을 고려했습니다. 일부 패턴은 유사한 위상학적 구조를 공유하는 것처럼 보이지만, 주어진 N에 대해 이러한 패턴을 자동으로 생성하는 방법을 아직 찾지 못했으며, [PZKW11]의 연결 편집 연산자를 사용하여 수동으로 설계했습니다.

![일부 패턴에 엣지 흐름을 삽입하는 예시.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%205.png)

일부 패턴에 엣지 흐름을 삽입하는 예시.

2.3. ILP로 표현된 패턴 선택

지금까지 우리는 입력을 최대한 줄인 다음 제안된 패턴 중 하나를 선택함으로써 임의의 엣지 세분화를 가진 N면 패치를 사각형화할 수 있음을 보여주었습니다. 그러나 그림 6에서 보여지는 것처럼 이 절차는 필요한 것보다 더 많은 특이점을 가진 불필요하게 복잡한 패턴을 선택할 수 있습니다. 최소한의 특이점을 가진 패턴을 선택하기 위해 모든 실행 가능한 패턴을 찾아서 가장 적은 특이점을 가진 것을 선택합니다.

![최대로 줄인 입력이 패턴 1의 선택으로 이어져 더 복잡한 3면 패치의 쿼드란겔레이션 예시이며, 이 패턴 1은 동일한 입력을 만족시키는 패턴 0보다 복잡합니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%206.png)

최대로 줄인 입력이 패턴 1의 선택으로 이어져 더 복잡한 3면 패치의 쿼드란겔레이션 예시이며, 이 패턴 1은 동일한 입력을 만족시키는 패턴 0보다 복잡합니다.

각 패턴이 입력 (l0, ..., lN-1)과 매개변수, 즉 i번째 쪽의 패딩 양 pi 및 엣지 플로우 삽입 수 x와 y 사이의 간단한 선형 관계를 정의한다는 것을 알 수 있습니다. 이 관계는 행렬 형태로 작성할 수 있습니다:

Ax = b, (3)

![Untitled](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%207.png)

여기서 A는 패턴의 매개변수 수(M)에 따른 N × M 행렬이고, x는 패턴의 매개변수(알려지지 않음)를 나타내는 M차원 벡터이며, b는 입력 (l0, ..., lN-1)과 패턴에 의해 결정된 N차원 벡터입니다. 중요한 요구 사항은 각 매개변수 xi ∈ x가 음이 아닌 정수여야 한다는 것입니다. 그런 다음 Eq. (3)이 음이 아닌 정수 해를 가질 경우 패턴은 실행 가능합니다. 이것은 정수 선형 프로그램(ILP)으로 표현할 수 있습니다:

![Untitled](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%208.png)

여기서 c는 우리가 최대화하려는 목적을 나타내는 M차원 벡터입니다. 이 ILP의 해가 있다는 것은 패턴이 입력에 대해 실행 가능하다는 것을 의미합니다. 변수의 수 M이 작기 때문에(우리의 경우 최대 10), 이것은 매우 빠르게 해결될 수 있습니다. 입력의 순열 버전을 고려하기 위해 입력의 모든 순열 버전에 대해 패턴이 실행 가능한지 테스트합니다. 또한 이 테스트를 각 패턴에 대해 오름차순 인덱스 순서로 순차적으로 수행하며(즉, 더 적은 특이점을 가진 패턴이 먼저 테스트됩니다), 실행 가능한 해가 찾아지면 해당 패턴, 매개변수, 순열을 사용하여 사각형화를 생성합니다. 우리의 패턴 디자인(섹션 2.2)은 이 과정 중에 적어도 하나의 해가 찾아질 것임을 보장합니다.

ILP에는 종종 N ≤ M이기 때문에 여러 해가 있습니다. 이것은 동일한 패턴에 대해 입력을 만족시키는 여러 매개변수가 있다는 것을 의미합니다. 다음 섹션에서 우리는 해 공간을 상호 작용적으로 탐색하는 방법을 보여줍니다.

2.4. 패턴 매개변수 조정

그림 8에서 보여지는 것처럼, 일부 패턴은 그림 4에서 보여진 것 외에 추가 엣지 플로우를 수용합니다. 이들은 ILP에서 추가 변수로 처리됩니다. 변수 수와 제약 조건 수 M - N의 차이는 항상 5 미만이므로, 실행 가능한 해의 공간은 최대 4차원입니다. 기본 매개변수는 패딩의 합 ∑N-1i=0 pi를 최대화함으로써 계산됩니다. 이것은 해당 변수가 패딩을 나타내면 c j = 1로 설정하고 그렇지 않으면 c j = 0으로 설정함으로써 달성됩니다. 사용자가 다른 매개변수에 대한 변경을 최소화하면서 특정 매개변수를 조정할 수 있도록, 우리는 간단한 사용자 인터페이스를 제안합니다 (그림 9 상단).

![일부 패턴에 대한 추가 엣지 흐름으로, 이는 ILP에서 추가 변수로 취급됩니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%209.png)

일부 패턴에 대한 추가 엣지 흐름으로, 이는 ILP에서 추가 변수로 취급됩니다.

![매개변수를 조정하기 위한 간단한 사용자 인터페이스. (상단) 사용자는 선택된 매개변수를 증가시키거나 감소시킬 수 있습니다. (중간 및 하단) 특정 매개변수 쌍 간의 값 교환은 토폴로지적으로 특이점을 이동시키는 것과 동일합니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2010.png)

매개변수를 조정하기 위한 간단한 사용자 인터페이스. (상단) 사용자는 선택된 매개변수를 증가시키거나 감소시킬 수 있습니다. (중간 및 하단) 특정 매개변수 쌍 간의 값 교환은 토폴로지적으로 특이점을 이동시키는 것과 동일합니다.

현재의 매개변수와 새로운 매개변수를 각각 x와 x로 표시하고, k-th 매개변수 xk를 증가시키려고 합시다. 먼저 추가 제약 조건을 지정합니다:

xk ≥ xk +1. (7)

그런 다음 목적을 개념적으로 설정합니다:

minimize ∑M-1j=0 |x j - xj|. (8)

이 형태의 목적을 ILP에서 처리하기 위해, 우리는 전통적인 방식을 따릅니다: 우리는 보조 변수 y = (y0,..., yM-1)를 도입하고 목적을 설정합니다:

minimize ∑M-1j=0 y j. (9)

그리고 추가 제약 조건을 지정합니다:

y j ≥ -(x j - xj) (10)
y j ≥ x j - x~j (11)

모든 j ∈ {0, ..., M -1}에 대해서. 이것은 ILP에서 변수의 수를 두 배로 늘리지만 여전히 작고 빠르게 해결할 수 있습니다.
추가 제약 조건 (7)으로 인해 실행 가능한 해의 공간이 비게 되면, 시스템은 사용자에게 요청된 매개변수 조정이 불가능하다고 알립니다.

그림 7에서 4면 패치에 대한 패턴 4의 계수 행렬이 두 쌍의 동일한 열을 포함하고 있음에 유의하세요: 첫 번째와 세 번째 열( p0 및 p2에 해당) 및 두 번째와 네 번째 열( p1 및 p3에 해당). 계수 행렬에서 동일한 열을 가진 이 매개변수들은 패치 경계에서 엣지 세분화 수에 동일한 방식으로 영향을 미칩니다. 그들의 합을 일정하게 유지하면서 이러한 매개변수를 조정하는 것은 특이점을 위상학적으로 변환하는 것으로 볼 수 있습니다(그림 9 중간). 마우스 드래그를 이러한 매개변수의 조정에 매핑함으로써, 우리는 특이점을 변환하기 위한 직관적인 인터페이스를 제공합니다. 그림 8에서 도입된 추가 엣지 플로우의 수, qi는 계수 행렬의 해당 열이 패딩 매개변수 pi의 그것과 동일한 방식으로 인덱싱되어, 특이점을 위상학적으로 변환하는 유사한 작업을 가능하게 합니다(그림 9 하단).

2.5. 패턴 간 전환
2.2절에서 언급했듯이, 다른 패턴들이 동일한 입력을 만족시킬 수 있습니다(그림 10 왼쪽). 또한, 다른 순열로 동일한 패턴이 동일한 입력을 만족시킬 수 있습니다(그림 10 가운데). 이러한 실행 가능한 패턴과 순열들 사이에서 전환할 수 있도록 허용함으로써 사용자에게 더 많은 유연성을 제공할 수 있습니다. 또한, 알고리즘의 일반성을 보장하기 위해 불필요하지만 사용자에게 더 많은 옵션을 제공하는 데 유용한 더 많은 패턴을 알고리즘에 추가할 수 있습니다; 예를 들어, 그림 10 오른쪽은 사용자가 선택적으로 선택할 수 있는 3면 패치용 패턴 2를 보여줍니다(타카야마 등[TPSHSH13a]에 의해 제안됨).

![전환 패턴과 순열. 다음을 수행할 수 있습니다. 사용자가 (왼쪽) 서로 다른 패턴과 (가운데) 동일한 패턴 내에서 다른 순열을 선택할 수 있습니다. (오른쪽) 우리는 알고리즘에 추가 패턴을 통합할 수도 있습니다. 알고리즘에 추가 패턴을 통합하여 사용자에게 더 많은 옵션을 제공할 수도 있습니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2011.png)

전환 패턴과 순열. 다음을 수행할 수 있습니다. 사용자가 (왼쪽) 서로 다른 패턴과 (가운데) 동일한 패턴 내에서 다른 순열을 선택할 수 있습니다. (오른쪽) 우리는 알고리즘에 추가 패턴을 통합할 수도 있습니다. 알고리즘에 추가 패턴을 통합하여 사용자에게 더 많은 옵션을 제공할 수도 있습니다.

2.6. 2면 패치

더블릿(2면 패치)에 대한 최대로 줄인 입력은 (A,1)의 형태만 가질 수 있습니다. 유효한 입력의 가정으로 인해 A는 홀수여야 합니다, 즉, A = 3 + 2x로, 이는 패턴 0에 의해 다루어집니다(참조 삽입). 패턴 0으로 처리할 수 없는 예외적인 단일 경우는 (2,2)의 입력으로, 이는 패턴 1에 의해 다루어집니다.

### 3. Results

저자들은 메쉬 연결성을 처리하기 위해 OpenMesh를 사용하고 정수 선형 프로그래밍(ILP)을 풀기 위해 lp_solve를 사용하는 알고리즘을 구현했습니다. 이 알고리즘은 복잡한 사변형(4면 도형)을 빠르고 효율적으로 생성할 수 있으며, 인텔 코어 i7 2.67GHz CPU에서 약 30밀리초의 계산 시간이 소요됩니다.

이 알고리즘으로 생성된 사변형의 몇 가지 예가 그림 1에 나와 있습니다. 또한 저자들은 이 알고리즘을 타카야마 교수의 시스템에서 사용하여 곰과 휴머노이드 모델의 모델링 시간을 각각 70분과 40분으로 단축하여 기존의 수동 레토폴로지 도구보다 훨씬 빠르게 단축하는 것을 시연했습니다.

저자들은 Yasseen 등의 이전 결과와 비교한 결과, 그들의 알고리즘이 메시에서 특이점 또는 고유한 점의 수가 더 적거나 레이아웃이 다른 동일한 수를 생성한다는 사실을 발견했습니다. 또한 이 알고리즘은 에지 세분화에 대한 입력 숫자의 홀수 합계와 같은 유효하지 않은 입력을 이전 알고리즘보다 더 잘 처리합니다.

![Yasseen 등의 결과 [YNB∗ 13] (상단 행)와 우리의 결과 (하단 행) 사이의 비교.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2012.png)

Yasseen 등의 결과 [YNB∗ 13] (상단 행)와 우리의 결과 (하단 행) 사이의 비교.

이 알고리즘의 고유한 특징 중 하나는 알려진 수의 특이점을 가진 사각형을 생성할 수 있다는 점인데, 이는 이전 알고리즘에서는 제공되지 않았던 보장입니다. 또한 패치 경계에 특이점을 허용하므로 다른 애플리케이션에서는 문제가 될 수 있지만 스케치 기반 쿼드 메시의 주요 애플리케이션에 유용합니다.

### 4. Limitations and future work

작성자의 방법은 현재 사전 정의된 패턴을 사용하기 때문에 가능한 사변형의 하위 집합만 생성합니다. 사용자가 이러한 패턴으로 표현할 수 없는 사각형을 원할 경우 다각형을 수동으로 조정해야 합니다. 개발팀은 더 복잡한 패턴으로 솔루션 공간을 확장하는 것을 향후 과제로 고려하고 있습니다.

![Untitled](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2013.png)

면이 7개 이상인 경우의 해결도 향후 작업으로 계획하고 있습니다. 세 면에 여러 개의 에지 세분화가 있는 경우 패턴 설계가 복잡해지고 필요한 패턴의 수가 증가할 수 있습니다. 저자들은 아직 이러한 경우의 패턴을 수동으로 디자인하려고 시도하지 않았는데, 이는 실질적으로 관련이 없어 보였기 때문입니다.

정교한 기하학적 최적화를 통해 알고리즘의 사용성을 향상시킬 수 있습니다. 예를 들어, 구현에 사용된 균일한 라플라스 평활화는 볼록하지 않은 모양에 문제를 일으킬 수 있는데, 이는 최근의 비쥬얼 매핑 기법을 사용하면 해결할 수 있습니다. 리토폴로지화되는 3D 형상의 기하학적 특징을 고려하면 결과 쿼드 메시의 품질도 향상될 수 있습니다.

마지막으로 저자는 유한 요소 해석에 특히 유용한 육면체 메시 생성에 대한 접근 방식을 일반화하는 데 관심을 표명했습니다. 여기에는 모델의 볼륨을 일련의 체적 패치로 분해하고 각 패치에 대한 에지 세분 수를 지정하는 작업이 포함될 수 있습니다. 그들은 가능한 모든 구성을 포괄하는 완전한 토폴로지 패턴 집합을 찾는 것이 어려운 작업이라는 것을 인정합니다.

- 알고리즘
    
    ![에지 세분화의 입력 번호의 합은 짝수여야 합니다. 이는 패치의 면 수와 에지 수 사이의 간단한 관계로 인한 이론적 요구 사항입니다, 이 요구 사항이 충족되지 않으면 순수한 쿼드 메시를 생성할 수 있는 방법이 전혀 없습니다, 그리고 패치 경계에 특이점이 존재할 수 있도록 허용합니다. 따라서 패치 경계에 있는 버텍스의 고유 값도 그에 따라 계산됩니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2014.png)
    
    에지 세분화의 입력 번호의 합은 짝수여야 합니다. 이는 패치의 면 수와 에지 수 사이의 간단한 관계로 인한 이론적 요구 사항입니다, 이 요구 사항이 충족되지 않으면 순수한 쿼드 메시를 생성할 수 있는 방법이 전혀 없습니다, 그리고 패치 경계에 특이점이 존재할 수 있도록 허용합니다. 따라서 패치 경계에 있는 버텍스의 고유 값도 그에 따라 계산됩니다.
    
    ![Reducing the problem by trimming](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2015.png)
    
    Reducing the problem by trimming
    
    ![Untitled](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2016.png)
    
    ![흥미롭게도 삼각형 패치의 최대 감소 문제는 항상 다음과 같은 일반적인 형태를 취한다는 것이 밝혀졌습니다. 여기서 두 변은 하나의 가장자리만 있고 다른 변은 알파로 표시되는 임의의 수의 가장자리를 갖습니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2017.png)
    
    흥미롭게도 삼각형 패치의 최대 감소 문제는 항상 다음과 같은 일반적인 형태를 취한다는 것이 밝혀졌습니다. 여기서 두 변은 하나의 가장자리만 있고 다른 변은 알파로 표시되는 임의의 수의 가장자리를 갖습니다.
    
    ![x=0이면 삽입된 에지 루프가 없으며 아래쪽 에지 수는 4입니다. x=1 또는 x=2인 경우, 해당 에지 수가 삽입되고 그에 따라 아래쪽 에지 수가 결정됩니다. 일반적으로 아래쪽 가장자리의 수는 4+2x로 간단히 표현됩니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2018.png)
    
    x=0이면 삽입된 에지 루프가 없으며 아래쪽 에지 수는 4입니다. x=1 또는 x=2인 경우, 해당 에지 수가 삽입되고 그에 따라 아래쪽 에지 수가 결정됩니다. 일반적으로 아래쪽 가장자리의 수는 4+2x로 간단히 표현됩니다.
    
    ![먼저, 경계에 있는 에지 분할 수의 합이 짝수여야 하므로 알파가 짝수여야 한다는 점에 유의해야 합니다. 그런 다음 두 가지 경우를 생각해 볼 수 있습니다. 하나는 알파가 2인 특수한 경우입니다. 이 경우 이미 쿼드이므로 아무것도 할 필요가 없습니다. 다른 모든 경우에서 알파는 4+2x로 표현할 수 있습니다, 이전 슬라이드에 표시된 패턴과 정확히 일치합니다.](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2019.png)
    
    먼저, 경계에 있는 에지 분할 수의 합이 짝수여야 하므로 알파가 짝수여야 한다는 점에 유의해야 합니다. 그런 다음 두 가지 경우를 생각해 볼 수 있습니다. 하나는 알파가 2인 특수한 경우입니다. 이 경우 이미 쿼드이므로 아무것도 할 필요가 없습니다. 다른 모든 경우에서 알파는 4+2x로 표현할 수 있습니다, 이전 슬라이드에 표시된 패턴과 정확히 일치합니다.
    
    ![케이스](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2020.png)
    
    케이스
    
    ![앞서 언급했듯이 일반적으로 패치를 트리밍하는 방법에는 여러 가지가 있습니다, 패치를 트림하는 방법에 따라 특이점 수가 다른 다양한 사각형을 얻게 됩니다. 이 예시에서는 일반적으로 특이점이 하나만 있는 하단에 있는 것을 선호합니다. (적은 특이점)](Pattern-Based%20Quadrangulation%20for%20N-Sided%20Patches%2040811a4097d049cd981ed32526c3eae6/Untitled%2021.png)
    
    앞서 언급했듯이 일반적으로 패치를 트리밍하는 방법에는 여러 가지가 있습니다, 패치를 트림하는 방법에 따라 특이점 수가 다른 다양한 사각형을 얻게 됩니다. 이 예시에서는 일반적으로 특이점이 하나만 있는 하단에 있는 것을 선호합니다. (적은 특이점)
    
- 라플라시안 스무딩
    
    라플라시안 스무딩은 계산 기하학에서 널리 사용되는 기법으로, 메시의 품질을 개선하는 데 자주 사용됩니다. 인접 정점의 위치에 따라 정점의 위치를 조정하여 각 정점을 이웃 정점 위치의 평균(또는 가중 평균)으로 이동시키는 방식으로 작동합니다. 이렇게 하면 메시를 더 매끄럽고 균일하게 만들 수 있습니다.
    
    하지만 이 기법은 메시가 표현하고자 하는 3D 오브젝트의 기본 지오메트리를 고려하지 않으므로 신중하게 사용해야 합니다. 특히 볼록하지 않은 모양이나 날카로운 특징이 있는 모양에서는 스무딩으로 인해 면이 "뒤집어지거나" 디테일이 손실될 수 있으므로 문제가 발생할 수 있습니다. 따라서 고급 기법에서는 제약 또는 특징 보존 라플라시안 스무딩을 사용하는 경우가 많습니다.
    
    메시의 토폴로지를 생성한 후(즉, 정점이 에지와 면으로 연결되는 방식을 결정한 후) 라플라스 평활화를 적용하여 정점 위치를 세분화하고 메시의 기하학적 품질을 개선할 수 있습니다. 이는 균일성과 부드러움이 바람직한 특성인 사변형 메시에서 특히 유용할 수 있습니다.